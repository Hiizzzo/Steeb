var MV=Object.defineProperty;var WT=t=>{throw TypeError(t)};var PV=(t,e,n)=>e in t?MV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>PV(t,typeof e!="symbol"?e+"":e,n),Ny=(t,e,n)=>e.has(t)||WT("Cannot "+n);var H=(t,e,n)=>(Ny(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>e.has(t)?WT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),De=(t,e,n,r)=>(Ny(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),In=(t,e,n)=>(Ny(t,e,"access private method"),n);var Ch=(t,e,n,r)=>({set _(s){De(t,e,s,n)},get _(){return H(t,e,r)}});function OV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JR={exports:{}},Zp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jV=Symbol.for("react.transitional.element"),LV=Symbol.for("react.fragment");function eD(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:jV,type:t,key:r,ref:e!==void 0?e:null,props:n}}Zp.Fragment=LV;Zp.jsx=eD;Zp.jsxs=eD;JR.exports=Zp;var m=JR.exports,tD={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=Symbol.for("react.transitional.element"),VV=Symbol.for("react.portal"),UV=Symbol.for("react.fragment"),FV=Symbol.for("react.strict_mode"),BV=Symbol.for("react.profiler"),zV=Symbol.for("react.consumer"),$V=Symbol.for("react.context"),HV=Symbol.for("react.forward_ref"),qV=Symbol.for("react.suspense"),GV=Symbol.for("react.memo"),nD=Symbol.for("react.lazy"),YT=Symbol.iterator;function WV(t){return t===null||typeof t!="object"?null:(t=YT&&t[YT]||t["@@iterator"],typeof t=="function"?t:null)}var rD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sD=Object.assign,iD={};function Kc(t,e,n){this.props=t,this.context=e,this.refs=iD,this.updater=n||rD}Kc.prototype.isReactComponent={};Kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aD(){}aD.prototype=Kc.prototype;function qw(t,e,n){this.props=t,this.context=e,this.refs=iD,this.updater=n||rD}var Gw=qw.prototype=new aD;Gw.constructor=qw;sD(Gw,Kc.prototype);Gw.isPureReactComponent=!0;var KT=Array.isArray,Pt={H:null,A:null,T:null,S:null,V:null},oD=Object.prototype.hasOwnProperty;function Ww(t,e,n,r,s,i){return n=i.ref,{$$typeof:Hw,type:t,key:e,ref:n!==void 0?n:null,props:i}}function YV(t,e){return Ww(t.type,e,void 0,void 0,void 0,t.props)}function Yw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hw}function KV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QT=/\/+/g;function Iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KV(""+t.key):e.toString(36)}function XT(){}function QV(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(XT,XT):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function El(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Hw:case VV:a=!0;break;case nD:return a=t._init,El(a(t._payload),e,n,r,s)}}if(a)return s=s(t),a=r===""?"."+Iy(t,0):r,KT(s)?(n="",a!=null&&(n=a.replace(QT,"$&/")+"/"),El(s,e,n,"",function(c){return c})):s!=null&&(Yw(s)&&(s=YV(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(QT,"$&/")+"/")+a)),e.push(s)),1;a=0;var o=r===""?".":r+":";if(KT(t))for(var l=0;l<t.length;l++)r=t[l],i=o+Iy(r,l),a+=El(r,e,n,i,s);else if(l=WV(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=o+Iy(r,l++),a+=El(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return El(QV(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Rh(t,e,n){if(t==null)return t;var r=[],s=0;return El(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ZT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ZV(){}Ue.Children={map:Rh,forEach:function(t,e,n){Rh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rh(t,function(){e++}),e},toArray:function(t){return Rh(t,function(e){return e})||[]},only:function(t){if(!Yw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Kc;Ue.Fragment=UV;Ue.Profiler=BV;Ue.PureComponent=qw;Ue.StrictMode=FV;Ue.Suspense=qV;Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt;Ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pt.H.useMemoCache(t)}};Ue.cache=function(t){return function(){return t.apply(null,arguments)}};Ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=sD({},t.props),s=t.key,i=void 0;if(e!=null)for(a in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!oD.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return Ww(t.type,s,void 0,void 0,i,r)};Ue.createContext=function(t){return t={$$typeof:$V,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:zV,_context:t},t};Ue.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)oD.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return Ww(t,i,void 0,void 0,null,s)};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:HV,render:t}};Ue.isValidElement=Yw;Ue.lazy=function(t){return{$$typeof:nD,_payload:{_status:-1,_result:t},_init:XV}};Ue.memo=function(t,e){return{$$typeof:GV,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Pt.T,n={};Pt.T=n;try{var r=t(),s=Pt.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ZV,ZT)}catch(i){ZT(i)}finally{Pt.T=e}};Ue.unstable_useCacheRefresh=function(){return Pt.H.useCacheRefresh()};Ue.use=function(t){return Pt.H.use(t)};Ue.useActionState=function(t,e,n){return Pt.H.useActionState(t,e,n)};Ue.useCallback=function(t,e){return Pt.H.useCallback(t,e)};Ue.useContext=function(t){return Pt.H.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t,e){return Pt.H.useDeferredValue(t,e)};Ue.useEffect=function(t,e,n){var r=Pt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Ue.useId=function(){return Pt.H.useId()};Ue.useImperativeHandle=function(t,e,n){return Pt.H.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Pt.H.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Pt.H.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Pt.H.useMemo(t,e)};Ue.useOptimistic=function(t,e){return Pt.H.useOptimistic(t,e)};Ue.useReducer=function(t,e,n){return Pt.H.useReducer(t,e,n)};Ue.useRef=function(t){return Pt.H.useRef(t)};Ue.useState=function(t){return Pt.H.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Pt.H.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Pt.H.useTransition()};Ue.version="19.1.0";tD.exports=Ue;var y=tD.exports;const Z=$w(y),lD=OV({__proto__:null,default:Z},[y]);var cD={exports:{}},Jp={},uD={exports:{}},dD={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,U){var j=L.length;L.push(U);e:for(;0<j;){var K=j-1>>>1,Q=L[K];if(0<s(Q,U))L[K]=U,L[j]=Q,j=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],j=L.pop();if(j!==U){L[0]=j;e:for(var K=0,Q=L.length,pe=Q>>>1;K<pe;){var ae=2*(K+1)-1,re=L[ae],de=ae+1,se=L[de];if(0>s(re,j))de<Q&&0>s(se,re)?(L[K]=se,L[de]=j,K=de):(L[K]=re,L[ae]=j,K=ae);else if(de<Q&&0>s(se,j))L[K]=se,L[de]=j,K=de;else break e}}return U}function s(L,U){var j=L.sortIndex-U.sortIndex;return j!==0?j:L.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,S=!1,b=!1,T=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=L)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function C(L){if(b=!1,D(L),!S)if(n(l)!==null)S=!0,P||(P=!0,I());else{var U=n(c);U!==null&&z(C,U.startTime-L)}}var P=!1,A=-1,E=5,_=-1;function R(){return T?!0:!(t.unstable_now()-_<E)}function N(){if(T=!1,P){var L=t.unstable_now();_=L;var U=!0;try{e:{S=!1,b&&(b=!1,g(A),A=-1),p=!0;var j=h;try{t:{for(D(L),d=n(l);d!==null&&!(d.expirationTime>L&&R());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var Q=K(d.expirationTime<=L);if(L=t.unstable_now(),typeof Q=="function"){d.callback=Q,D(L),U=!0;break t}d===n(l)&&r(l),D(L)}else r(l);d=n(l)}if(d!==null)U=!0;else{var pe=n(c);pe!==null&&z(C,pe.startTime-L),U=!1}}break e}finally{d=null,h=j,p=!1}U=void 0}}finally{U?I():P=!1}}}var I;if(typeof x=="function")I=function(){x(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,V=M.port2;M.port1.onmessage=N,I=function(){V.postMessage(null)}}else I=function(){v(N,0)};function z(L,U){A=v(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var j=h;h=U;try{return L()}finally{h=j}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=h;h=L;try{return U()}finally{h=j}},t.unstable_scheduleCallback=function(L,U,j){var K=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=j+Q,L={id:u++,callback:U,priorityLevel:L,startTime:j,expirationTime:Q,sortIndex:-1},j>K?(L.sortIndex=j,e(c,L),n(l)===null&&L===n(c)&&(b?(g(A),A=-1):b=!0,z(C,j-K))):(L.sortIndex=Q,e(l,L),S||p||(S=!0,P||(P=!0,I()))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var U=h;return function(){var j=h;h=U;try{return L.apply(this,arguments)}finally{h=j}}}})(dD);uD.exports=dD;var JV=uD.exports,fD={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=y;function hD(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Hi(){}var Yn={d:{f:Hi,r:function(){throw Error(hD(522))},D:Hi,C:Hi,L:Hi,m:Hi,X:Hi,S:Hi,M:Hi},p:0,findDOMNode:null},t3=Symbol.for("react.portal");function n3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t3,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var od=e3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function eg(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yn;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(hD(299));return n3(t,e,null,n)};Zn.flushSync=function(t){var e=od.T,n=Yn.p;try{if(od.T=null,Yn.p=2,t)return t()}finally{od.T=e,Yn.p=n,Yn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Yn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&Yn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=eg(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Yn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):n==="script"&&Yn.d.X(t,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=eg(e.as,e.crossOrigin);Yn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Yn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=eg(n,e.crossOrigin);Yn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=eg(e.as,e.crossOrigin);Yn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Yn.d.m(t)};Zn.requestFormReset=function(t){Yn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,n){return od.H.useFormState(t,e,n)};Zn.useFormStatus=function(){return od.H.useHostTransitionStatus()};Zn.version="19.1.0";function mD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mD)}catch(t){console.error(t)}}mD(),fD.exports=Zn;var tg=fD.exports;const r3=$w(tg);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fn=JV,pD=y,s3=tg;function Y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JT(t){if(Af(t)!==t)throw Error(Y(188))}function i3(t){var e=t.alternate;if(!e){if(e=Af(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return JT(s),t;if(i===r)return JT(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function vD(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=vD(t),e!==null)return e;t=t.sibling}return null}var Dt=Object.assign,a3=Symbol.for("react.element"),Dh=Symbol.for("react.transitional.element"),Wu=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),bD=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),o3=Symbol.for("react.provider"),wD=Symbol.for("react.consumer"),ri=Symbol.for("react.context"),Kw=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Cv=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),Rv=Symbol.for("react.activity"),l3=Symbol.for("react.memo_cache_sentinel"),e_=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var c3=Symbol.for("react.client.reference");function Dv(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===c3?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ml:return"Fragment";case Av:return"Profiler";case bD:return"StrictMode";case kv:return"Suspense";case Cv:return"SuspenseList";case Rv:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Wu:return"Portal";case ri:return(t.displayName||"Context")+".Provider";case wD:return(t._context.displayName||"Context")+".Consumer";case Kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:Dv(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return Dv(t(e))}catch{}}return null}var Yu=Array.isArray,Ae=pD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=s3.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Po={pending:!1,data:null,method:null,action:null},Nv=[],Pl=-1;function Vs(t){return{current:t}}function En(t){0>Pl||(t.current=Nv[Pl],Nv[Pl]=null,Pl--)}function Ot(t,e){Pl++,Nv[Pl]=t.current,t.current=e}var Es=Vs(null),Od=Vs(null),ba=Vs(null),Gm=Vs(null);function Wm(t,e){switch(Ot(ba,e),Ot(Od,t),Ot(Es,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?i1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=i1(e),t=L2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}En(Es),Ot(Es,t)}function wc(){En(Es),En(Od),En(ba)}function Iv(t){t.memoizedState!==null&&Ot(Gm,t);var e=Es.current,n=L2(e,t.type);e!==n&&(Ot(Od,t),Ot(Es,n))}function Ym(t){Od.current===t&&(En(Es),En(Od)),Gm.current===t&&(En(Gm),qd._currentValue=Po)}var Mv=Object.prototype.hasOwnProperty,Xw=fn.unstable_scheduleCallback,My=fn.unstable_cancelCallback,u3=fn.unstable_shouldYield,d3=fn.unstable_requestPaint,Ss=fn.unstable_now,f3=fn.unstable_getCurrentPriorityLevel,xD=fn.unstable_ImmediatePriority,ED=fn.unstable_UserBlockingPriority,Km=fn.unstable_NormalPriority,h3=fn.unstable_LowPriority,SD=fn.unstable_IdlePriority,m3=fn.log,p3=fn.unstable_setDisableYieldValue,kf=null,vr=null;function ha(t){if(typeof m3=="function"&&p3(t),vr&&typeof vr.setStrictMode=="function")try{vr.setStrictMode(kf,t)}catch{}}var br=Math.clz32?Math.clz32:v3,g3=Math.log,y3=Math.LN2;function v3(t){return t>>>=0,t===0?32:31-(g3(t)/y3|0)|0}var Nh=256,Ih=4194304;function fo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ng(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?s=fo(r):(a&=o,a!==0?s=fo(a):n||(n=o&~t,n!==0&&(s=fo(n))))):(o=r&~i,o!==0?s=fo(o):a!==0?s=fo(a):n||(n=r&~t,n!==0&&(s=fo(n)))),s===0?0:e!==0&&e!==s&&!(e&i)&&(i=s&-s,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:s}function Cf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function b3(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TD(){var t=Nh;return Nh<<=1,!(Nh&4194048)&&(Nh=256),t}function _D(){var t=Ih;return Ih<<=1,!(Ih&62914560)&&(Ih=4194304),t}function Py(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function w3(t,e,n,r,s,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var u=31-br(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&AD(t,r,0),i!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function AD(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-br(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function kD(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}function Zw(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jw(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function CD(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:W2(t.type))}function x3(t,e){var n=it.p;try{return it.p=t,e()}finally{it.p=n}}var Ka=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Ka,ar="__reactProps$"+Ka,Qc="__reactContainer$"+Ka,Pv="__reactEvents$"+Ka,E3="__reactListeners$"+Ka,S3="__reactHandles$"+Ka,t_="__reactResources$"+Ka,Df="__reactMarker$"+Ka;function ex(t){delete t[Fn],delete t[ar],delete t[Pv],delete t[E3],delete t[S3]}function Ol(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qc]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l1(t);t!==null;){if(n=t[Fn])return n;t=l1(t)}return e}t=n,n=t.parentNode}return null}function Xc(t){if(t=t[Fn]||t[Qc]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ku(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Y(33))}function Zl(t){var e=t[t_];return e||(e=t[t_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function wn(t){t[Df]=!0}var RD=new Set,DD={};function rl(t,e){xc(t,e),xc(t+"Capture",e)}function xc(t,e){for(DD[t]=e,t=0;t<e.length;t++)RD.add(e[t])}var T3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n_={},r_={};function _3(t){return Mv.call(r_,t)?!0:Mv.call(n_,t)?!1:T3.test(t)?r_[t]=!0:(n_[t]=!0,!1)}function fm(t,e,n){if(_3(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Mh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function qs(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Oy,s_;function Sl(t){if(Oy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oy=e&&e[1]||"",s_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oy+t+s_}var jy=!1;function Ly(t,e){if(!t||jy)return"";jy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var h=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){h=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){h=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(r!==1||s!==1)do if(r--,s--,0>s||l[r]!==c[s]){var u=`
`+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=s);break}}}finally{jy=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Sl(n):""}function A3(t){switch(t.tag){case 26:case 27:case 5:return Sl(t.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 15:return Ly(t.type,!1);case 11:return Ly(t.type.render,!1);case 1:return Ly(t.type,!0);case 31:return Sl("Activity");default:return""}}function i_(t){try{var e="";do e+=A3(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Pr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ND(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k3(t){var e=ND(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qm(t){t._valueTracker||(t._valueTracker=k3(t))}function ID(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ND(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var C3=/[\n"\\]/g;function Lr(t){return t.replace(C3,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ov(t,e,n,r,s,i,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pr(e)):t.value!==""+Pr(e)&&(t.value=""+Pr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?jv(t,a,Pr(e)):n!=null?jv(t,a,Pr(n)):r!=null&&t.removeAttribute("value"),s==null&&i!=null&&(t.defaultChecked=!!i),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Pr(o):t.removeAttribute("name")}function MD(t,e,n,r,s,i,a,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Pr(n):"",e=e!=null?""+Pr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function jv(t,e,n){e==="number"&&Xm(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Jl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function PD(t,e,n){if(e!=null&&(e=""+Pr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Pr(n):""}function OD(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Y(92));if(Yu(r)){if(1<r.length)throw Error(Y(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Pr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var R3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||R3.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function jD(t,e,n){if(e!=null&&typeof e!="object")throw Error(Y(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&n[s]!==r&&a_(t,s,r)}else for(var i in e)e.hasOwnProperty(i)&&a_(t,i,e[i])}function tx(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hm(t){return N3.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Lv=null;function nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jl=null,ec=null;function o_(t){var e=Xc(t);if(e&&(t=e.stateNode)){var n=t[ar]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ov(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=r[ar]||null;if(!s)throw Error(Y(90));Ov(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&ID(r)}break e;case"textarea":PD(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Jl(t,!!n.multiple,e,!1)}}}var Vy=!1;function LD(t,e,n){if(Vy)return t(e,n);Vy=!0;try{var r=t(e);return r}finally{if(Vy=!1,(jl!==null||ec!==null)&&(fg(),jl&&(e=jl,t=ec,ec=jl=null,o_(e),t)))for(e=0;e<t.length;e++)o_(t[e])}}function jd(t,e){var n=t.stateNode;if(n===null)return null;var r=n[ar]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vv=!1;if(wi)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){Vv=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Vv=!1}var ma=null,rx=null,mm=null;function VD(){if(mm)return mm;var t,e=rx,n=e.length,r,s="value"in ma?ma.value:ma.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return mm=s.slice(t,1<r?1-r:void 0)}function pm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function l_(){return!1}function or(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ph:l_,this.isPropagationStopped=l_,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=or(sl),Nf=Dt({},sl,{view:0,detail:0}),I3=or(Nf),Uy,Fy,Mu,sg=Dt({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mu&&(Mu&&t.type==="mousemove"?(Uy=t.screenX-Mu.screenX,Fy=t.screenY-Mu.screenY):Fy=Uy=0,Mu=t),Uy)},movementY:function(t){return"movementY"in t?t.movementY:Fy}}),c_=or(sg),M3=Dt({},sg,{dataTransfer:0}),P3=or(M3),O3=Dt({},Nf,{relatedTarget:0}),By=or(O3),j3=Dt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),L3=or(j3),V3=Dt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U3=or(V3),F3=Dt({},sl,{data:0}),u_=or(F3),B3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$3[t])?!!e[t]:!1}function sx(){return H3}var q3=Dt({},Nf,{key:function(t){if(t.key){var e=B3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sx,charCode:function(t){return t.type==="keypress"?pm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G3=or(q3),W3=Dt({},sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d_=or(W3),Y3=Dt({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sx}),K3=or(Y3),Q3=Dt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),X3=or(Q3),Z3=Dt({},sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J3=or(Z3),e6=Dt({},sl,{newState:0,oldState:0}),t6=or(e6),n6=[9,13,27,32],ix=wi&&"CompositionEvent"in window,ld=null;wi&&"documentMode"in document&&(ld=document.documentMode);var r6=wi&&"TextEvent"in window&&!ld,UD=wi&&(!ix||ld&&8<ld&&11>=ld),f_=" ",h_=!1;function FD(t,e){switch(t){case"keyup":return n6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ll=!1;function s6(t,e){switch(t){case"compositionend":return BD(e);case"keypress":return e.which!==32?null:(h_=!0,f_);case"textInput":return t=e.data,t===f_&&h_?null:t;default:return null}}function i6(t,e){if(Ll)return t==="compositionend"||!ix&&FD(t,e)?(t=VD(),mm=rx=ma=null,Ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UD&&e.locale!=="ko"?null:e.data;default:return null}}var a6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a6[t.type]:e==="textarea"}function zD(t,e,n,r){jl?ec?ec.push(r):ec=[r]:jl=r,e=pp(e,"onChange"),0<e.length&&(n=new rg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cd=null,Ld=null;function o6(t){P2(t,0)}function ig(t){var e=Ku(t);if(ID(e))return t}function p_(t,e){if(t==="change")return e}var $D=!1;if(wi){var zy;if(wi){var $y="oninput"in document;if(!$y){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),$y=typeof g_.oninput=="function"}zy=$y}else zy=!1;$D=zy&&(!document.documentMode||9<document.documentMode)}function y_(){cd&&(cd.detachEvent("onpropertychange",HD),Ld=cd=null)}function HD(t){if(t.propertyName==="value"&&ig(Ld)){var e=[];zD(e,Ld,t,nx(t)),LD(o6,e)}}function l6(t,e,n){t==="focusin"?(y_(),cd=e,Ld=n,cd.attachEvent("onpropertychange",HD)):t==="focusout"&&y_()}function c6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ig(Ld)}function u6(t,e){if(t==="click")return ig(e)}function d6(t,e){if(t==="input"||t==="change")return ig(e)}function f6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:f6;function Vd(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mv.call(e,s)||!Tr(t[s],e[s]))return!1}return!0}function v_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var n=v_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v_(n)}}function qD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GD(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Xm(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xm(t.document)}return e}function ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var h6=wi&&"documentMode"in document&&11>=document.documentMode,Vl=null,Uv=null,ud=null,Fv=!1;function w_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fv||Vl==null||Vl!==Xm(r)||(r=Vl,"selectionStart"in r&&ax(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Vd(ud,r)||(ud=r,r=pp(Uv,"onSelect"),0<r.length&&(e=new rg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vl)))}function lo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ul={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Hy={},WD={};wi&&(WD=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function il(t){if(Hy[t])return Hy[t];if(!Ul[t])return t;var e=Ul[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WD)return Hy[t]=e[n];return t}var YD=il("animationend"),KD=il("animationiteration"),QD=il("animationstart"),m6=il("transitionrun"),p6=il("transitionstart"),g6=il("transitioncancel"),XD=il("transitionend"),ZD=new Map,Bv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bv.push("scrollEnd");function is(t,e){ZD.set(t,e),rl(e,[t])}var x_=new WeakMap;function Vr(t,e){if(typeof t=="object"&&t!==null){var n=x_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:i_(e)},x_.set(t,e),e)}return{value:t,source:e,stack:i_(e)}}var Mr=[],Fl=0,ox=0;function ag(){for(var t=Fl,e=ox=Fl=0;e<t;){var n=Mr[e];Mr[e++]=null;var r=Mr[e];Mr[e++]=null;var s=Mr[e];Mr[e++]=null;var i=Mr[e];if(Mr[e++]=null,r!==null&&s!==null){var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}i!==0&&JD(n,s,i)}}function og(t,e,n,r){Mr[Fl++]=t,Mr[Fl++]=e,Mr[Fl++]=n,Mr[Fl++]=r,ox|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function lx(t,e,n,r){return og(t,e,n,r),Zm(t)}function Zc(t,e){return og(t,null,null,e),Zm(t)}function JD(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var s=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(s=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,s&&e!==null&&(s=31-br(n),t=i.hiddenUpdates,r=t[s],r===null?t[s]=[e]:r.push(e),e.lane=n|536870912),i):null}function Zm(t){if(50<wd)throw wd=0,lb=null,Error(Y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Bl={};function y6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new y6(t,e,n,r)}function cx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function eN(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gm(t,e,n,r,s,i){var a=0;if(r=t,typeof t=="function")cx(t)&&(a=1);else if(typeof t=="string")a=b5(t,n,Es.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Rv:return t=pr(31,n,e,s),t.elementType=Rv,t.lanes=i,t;case Ml:return Oo(n.children,s,i,e);case bD:a=8,s|=24;break;case Av:return t=pr(12,n,e,s|2),t.elementType=Av,t.lanes=i,t;case kv:return t=pr(13,n,e,s),t.elementType=kv,t.lanes=i,t;case Cv:return t=pr(19,n,e,s),t.elementType=Cv,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o3:case ri:a=10;break e;case wD:a=9;break e;case Kw:a=11;break e;case Qw:a=14;break e;case ea:a=16,r=null;break e}a=29,n=Error(Y(130,t===null?"null":typeof t,"")),r=null}return e=pr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oo(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function qy(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function Gy(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var zl=[],$l=0,Jm=null,ep=0,Or=[],jr=0,jo=null,si=1,ii="";function ho(t,e){zl[$l++]=ep,zl[$l++]=Jm,Jm=t,ep=e}function tN(t,e,n){Or[jr++]=si,Or[jr++]=ii,Or[jr++]=jo,jo=t;var r=si;t=ii;var s=32-br(r)-1;r&=~(1<<s),n+=1;var i=32-br(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,si=1<<32-br(e)+s|n<<s|r,ii=i+t}else si=1<<i|n<<s|r,ii=t}function ux(t){t.return!==null&&(ho(t,1),tN(t,1,0))}function dx(t){for(;t===Jm;)Jm=zl[--$l],zl[$l]=null,ep=zl[--$l],zl[$l]=null;for(;t===jo;)jo=Or[--jr],Or[jr]=null,ii=Or[--jr],Or[jr]=null,si=Or[--jr],Or[jr]=null}var Wn=null,Ht=null,st=!1,Lo=null,ys=!1,zv=Error(Y(519));function Wo(t){var e=Error(Y(418,""));throw Ud(Vr(e,t)),zv}function E_(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Fn]=t,e[ar]=r,n){case"dialog":$e("cancel",e),$e("close",e);break;case"iframe":case"object":case"embed":$e("load",e);break;case"video":case"audio":for(n=0;n<zd.length;n++)$e(zd[n],e);break;case"source":$e("error",e);break;case"img":case"image":case"link":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"input":$e("invalid",e),MD(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Qm(e);break;case"select":$e("invalid",e);break;case"textarea":$e("invalid",e),OD(e,r.value,r.defaultValue,r.children),Qm(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||j2(e.textContent,n)?(r.popover!=null&&($e("beforetoggle",e),$e("toggle",e)),r.onScroll!=null&&$e("scroll",e),r.onScrollEnd!=null&&$e("scrollend",e),r.onClick!=null&&(e.onclick=pg),e=!0):e=!1,e||Wo(t)}function S_(t){for(Wn=t.return;Wn;)switch(Wn.tag){case 5:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:Wn=Wn.return}}function Pu(t){if(t!==Wn)return!1;if(!st)return S_(t),st=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||mb(t.type,t.memoizedProps)),n=!n),n&&Ht&&Wo(t),S_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ht=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ht=null}}else e===27?(e=Ht,Qa(t.type)?(t=yb,yb=null,Ht=t):Ht=e):Ht=Wn?Zr(t.stateNode.nextSibling):null;return!0}function If(){Ht=Wn=null,st=!1}function T_(){var t=Lo;return t!==null&&(tr===null?tr=t:tr.push.apply(tr,t),Lo=null),t}function Ud(t){Lo===null?Lo=[t]:Lo.push(t)}var $v=Vs(null),al=null,ai=null;function ra(t,e,n){Ot($v,e._currentValue),e._currentValue=n}function mi(t){t._currentValue=$v.current,En($v)}function Hv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qv(t,e,n,r){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){var a=s.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=s;for(var l=0;l<e.length;l++)if(o.context===e[l]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Hv(i.return,n,t),r||(a=null);break e}i=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Hv(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Mf(t,e,n,r){t=null;for(var s=e,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(Y(387));if(a=a.memoizedProps,a!==null){var o=s.type;Tr(s.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(s===Gm.current){if(a=s.alternate,a===null)throw Error(Y(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(qd):t=[qd])}s=s.return}t!==null&&qv(e,t,n,r),e.flags|=262144}function tp(t){for(t=t.firstContext;t!==null;){if(!Tr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yo(t){al=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bn(t){return nN(al,t)}function Oh(t,e){return al===null&&Yo(t),nN(t,e)}function nN(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(Y(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var v6=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},b6=fn.unstable_scheduleCallback,w6=fn.unstable_NormalPriority,cn={$$typeof:ri,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fx(){return{controller:new v6,data:new Map,refCount:0}}function Pf(t){t.refCount--,t.refCount===0&&b6(w6,function(){t.controller.abort()})}var dd=null,Gv=0,Sc=0,tc=null;function x6(t,e){if(dd===null){var n=dd=[];Gv=0,Sc=Ox(),tc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Gv++,e.then(__,__),e}function __(){if(--Gv===0&&dd!==null){tc!==null&&(tc.status="fulfilled");var t=dd;dd=null,Sc=0,tc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function E6(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var A_=Ae.S;Ae.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&x6(t,e),A_!==null&&A_(t,e)};var Vo=Vs(null);function hx(){var t=Vo.current;return t!==null?t:kt.pooledCache}function ym(t,e){e===null?Ot(Vo,Vo.current):Ot(Vo,e.pool)}function rN(){var t=hx();return t===null?null:{parent:cn._currentValue,pool:t}}var Of=Error(Y(460)),sN=Error(Y(474)),lg=Error(Y(542)),Wv={then:function(){}};function k_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jh(){}function iN(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(jh,jh),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,R_(t),t;default:if(typeof e.status=="string")e.then(jh,jh);else{if(t=kt,t!==null&&100<t.shellSuspendCounter)throw Error(Y(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,R_(t),t}throw fd=e,Of}}var fd=null;function C_(){if(fd===null)throw Error(Y(459));var t=fd;return fd=null,t}function R_(t){if(t===Of||t===lg)throw Error(Y(483))}var ta=!1;function mx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=Zm(t),JD(t,null,n),e}return og(t,r,e,n),Zm(t)}function hd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kD(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Kv=!1;function md(){if(Kv){var t=tc;if(t!==null)throw t}}function pd(t,e,n,r){Kv=!1;var s=t.updateQueue;ta=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var h=o.lane&-536870913,p=h!==o.lane;if(p?(Je&h)===h:(r&h)===h){h!==0&&h===Sc&&(Kv=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,b=o;h=e;var T=n;switch(b.tag){case 1:if(S=b.payload,typeof S=="function"){d=S.call(T,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,h=typeof S=="function"?S.call(T,d,h):S,h==null)break e;d=Dt({},d,h);break e;case 2:ta=!0}}h=o.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,i===null&&(s.shared.lanes=0),Oa|=a,t.lanes=a,t.memoizedState=d}}function aN(t,e){if(typeof t!="function")throw Error(Y(191,t));t.call(e)}function oN(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aN(n[t],e)}var Tc=Vs(null),np=Vs(0);function D_(t,e){t=Si,Ot(np,t),Ot(Tc,e),Si=t|e.baseLanes}function Qv(){Ot(np,Si),Ot(Tc,Tc.current)}function px(){Si=np.current,En(Tc),En(np)}var Ma=0,ze=null,vt=null,en=null,rp=!1,nc=!1,Ko=!1,sp=0,Fd=0,rc=null,S6=0;function Wt(){throw Error(Y(321))}function gx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function yx(t,e,n,r,s,i){return Ma=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ae.H=t===null||t.memoizedState===null?VN:UN,Ko=!1,i=n(r,s),Ko=!1,nc&&(i=cN(e,n,r,s)),lN(t),i}function lN(t){Ae.H=ip;var e=vt!==null&&vt.next!==null;if(Ma=0,en=vt=ze=null,rp=!1,Fd=0,rc=null,e)throw Error(Y(300));t===null||xn||(t=t.dependencies,t!==null&&tp(t)&&(xn=!0))}function cN(t,e,n,r){ze=t;var s=0;do{if(nc&&(rc=null),Fd=0,nc=!1,25<=s)throw Error(Y(301));if(s+=1,en=vt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Ae.H=D6,i=e(n,r)}while(nc);return i}function T6(){var t=Ae.H,e=t.useState()[0];return e=typeof e.then=="function"?jf(e):e,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(ze.flags|=1024),e}function vx(){var t=sp!==0;return sp=0,t}function bx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function wx(t){if(rp){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}rp=!1}Ma=0,en=vt=ze=null,nc=!1,Fd=sp=0,rc=null}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?ze.memoizedState=en=t:en=en.next=t,en}function rn(){if(vt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=en===null?ze.memoizedState:en.next;if(e!==null)en=e,vt=t;else{if(t===null)throw ze.alternate===null?Error(Y(467)):Error(Y(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},en===null?ze.memoizedState=en=t:en=en.next=t}return en}function xx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jf(t){var e=Fd;return Fd+=1,rc===null&&(rc=[]),t=iN(rc,t,e),e=ze,(en===null?e.memoizedState:en.next)===null&&(e=e.alternate,Ae.H=e===null||e.memoizedState===null?VN:UN),t}function cg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jf(t);if(t.$$typeof===ri)return Bn(t)}throw Error(Y(438,String(t)))}function Ex(t){var e=null,n=ze.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ze.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=xx(),ze.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=l3;return e.index++,n}function xi(t,e){return typeof e=="function"?e(t):e}function vm(t){var e=rn();return Sx(e,vt,t)}function Sx(t,e,n){var r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=n;var s=t.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}e.baseQueue=s=i,r.pending=null}if(i=t.baseState,s===null)t.memoizedState=i;else{e=s.next;var o=a=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Je&d)===d:(Ma&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Sc&&(u=!0);else if((Ma&h)===h){c=c.next,h===Sc&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=i):l=l.next=d,ze.lanes|=h,Oa|=h;d=c.action,Ko&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,a=i):l=l.next=h,ze.lanes|=d,Oa|=d;c=c.next}while(c!==null&&c!==e);if(l===null?a=i:l.next=o,!Tr(i,t.memoizedState)&&(xn=!0,u&&(n=tc,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=l,r.lastRenderedState=i}return s===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Yy(t){var e=rn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Tr(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uN(t,e,n){var r=ze,s=rn(),i=st;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=e();var a=!Tr((vt||s).memoizedState,n);a&&(s.memoizedState=n,xn=!0),s=s.queue;var o=hN.bind(null,r,s,t);if(Lf(2048,8,o,[t]),s.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,_c(9,ug(),fN.bind(null,r,s,n,e),null),kt===null)throw Error(Y(349));i||Ma&124||dN(r,e,n)}return n}function dN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e=xx(),ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fN(t,e,n,r){e.value=n,e.getSnapshot=r,mN(e)&&pN(t)}function hN(t,e,n){return n(function(){mN(e)&&pN(t)})}function mN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function pN(t){var e=Zc(t,2);e!==null&&xr(e,t,2)}function Xv(t){var e=Jn();if(typeof t=="function"){var n=t;if(t=n(),Ko){ha(!0);try{n()}finally{ha(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e}function gN(t,e,n,r){return t.baseState=n,Sx(t,vt,typeof r=="function"?r:xi)}function _6(t,e,n,r,s){if(dg(t))throw Error(Y(485));if(t=e.action,t!==null){var i={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};Ae.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,yN(e,i)):(i.next=n.next,e.pending=n.next=i)}}function yN(t,e){var n=e.action,r=e.payload,s=t.state;if(e.isTransition){var i=Ae.T,a={};Ae.T=a;try{var o=n(s,r),l=Ae.S;l!==null&&l(a,o),N_(t,e,o)}catch(c){Zv(t,e,c)}finally{Ae.T=i}}else try{i=n(s,r),N_(t,e,i)}catch(c){Zv(t,e,c)}}function N_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){I_(t,e,r)},function(r){return Zv(t,e,r)}):I_(t,e,n)}function I_(t,e,n){e.status="fulfilled",e.value=n,vN(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,yN(t,n)))}function Zv(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,vN(e),e=e.next;while(e!==r)}t.action=null}function vN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bN(t,e){return e}function M_(t,e){if(st){var n=kt.formState;if(n!==null){e:{var r=ze;if(st){if(Ht){t:{for(var s=Ht,i=ys;s.nodeType!==8;){if(!i){s=null;break t}if(s=Zr(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ht=Zr(s.nextSibling),r=s.data==="F!";break e}}Wo(r)}r=!1}r&&(e=n[0])}}return n=Jn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bN,lastRenderedState:e},n.queue=r,n=ON.bind(null,ze,r),r.dispatch=n,r=Xv(!1),i=kx.bind(null,ze,!1,r.queue),r=Jn(),s={state:e,dispatch:null,action:t,pending:null},r.queue=s,n=_6.bind(null,ze,s,i,n),s.dispatch=n,r.memoizedState=t,[e,n,!1]}function P_(t){var e=rn();return wN(e,vt,t)}function wN(t,e,n){if(e=Sx(t,e,bN)[0],t=vm(xi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=jf(e)}catch(a){throw a===Of?lg:a}else r=e;e=rn();var s=e.queue,i=s.dispatch;return n!==e.memoizedState&&(ze.flags|=2048,_c(9,ug(),A6.bind(null,s,n),null)),[r,i,t]}function A6(t,e){t.action=e}function O_(t){var e=rn(),n=vt;if(n!==null)return wN(e,n,t);rn(),e=e.memoizedState,n=rn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function _c(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ze.updateQueue,e===null&&(e=xx(),ze.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ug(){return{destroy:void 0,resource:void 0}}function xN(){return rn().memoizedState}function bm(t,e,n,r){var s=Jn();r=r===void 0?null:r,ze.flags|=t,s.memoizedState=_c(1|e,ug(),n,r)}function Lf(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=s.memoizedState.inst;vt!==null&&r!==null&&gx(r,vt.memoizedState.deps)?s.memoizedState=_c(e,i,n,r):(ze.flags|=t,s.memoizedState=_c(1|e,i,n,r))}function j_(t,e){bm(8390656,8,t,e)}function EN(t,e){Lf(2048,8,t,e)}function SN(t,e){return Lf(4,2,t,e)}function TN(t,e){return Lf(4,4,t,e)}function _N(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AN(t,e,n){n=n!=null?n.concat([t]):null,Lf(4,4,_N.bind(null,e,t),n)}function Tx(){}function kN(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&gx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CN(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&gx(e,r[1]))return r[0];if(r=t(),Ko){ha(!0);try{t()}finally{ha(!1)}}return n.memoizedState=[r,e],r}function _x(t,e,n){return n===void 0||Ma&1073741824?t.memoizedState=e:(t.memoizedState=n,t=v2(),ze.lanes|=t,Oa|=t,n)}function RN(t,e,n,r){return Tr(n,e)?n:Tc.current!==null?(t=_x(t,n,r),Tr(t,e)||(xn=!0),t):Ma&42?(t=v2(),ze.lanes|=t,Oa|=t,e):(xn=!0,t.memoizedState=n)}function DN(t,e,n,r,s){var i=it.p;it.p=i!==0&&8>i?i:8;var a=Ae.T,o={};Ae.T=o,kx(t,!1,e,n);try{var l=s(),c=Ae.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=E6(l,r);gd(t,e,u,wr(t))}else gd(t,e,r,wr(t))}catch(d){gd(t,e,{then:function(){},status:"rejected",reason:d},wr())}finally{it.p=i,Ae.T=a}}function k6(){}function Jv(t,e,n,r){if(t.tag!==5)throw Error(Y(476));var s=NN(t).queue;DN(t,s,e,Po,n===null?k6:function(){return IN(t),n(r)})}function NN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Po,baseState:Po,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:Po},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function IN(t){var e=NN(t).next.queue;gd(t,e,{},wr())}function Ax(){return Bn(qd)}function MN(){return rn().memoizedState}function PN(){return rn().memoizedState}function C6(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=wr();t=wa(n);var r=xa(e,t,n);r!==null&&(xr(r,e,n),hd(r,e,n)),e={cache:fx()},t.payload=e;return}e=e.return}}function R6(t,e,n){var r=wr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},dg(t)?jN(e,n):(n=lx(t,e,n,r),n!==null&&(xr(n,t,r),LN(n,e,r)))}function ON(t,e,n){var r=wr();gd(t,e,n,r)}function gd(t,e,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(dg(t))jN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Tr(o,a))return og(t,e,s,0),kt===null&&ag(),!1}catch{}finally{}if(n=lx(t,e,s,r),n!==null)return xr(n,t,r),LN(n,e,r),!0}return!1}function kx(t,e,n,r){if(r={lane:2,revertLane:Ox(),action:r,hasEagerState:!1,eagerState:null,next:null},dg(t)){if(e)throw Error(Y(479))}else e=lx(t,n,r,2),e!==null&&xr(e,t,2)}function dg(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function jN(t,e){nc=rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LN(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kD(t,n)}}var ip={readContext:Bn,use:cg,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},VN={readContext:Bn,use:cg,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:j_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,bm(4194308,4,_N.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bm(4194308,4,t,e)},useInsertionEffect:function(t,e){bm(4,2,t,e)},useMemo:function(t,e){var n=Jn();e=e===void 0?null:e;var r=t();if(Ko){ha(!0);try{t()}finally{ha(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Jn();if(n!==void 0){var s=n(e);if(Ko){ha(!0);try{n(e)}finally{ha(!1)}}}else s=e;return r.memoizedState=r.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=R6.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:function(t){t=Xv(t);var e=t.queue,n=ON.bind(null,ze,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Tx,useDeferredValue:function(t,e){var n=Jn();return _x(n,t,e)},useTransition:function(){var t=Xv(!1);return t=DN.bind(null,ze,t.queue,!0,!1),Jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ze,s=Jn();if(st){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),kt===null)throw Error(Y(349));Je&124||dN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,j_(hN.bind(null,r,i,t),[t]),r.flags|=2048,_c(9,ug(),fN.bind(null,r,i,n,e),null),n},useId:function(){var t=Jn(),e=kt.identifierPrefix;if(st){var n=ii,r=si;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=""+e+"R"+n,n=sp++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=S6++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Ax,useFormState:M_,useActionState:M_,useOptimistic:function(t){var e=Jn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=kx.bind(null,ze,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ex,useCacheRefresh:function(){return Jn().memoizedState=C6.bind(null,ze)}},UN={readContext:Bn,use:cg,useCallback:kN,useContext:Bn,useEffect:EN,useImperativeHandle:AN,useInsertionEffect:SN,useLayoutEffect:TN,useMemo:CN,useReducer:vm,useRef:xN,useState:function(){return vm(xi)},useDebugValue:Tx,useDeferredValue:function(t,e){var n=rn();return RN(n,vt.memoizedState,t,e)},useTransition:function(){var t=vm(xi)[0],e=rn().memoizedState;return[typeof t=="boolean"?t:jf(t),e]},useSyncExternalStore:uN,useId:MN,useHostTransitionStatus:Ax,useFormState:P_,useActionState:P_,useOptimistic:function(t,e){var n=rn();return gN(n,vt,t,e)},useMemoCache:Ex,useCacheRefresh:PN},D6={readContext:Bn,use:cg,useCallback:kN,useContext:Bn,useEffect:EN,useImperativeHandle:AN,useInsertionEffect:SN,useLayoutEffect:TN,useMemo:CN,useReducer:Yy,useRef:xN,useState:function(){return Yy(xi)},useDebugValue:Tx,useDeferredValue:function(t,e){var n=rn();return vt===null?_x(n,t,e):RN(n,vt.memoizedState,t,e)},useTransition:function(){var t=Yy(xi)[0],e=rn().memoizedState;return[typeof t=="boolean"?t:jf(t),e]},useSyncExternalStore:uN,useId:MN,useHostTransitionStatus:Ax,useFormState:O_,useActionState:O_,useOptimistic:function(t,e){var n=rn();return vt!==null?gN(n,vt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ex,useCacheRefresh:PN},sc=null,Bd=0;function Lh(t){var e=Bd;return Bd+=1,sc===null&&(sc=[]),iN(sc,t,e)}function Ou(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Vh(t,e){throw e.$$typeof===a3?Error(Y(525)):(t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function L_(t){var e=t._init;return e(t._payload)}function FN(t){function e(v,g){if(t){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(v,g){return v=hi(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=67108866,g):x):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,g,x,D){return g===null||g.tag!==6?(g=qy(x,v.mode,D),g.return=v,g):(g=s(g,x),g.return=v,g)}function l(v,g,x,D){var C=x.type;return C===Ml?u(v,g,x.props.children,D,x.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ea&&L_(C)===g.type)?(g=s(g,x.props),Ou(g,x),g.return=v,g):(g=gm(x.type,x.key,x.props,null,v.mode,D),Ou(g,x),g.return=v,g)}function c(v,g,x,D){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Gy(x,v.mode,D),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function u(v,g,x,D,C){return g===null||g.tag!==7?(g=Oo(x,v.mode,D,C),g.return=v,g):(g=s(g,x),g.return=v,g)}function d(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=qy(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Dh:return x=gm(g.type,g.key,g.props,null,v.mode,x),Ou(x,g),x.return=v,x;case Wu:return g=Gy(g,v.mode,x),g.return=v,g;case ea:var D=g._init;return g=D(g._payload),d(v,g,x)}if(Yu(g)||Nu(g))return g=Oo(g,v.mode,x,null),g.return=v,g;if(typeof g.then=="function")return d(v,Lh(g),x);if(g.$$typeof===ri)return d(v,Oh(v,g),x);Vh(v,g)}return null}function h(v,g,x,D){var C=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C!==null?null:o(v,g,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dh:return x.key===C?l(v,g,x,D):null;case Wu:return x.key===C?c(v,g,x,D):null;case ea:return C=x._init,x=C(x._payload),h(v,g,x,D)}if(Yu(x)||Nu(x))return C!==null?null:u(v,g,x,D,null);if(typeof x.then=="function")return h(v,g,Lh(x),D);if(x.$$typeof===ri)return h(v,g,Oh(v,x),D);Vh(v,x)}return null}function p(v,g,x,D,C){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return v=v.get(x)||null,o(g,v,""+D,C);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Dh:return v=v.get(D.key===null?x:D.key)||null,l(g,v,D,C);case Wu:return v=v.get(D.key===null?x:D.key)||null,c(g,v,D,C);case ea:var P=D._init;return D=P(D._payload),p(v,g,x,D,C)}if(Yu(D)||Nu(D))return v=v.get(x)||null,u(g,v,D,C,null);if(typeof D.then=="function")return p(v,g,x,Lh(D),C);if(D.$$typeof===ri)return p(v,g,x,Oh(g,D),C);Vh(g,D)}return null}function S(v,g,x,D){for(var C=null,P=null,A=g,E=g=0,_=null;A!==null&&E<x.length;E++){A.index>E?(_=A,A=null):_=A.sibling;var R=h(v,A,x[E],D);if(R===null){A===null&&(A=_);break}t&&A&&R.alternate===null&&e(v,A),g=i(R,g,E),P===null?C=R:P.sibling=R,P=R,A=_}if(E===x.length)return n(v,A),st&&ho(v,E),C;if(A===null){for(;E<x.length;E++)A=d(v,x[E],D),A!==null&&(g=i(A,g,E),P===null?C=A:P.sibling=A,P=A);return st&&ho(v,E),C}for(A=r(A);E<x.length;E++)_=p(A,v,E,x[E],D),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?E:_.key),g=i(_,g,E),P===null?C=_:P.sibling=_,P=_);return t&&A.forEach(function(N){return e(v,N)}),st&&ho(v,E),C}function b(v,g,x,D){if(x==null)throw Error(Y(151));for(var C=null,P=null,A=g,E=g=0,_=null,R=x.next();A!==null&&!R.done;E++,R=x.next()){A.index>E?(_=A,A=null):_=A.sibling;var N=h(v,A,R.value,D);if(N===null){A===null&&(A=_);break}t&&A&&N.alternate===null&&e(v,A),g=i(N,g,E),P===null?C=N:P.sibling=N,P=N,A=_}if(R.done)return n(v,A),st&&ho(v,E),C;if(A===null){for(;!R.done;E++,R=x.next())R=d(v,R.value,D),R!==null&&(g=i(R,g,E),P===null?C=R:P.sibling=R,P=R);return st&&ho(v,E),C}for(A=r(A);!R.done;E++,R=x.next())R=p(A,v,E,R.value,D),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?E:R.key),g=i(R,g,E),P===null?C=R:P.sibling=R,P=R);return t&&A.forEach(function(I){return e(v,I)}),st&&ho(v,E),C}function T(v,g,x,D){if(typeof x=="object"&&x!==null&&x.type===Ml&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dh:e:{for(var C=x.key;g!==null;){if(g.key===C){if(C=x.type,C===Ml){if(g.tag===7){n(v,g.sibling),D=s(g,x.props.children),D.return=v,v=D;break e}}else if(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ea&&L_(C)===g.type){n(v,g.sibling),D=s(g,x.props),Ou(D,x),D.return=v,v=D;break e}n(v,g);break}else e(v,g);g=g.sibling}x.type===Ml?(D=Oo(x.props.children,v.mode,D,x.key),D.return=v,v=D):(D=gm(x.type,x.key,x.props,null,v.mode,D),Ou(D,x),D.return=v,v=D)}return a(v);case Wu:e:{for(C=x.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(v,g.sibling),D=s(g,x.children||[]),D.return=v,v=D;break e}else{n(v,g);break}else e(v,g);g=g.sibling}D=Gy(x,v.mode,D),D.return=v,v=D}return a(v);case ea:return C=x._init,x=C(x._payload),T(v,g,x,D)}if(Yu(x))return S(v,g,x,D);if(Nu(x)){if(C=Nu(x),typeof C!="function")throw Error(Y(150));return x=C.call(x),b(v,g,x,D)}if(typeof x.then=="function")return T(v,g,Lh(x),D);if(x.$$typeof===ri)return T(v,g,Oh(v,x),D);Vh(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,g!==null&&g.tag===6?(n(v,g.sibling),D=s(g,x),D.return=v,v=D):(n(v,g),D=qy(x,v.mode,D),D.return=v,v=D),a(v)):n(v,g)}return function(v,g,x,D){try{Bd=0;var C=T(v,g,x,D);return sc=null,C}catch(A){if(A===Of||A===lg)throw A;var P=pr(29,A,null,v.mode);return P.lanes=D,P.return=v,P}finally{}}}var Ac=FN(!0),BN=FN(!1),Br=Vs(null),Ts=null;function sa(t){var e=t.alternate;Ot(un,un.current&1),Ot(Br,t),Ts===null&&(e===null||Tc.current!==null||e.memoizedState!==null)&&(Ts=t)}function zN(t){if(t.tag===22){if(Ot(un,un.current),Ot(Br,t),Ts===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ts=t)}}else ia()}function ia(){Ot(un,un.current),Ot(Br,Br.current)}function oi(t){En(Br),Ts===t&&(Ts=null),En(un)}var un=Vs(0);function ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||gb(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ky(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eb={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),s=wa(r);s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,r),e!==null&&(xr(e,t,r),hd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),s=wa(r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,r),e!==null&&(xr(e,t,r),hd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=wa(n);r.tag=2,e!=null&&(r.callback=e),e=xa(t,r,n),e!==null&&(xr(e,t,n),hd(e,t,n))}};function V_(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Vd(n,r)||!Vd(s,i):!0}function U_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eb.enqueueReplaceState(e,e.state,null)}function Qo(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Dt({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var op=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $N(t){op(t)}function HN(t){console.error(t)}function qN(t){op(t)}function lp(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function F_(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function tb(t,e,n){return n=wa(n),n.tag=3,n.payload={element:null},n.callback=function(){lp(t,e)},n}function GN(t){return t=wa(t),t.tag=3,t}function WN(t,e,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;t.payload=function(){return s(i)},t.callback=function(){F_(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){F_(e,n,r),typeof s!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function N6(t,e,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Mf(e,n,s,!0),n=Br.current,n!==null){switch(n.tag){case 13:return Ts===null?cb():n.alternate===null&&qt===0&&(qt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Wv?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),a0(t,r,s)),!1;case 22:return n.flags|=65536,r===Wv?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),a0(t,r,s)),!1}throw Error(Y(435,n.tag))}return a0(t,r,s),cb(),!1}if(st)return e=Br.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==zv&&(t=Error(Y(422),{cause:r}),Ud(Vr(t,n)))):(r!==zv&&(e=Error(Y(423),{cause:r}),Ud(Vr(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,r=Vr(r,n),s=tb(t.stateNode,r,s),Wy(t,s),qt!==4&&(qt=2)),!1;var i=Error(Y(520),{cause:r});if(i=Vr(i,n),bd===null?bd=[i]:bd.push(i),qt!==4&&(qt=2),e===null)return!0;r=Vr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=tb(n.stateNode,r,t),Wy(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ea===null||!Ea.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=GN(s),WN(s,t,n,r),Wy(n,s),!1}n=n.return}while(n!==null);return!1}var YN=Error(Y(461)),xn=!1;function Tn(t,e,n,r){e.child=t===null?BN(e,null,n,r):Ac(e,t.child,n,r)}function B_(t,e,n,r,s){n=n.render;var i=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Yo(e),r=yx(t,e,n,a,i,s),o=vx(),t!==null&&!xn?(bx(t,e,s),Ei(t,e,s)):(st&&o&&ux(e),e.flags|=1,Tn(t,e,r,s),e.child)}function z_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!cx(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,KN(t,e,i,r,s)):(t=gm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Cx(t,s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vd,n(a,r)&&t.ref===e.ref)return Ei(t,e,s)}return e.flags|=1,t=hi(i,r),t.ref=e.ref,t.return=e,e.child=t}function KN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vd(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,Cx(t,s))t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,Ei(t,e,s)}return nb(t,e,n,r,s)}function QN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;e.childLanes=i&~r}else e.childLanes=0,e.child=null;return $_(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ym(e,i!==null?i.cachePool:null),i!==null?D_(e,i):Qv(),zN(e);else return e.lanes=e.childLanes=536870912,$_(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(ym(e,i.cachePool),D_(e,i),ia(),e.memoizedState=null):(t!==null&&ym(e,null),Qv(),ia());return Tn(t,e,s,n),e.child}function $_(t,e,n,r){var s=hx();return s=s===null?null:{parent:cn._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&ym(e,null),Qv(),zN(e),t!==null&&Mf(t,e,r,!0),null}function wm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function nb(t,e,n,r,s){return Yo(e),n=yx(t,e,n,r,void 0,s),r=vx(),t!==null&&!xn?(bx(t,e,s),Ei(t,e,s)):(st&&r&&ux(e),e.flags|=1,Tn(t,e,n,s),e.child)}function H_(t,e,n,r,s,i){return Yo(e),e.updateQueue=null,n=cN(e,r,n,s),lN(t),r=vx(),t!==null&&!xn?(bx(t,e,i),Ei(t,e,i)):(st&&r&&ux(e),e.flags|=1,Tn(t,e,n,i),e.child)}function q_(t,e,n,r,s){if(Yo(e),e.stateNode===null){var i=Bl,a=n.contextType;typeof a=="object"&&a!==null&&(i=Bn(a)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eb,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},mx(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?Bn(a):Bl,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ky(e,n,a,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&eb.enqueueReplaceState(i,i.state,null),pd(e,r,i,s),md(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,l=Qo(n,o);i.props=l;var c=i.context,u=n.contextType;a=Bl,typeof u=="object"&&u!==null&&(a=Bn(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==a)&&U_(e,i,r,a),ta=!1;var h=e.memoizedState;i.state=h,pd(e,r,i,s),md(),c=e.memoizedState,o||h!==c||ta?(typeof d=="function"&&(Ky(e,n,d,r),c=e.memoizedState),(l=ta||V_(e,n,l,r,h,c,a))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Yv(t,e),a=e.memoizedProps,u=Qo(n,a),i.props=u,d=e.pendingProps,h=i.context,c=n.contextType,l=Bl,typeof c=="object"&&c!==null&&(l=Bn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&U_(e,i,r,l),ta=!1,h=e.memoizedState,i.state=h,pd(e,r,i,s),md();var p=e.memoizedState;a!==d||h!==p||ta||t!==null&&t.dependencies!==null&&tp(t.dependencies)?(typeof o=="function"&&(Ky(e,n,o,r),p=e.memoizedState),(u=ta||V_(e,n,u,r,h,p,l)||t!==null&&t.dependencies!==null&&tp(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,wm(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Ac(e,t.child,null,s),e.child=Ac(e,null,n,s)):Tn(t,e,n,s),e.memoizedState=i.state,t=e.child):t=Ei(t,e,s),t}function G_(t,e,n,r){return If(),e.flags|=256,Tn(t,e,n,r),e.child}var Qy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xy(t){return{baseLanes:t,cachePool:rN()}}function Zy(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Fr),t}function XN(t,e,n){var r=e.pendingProps,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(un.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(st){if(s?sa(e):ia(),st){var o=Ht,l;if(l=o){e:{for(l=o,o=ys;l.nodeType!==8;){if(!o){o=null;break e}if(l=Zr(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:jo!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},l=pr(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Wn=e,Ht=null,l=!0):l=!1}l||Wo(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return gb(o)?e.lanes=32:e.lanes=536870912,null;oi(e)}return o=r.children,r=r.fallback,s?(ia(),s=e.mode,o=cp({mode:"hidden",children:o},s),r=Oo(r,s,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,s=e.child,s.memoizedState=Xy(n),s.childLanes=Zy(t,a,n),e.memoizedState=Qy,r):(sa(e),rb(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(i)e.flags&256?(sa(e),e.flags&=-257,e=Jy(t,e,n)):e.memoizedState!==null?(ia(),e.child=t.child,e.flags|=128,e=null):(ia(),s=r.fallback,o=e.mode,r=cp({mode:"visible",children:r.children},o),s=Oo(s,o,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Ac(e,t.child,null,n),r=e.child,r.memoizedState=Xy(n),r.childLanes=Zy(t,a,n),e.memoizedState=Qy,e=s);else if(sa(e),gb(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Y(419)),r.stack="",r.digest=a,Ud({value:r,source:null,stack:null}),e=Jy(t,e,n)}else if(xn||Mf(t,e,n,!1),a=(n&t.childLanes)!==0,xn||a){if(a=kt,a!==null&&(r=n&-n,r=r&42?1:Zw(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Zc(t,r),xr(a,t,r),YN;o.data==="$?"||cb(),e=Jy(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ht=Zr(o.nextSibling),Wn=e,st=!0,Lo=null,ys=!1,t!==null&&(Or[jr++]=si,Or[jr++]=ii,Or[jr++]=jo,si=t.id,ii=t.overflow,jo=e),e=rb(e,r.children),e.flags|=4096);return e}return s?(ia(),s=r.fallback,o=e.mode,l=t.child,c=l.sibling,r=hi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=hi(c,s):(s=Oo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o===null?o=Xy(n):(l=o.cachePool,l!==null?(c=cn._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=rN(),o={baseLanes:o.baseLanes|n,cachePool:l}),s.memoizedState=o,s.childLanes=Zy(t,a,n),e.memoizedState=Qy,r):(sa(e),n=t.child,t=n.sibling,n=hi(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function rb(t,e){return e=cp({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function cp(t,e){return t=pr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jy(t,e,n){return Ac(e,t.child,null,n),t=rb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hv(t.return,e,n)}function e0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W_(t,n,e);else if(t.tag===19)W_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Ot(un,r),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ap(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),e0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ap(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}e0(e,!0,n,null,i);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,!(n&e.childLanes))if(t!==null){if(Mf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cx(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tp(t)))}function I6(t,e,n){switch(e.tag){case 3:Wm(e,e.stateNode.containerInfo),ra(e,cn,t.memoizedState.cache),If();break;case 27:case 5:Iv(e);break;case 4:Wm(e,e.stateNode.containerInfo);break;case 10:ra(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(sa(e),e.flags|=128,null):n&e.child.childLanes?XN(t,e,n):(sa(e),t=Ei(t,e,n),t!==null?t.sibling:null);sa(e);break;case 19:var s=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Mf(t,e,n,!1),r=(n&e.childLanes)!==0),s){if(r)return ZN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ot(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,QN(t,e,n);case 24:ra(e,cn,t.memoizedState.cache)}return Ei(t,e,n)}function JN(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)xn=!0;else{if(!Cx(t,n)&&!(e.flags&128))return xn=!1,I6(t,e,n);xn=!!(t.flags&131072)}else xn=!1,st&&e.flags&1048576&&tN(e,ep,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,s=r._init;if(r=s(r._payload),e.type=r,typeof r=="function")cx(r)?(t=Qo(r,t),e.tag=1,e=q_(null,e,r,t,n)):(e.tag=0,e=nb(null,e,r,t,n));else{if(r!=null){if(s=r.$$typeof,s===Kw){e.tag=11,e=B_(null,e,r,t,n);break e}else if(s===Qw){e.tag=14,e=z_(null,e,r,t,n);break e}}throw e=Dv(r)||r,Error(Y(306,e,""))}}return e;case 0:return nb(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,s=Qo(r,e.pendingProps),q_(t,e,r,s,n);case 3:e:{if(Wm(e,e.stateNode.containerInfo),t===null)throw Error(Y(387));r=e.pendingProps;var i=e.memoizedState;s=i.element,Yv(t,e),pd(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ra(e,cn,r),r!==i.cache&&qv(e,[cn],n,!0),md(),r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=G_(t,e,r,n);break e}else if(r!==s){s=Vr(Error(Y(424)),e),Ud(s),e=G_(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ht=Zr(t.firstChild),Wn=e,st=!0,Lo=null,ys=!0,n=BN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(If(),r===s){e=Ei(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 26:return wm(t,e),t===null?(n=u1(e.type,null,e.pendingProps,null))?e.memoizedState=n:st||(n=e.type,t=e.pendingProps,r=gp(ba.current).createElement(n),r[Fn]=e,r[ar]=t,Rn(r,n,t),wn(r),e.stateNode=r):e.memoizedState=u1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Iv(e),t===null&&st&&(r=e.stateNode=U2(e.type,e.pendingProps,ba.current),Wn=e,ys=!0,s=Ht,Qa(e.type)?(yb=s,Ht=Zr(r.firstChild)):Ht=s),Tn(t,e,e.pendingProps.children,n),wm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&st&&((s=r=Ht)&&(r=a5(r,e.type,e.pendingProps,ys),r!==null?(e.stateNode=r,Wn=e,Ht=Zr(r.firstChild),ys=!1,s=!0):s=!1),s||Wo(e)),Iv(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,r=i.children,mb(s,i)?r=null:a!==null&&mb(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=yx(t,e,T6,null,null,n),qd._currentValue=s),wm(t,e),Tn(t,e,r,n),e.child;case 6:return t===null&&st&&((t=n=Ht)&&(n=o5(n,e.pendingProps,ys),n!==null?(e.stateNode=n,Wn=e,Ht=null,t=!0):t=!1),t||Wo(e)),null;case 13:return XN(t,e,n);case 4:return Wm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ac(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return B_(t,e,e.type,e.pendingProps,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ra(e,e.type,r.value),Tn(t,e,r.children,n),e.child;case 9:return s=e.type._context,r=e.pendingProps.children,Yo(e),s=Bn(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return z_(t,e,e.type,e.pendingProps,n);case 15:return KN(t,e,e.type,e.pendingProps,n);case 19:return ZN(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=cp(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=hi(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return QN(t,e,n);case 24:return Yo(e),r=Bn(cn),t===null?(s=hx(),s===null&&(s=kt,i=fx(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),e.memoizedState={parent:r,cache:s},mx(e),ra(e,cn,s)):(t.lanes&n&&(Yv(t,e),pd(e,null,null,n),md()),s=t.memoizedState,i=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),ra(e,cn,r)):(r=i.cache,ra(e,cn,r),r!==s.cache&&qv(e,[cn],n,!0))),Tn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Y(156,e.tag))}function Gs(t){t.flags|=4}function Y_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!z2(e)){if(e=Br.current,e!==null&&((Je&4194048)===Je?Ts!==null:(Je&62914560)!==Je&&!(Je&536870912)||e!==Ts))throw fd=Wv,sN;t.flags|=8192}}function Uh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?_D():536870912,t.lanes|=e,kc|=e)}function ju(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M6(t,e,n){var r=e.pendingProps;switch(dx(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return jt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),mi(cn),wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?Gs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,T_())),jt(e),null;case 26:return n=e.memoizedState,t===null?(Gs(e),n!==null?(jt(e),Y_(e,n)):(jt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Gs(e),jt(e),Y_(e,n)):(jt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Gs(e),jt(e),e.flags&=-16777217),null;case 27:Ym(e),n=ba.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Gs(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return jt(e),null}t=Es.current,Pu(e)?E_(e):(t=U2(s,r,n),e.stateNode=t,Gs(e))}return jt(e),null;case 5:if(Ym(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Gs(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return jt(e),null}if(t=Es.current,Pu(e))E_(e);else{switch(s=gp(ba.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}t[Fn]=e,t[ar]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(Rn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gs(e)}}return jt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Gs(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(t=ba.current,Pu(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,s=Wn,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}t[Fn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||j2(t.nodeValue,n)),t||Wo(e)}else t=gp(t).createTextNode(r),t[Fn]=e,e.stateNode=t}return jt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Fn]=e}else If(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else s=T_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(oi(e),e):(oi(e),null)}if(oi(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Uh(e,e.updateQueue),jt(e),null;case 4:return wc(),t===null&&jx(e.stateNode.containerInfo),jt(e),null;case 10:return mi(e.type),jt(e),null;case 19:if(En(un),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)ju(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ap(t),i!==null){for(e.flags|=128,ju(s,!1),t=i.updateQueue,e.updateQueue=t,Uh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)eN(n,t),n=n.sibling;return Ot(un,un.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ss()>dp&&(e.flags|=128,r=!0,ju(s,!1),e.lanes=4194304)}else{if(!r)if(t=ap(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Uh(e,t),ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!st)return jt(e),null}else 2*Ss()-s.renderingStartTime>dp&&n!==536870912&&(e.flags|=128,r=!0,ju(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ss(),e.sibling=null,t=un.current,Ot(un,r?t&1|2:t&1),e):(jt(e),null);case 22:case 23:return oi(e),px(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),n=e.updateQueue,n!==null&&Uh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&En(Vo),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mi(cn),jt(e),null;case 25:return null;case 30:return null}throw Error(Y(156,e.tag))}function P6(t,e){switch(dx(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(cn),wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ym(e),null;case 13:if(oi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));If()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(un),null;case 4:return wc(),null;case 10:return mi(e.type),null;case 22:case 23:return oi(e),px(),t!==null&&En(Vo),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(cn),null;case 25:return null;default:return null}}function e2(t,e){switch(dx(e),e.tag){case 3:mi(cn),wc();break;case 26:case 27:case 5:Ym(e);break;case 4:wc();break;case 13:oi(e);break;case 19:En(un);break;case 10:mi(e.type);break;case 22:case 23:oi(e),px(),t!==null&&En(Vo);break;case 24:mi(cn)}}function Vf(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&t)===t){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){_t(e,e.return,o)}}function Pa(t,e,n){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=e;var l=n,c=o;try{c()}catch(u){_t(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){_t(e,e.return,u)}}function t2(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{oN(e,n)}catch(r){_t(t,t.return,r)}}}function n2(t,e,n){n.props=Qo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){_t(t,e,r)}}function yd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){_t(t,e,s)}}function bs(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){_t(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){_t(t,e,s)}else n.current=null}function r2(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){_t(t,t.return,s)}}function t0(t,e,n){try{var r=t.stateNode;t5(r,t.type,n,e),r[ar]=e}catch(s){_t(t,t.return,s)}}function s2(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function n0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pg));else if(r!==4&&(r===27&&Qa(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(sb(t,e,n),t=t.sibling;t!==null;)sb(t,e,n),t=t.sibling}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Qa(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}function i2(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Rn(e,r,n),e[Fn]=t,e[ar]=n}catch(i){_t(t,t.return,i)}}var Zs=!1,Qt=!1,r0=!1,K_=typeof WeakSet=="function"?WeakSet:Set,bn=null;function O6(t,e){if(t=t.containerInfo,fb=wp,t=GD(t),ax(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(o=a),h===i&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hb={focusedElem:t,selectionRange:n},wp=!1,bn=e;bn!==null;)if(e=bn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,bn=t;else for(;bn!==null;){switch(e=bn,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var S=Qo(n.type,s,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(S,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){_t(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)pb(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pb(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Y(163))}if(t=e.sibling,t!==null){t.return=e.return,bn=t;break}bn=e.return}}function a2(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:qi(t,n),r&4&&Vf(5,n);break;case 1:if(qi(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_t(n,n.return,a)}else{var s=Qo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_t(n,n.return,a)}}r&64&&t2(n),r&512&&yd(n,n.return);break;case 3:if(qi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{oN(t,e)}catch(a){_t(n,n.return,a)}}break;case 27:e===null&&r&4&&i2(n);case 26:case 5:qi(t,n),e===null&&r&4&&r2(n),r&512&&yd(n,n.return);break;case 12:qi(t,n);break;case 13:qi(t,n),r&4&&c2(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=H6.bind(null,n),l5(t,n))));break;case 22:if(r=n.memoizedState!==null||Zs,!r){e=e!==null&&e.memoizedState!==null||Qt,s=Zs;var i=Qt;Zs=r,(Qt=e)&&!i?Qi(t,n,(n.subtreeFlags&8772)!==0):qi(t,n),Zs=s,Qt=i}break;case 30:break;default:qi(t,n)}}function o2(t){var e=t.alternate;e!==null&&(t.alternate=null,o2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ex(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,er=!1;function Ws(t,e,n){for(n=n.child;n!==null;)l2(t,e,n),n=n.sibling}function l2(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 26:Qt||bs(n,e),Ws(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||bs(n,e);var r=Mt,s=er;Qa(n.type)&&(Mt=n.stateNode,er=!1),Ws(t,e,n),xd(n.stateNode),Mt=r,er=s;break;case 5:Qt||bs(n,e);case 6:if(r=Mt,s=er,Mt=null,Ws(t,e,n),Mt=r,er=s,Mt!==null)if(er)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(i){_t(n,e,i)}else try{Mt.removeChild(n.stateNode)}catch(i){_t(n,e,i)}break;case 18:Mt!==null&&(er?(t=Mt,o1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Yd(t)):o1(Mt,n.stateNode));break;case 4:r=Mt,s=er,Mt=n.stateNode.containerInfo,er=!0,Ws(t,e,n),Mt=r,er=s;break;case 0:case 11:case 14:case 15:Qt||Pa(2,n,e),Qt||Pa(4,n,e),Ws(t,e,n);break;case 1:Qt||(bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&n2(n,e,r)),Ws(t,e,n);break;case 21:Ws(t,e,n);break;case 22:Qt=(r=Qt)||n.memoizedState!==null,Ws(t,e,n),Qt=r;break;default:Ws(t,e,n)}}function c2(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yd(t)}catch(n){_t(e,e.return,n)}}function j6(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new K_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new K_),e;default:throw Error(Y(435,t.tag))}}function s0(t,e){var n=j6(t);e.forEach(function(r){var s=q6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Qa(o.type)){Mt=o.stateNode,er=!1;break e}break;case 5:Mt=o.stateNode,er=!1;break e;case 3:case 4:Mt=o.stateNode.containerInfo,er=!0;break e}o=o.return}if(Mt===null)throw Error(Y(160));l2(i,a,s),Mt=null,er=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)u2(e,t),e=e.sibling}var Yr=null;function u2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cr(e,t),ur(t),r&4&&(Pa(3,t,t.return),Vf(3,t),Pa(5,t,t.return));break;case 1:cr(e,t),ur(t),r&512&&(Qt||n===null||bs(n,n.return)),r&64&&Zs&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Yr;if(cr(e,t),ur(t),r&512&&(Qt||n===null||bs(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Df]||i[Fn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),Rn(i,r,n),i[Fn]=t,wn(i),r=i;break e;case"link":var a=f1("link","href",s).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(i=a[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}i=s.createElement(r),Rn(i,r,n),s.head.appendChild(i);break;case"meta":if(a=f1("meta","content",s).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(i=a[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}i=s.createElement(r),Rn(i,r,n),s.head.appendChild(i);break;default:throw Error(Y(468,r))}i[Fn]=t,wn(i),r=i}t.stateNode=r}else h1(s,t.type,t.stateNode);else t.stateNode=d1(s,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?h1(s,t.type,t.stateNode):d1(s,r,t.memoizedProps)):r===null&&t.stateNode!==null&&t0(t,t.memoizedProps,n.memoizedProps)}break;case 27:cr(e,t),ur(t),r&512&&(Qt||n===null||bs(n,n.return)),n!==null&&r&4&&t0(t,t.memoizedProps,n.memoizedProps);break;case 5:if(cr(e,t),ur(t),r&512&&(Qt||n===null||bs(n,n.return)),t.flags&32){s=t.stateNode;try{Ec(s,"")}catch(p){_t(t,t.return,p)}}r&4&&t.stateNode!=null&&(s=t.memoizedProps,t0(t,s,n!==null?n.memoizedProps:s)),r&1024&&(r0=!0);break;case 6:if(cr(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(Y(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){_t(t,t.return,p)}}break;case 3:if(Sm=null,s=Yr,Yr=yp(e.containerInfo),cr(e,t),Yr=s,ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yd(e.containerInfo)}catch(p){_t(t,t.return,p)}r0&&(r0=!1,d2(t));break;case 4:r=Yr,Yr=yp(t.stateNode.containerInfo),cr(e,t),ur(t),Yr=r;break;case 12:cr(e,t),ur(t);break;case 13:cr(e,t),ur(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Mx=Ss()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,s0(t,r)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Zs,u=Qt;if(Zs=c||s,Qt=u||l,cr(e,t),Qt=u,Zs=c,ur(t),r&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||Zs||Qt||mo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,s)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){_t(l,l.return,p)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(p){_t(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,s0(t,n))));break;case 19:cr(e,t),ur(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,s0(t,r)));break;case 30:break;case 21:break;default:cr(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(s2(r)){n=r;break}r=r.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var s=n.stateNode,i=n0(t);up(t,i,s);break;case 5:var a=n.stateNode;n.flags&32&&(Ec(a,""),n.flags&=-33);var o=n0(t);up(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=n0(t);sb(t,c,l);break;default:throw Error(Y(161))}}catch(u){_t(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d2(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;d2(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function qi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)a2(t,e.alternate,e),e=e.sibling}function mo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Pa(4,e,e.return),mo(e);break;case 1:bs(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&n2(e,e.return,n),mo(e);break;case 27:xd(e.stateNode);case 26:case 5:bs(e,e.return),mo(e);break;case 22:e.memoizedState===null&&mo(e);break;case 30:mo(e);break;default:mo(e)}t=t.sibling}}function Qi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(s,i,n),Vf(4,i);break;case 1:if(Qi(s,i,n),r=i,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){_t(r,r.return,c)}if(r=i,s=r.updateQueue,s!==null){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)aN(l[s],o)}catch(c){_t(r,r.return,c)}}n&&a&64&&t2(i),yd(i,i.return);break;case 27:i2(i);case 26:case 5:Qi(s,i,n),n&&r===null&&a&4&&r2(i),yd(i,i.return);break;case 12:Qi(s,i,n);break;case 13:Qi(s,i,n),n&&a&4&&c2(s,i);break;case 22:i.memoizedState===null&&Qi(s,i,n),yd(i,i.return);break;case 30:break;default:Qi(s,i,n)}e=e.sibling}}function Rx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Pf(n))}function Dx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Pf(t))}function us(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)f2(t,e,n,r),e=e.sibling}function f2(t,e,n,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:us(t,e,n,r),s&2048&&Vf(9,e);break;case 1:us(t,e,n,r);break;case 3:us(t,e,n,r),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Pf(t)));break;case 12:if(s&2048){us(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,o=i.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){_t(e,e.return,l)}}else us(t,e,n,r);break;case 13:us(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?us(t,e,n,r):vd(t,e):i._visibility&2?us(t,e,n,r):(i._visibility|=2,Tl(t,e,n,r,(e.subtreeFlags&10256)!==0)),s&2048&&Rx(a,e);break;case 24:us(t,e,n,r),s&2048&&Dx(e.alternate,e);break;default:us(t,e,n,r)}}function Tl(t,e,n,r,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Tl(i,a,o,l,s),Vf(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&2?Tl(i,a,o,l,s):vd(i,a):(u._visibility|=2,Tl(i,a,o,l,s)),s&&c&2048&&Rx(a.alternate,a);break;case 24:Tl(i,a,o,l,s),s&&c&2048&&Dx(a.alternate,a);break;default:Tl(i,a,o,l,s)}e=e.sibling}}function vd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,s=r.flags;switch(r.tag){case 22:vd(n,r),s&2048&&Rx(r.alternate,r);break;case 24:vd(n,r),s&2048&&Dx(r.alternate,r);break;default:vd(n,r)}e=e.sibling}}var Qu=8192;function hl(t){if(t.subtreeFlags&Qu)for(t=t.child;t!==null;)h2(t),t=t.sibling}function h2(t){switch(t.tag){case 26:hl(t),t.flags&Qu&&t.memoizedState!==null&&x5(Yr,t.memoizedState,t.memoizedProps);break;case 5:hl(t);break;case 3:case 4:var e=Yr;Yr=yp(t.stateNode.containerInfo),hl(t),Yr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Qu,Qu=16777216,hl(t),Qu=e):hl(t));break;default:hl(t)}}function m2(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Lu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,g2(r,t)}m2(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p2(t),t=t.sibling}function p2(t){switch(t.tag){case 0:case 11:case 15:Lu(t),t.flags&2048&&Pa(9,t,t.return);break;case 3:Lu(t);break;case 12:Lu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,xm(t)):Lu(t);break;default:Lu(t)}}function xm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,g2(r,t)}m2(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Pa(8,e,e.return),xm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,xm(e));break;default:xm(e)}t=t.sibling}}function g2(t,e){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Pa(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bn=r;else e:for(n=t;bn!==null;){r=bn;var s=r.sibling,i=r.return;if(o2(r),r===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var L6={getCacheForType:function(t){var e=Bn(cn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},V6=typeof WeakMap=="function"?WeakMap:Map,ht=0,kt=null,He=null,Je=0,ft=0,dr=null,pa=!1,Jc=!1,Nx=!1,Si=0,qt=0,Oa=0,Uo=0,Ix=0,Fr=0,kc=0,bd=null,tr=null,ib=!1,Mx=0,dp=1/0,fp=null,Ea=null,kn=0,Sa=null,Cc=null,ic=0,ab=0,ob=null,y2=null,wd=0,lb=null;function wr(){if(ht&2&&Je!==0)return Je&-Je;if(Ae.T!==null){var t=Sc;return t!==0?t:Ox()}return CD()}function v2(){Fr===0&&(Fr=!(Je&536870912)||st?TD():536870912);var t=Br.current;return t!==null&&(t.flags|=32),Fr}function xr(t,e,n){(t===kt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Rc(t,0),ga(t,Je,Fr,!1)),Rf(t,n),(!(ht&2)||t!==kt)&&(t===kt&&(!(ht&2)&&(Uo|=n),qt===4&&ga(t,Je,Fr,!1)),Us(t))}function b2(t,e,n){if(ht&6)throw Error(Y(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Cf(t,e),s=r?B6(t,e):i0(t,e,!0),i=r;do{if(s===0){Jc&&!r&&ga(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!U6(n)){s=i0(t,e,!1),i=!1;continue}if(s===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;s=bd;var l=o.current.memoizedState.isDehydrated;if(l&&(Rc(o,a).flags|=256),a=i0(o,a,!1),a!==2){if(Nx&&!l){o.errorRecoveryDisabledLanes|=i,Uo|=i,s=4;break e}i=tr,tr=s,i!==null&&(tr===null?tr=i:tr.push.apply(tr,i))}s=a}if(i=!1,s!==2)continue}}if(s===1){Rc(t,0),ga(t,e,0,!0);break}e:{switch(r=t,i=s,i){case 0:case 1:throw Error(Y(345));case 4:if((e&4194048)!==e)break;case 6:ga(r,e,Fr,!pa);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((e&62914560)===e&&(s=Mx+300-Ss(),10<s)){if(ga(r,e,Fr,!pa),ng(r,0,!0)!==0)break e;r.timeoutHandle=V2(Q_.bind(null,r,n,tr,fp,ib,e,Fr,Uo,kc,pa,i,2,-0,0),s);break e}Q_(r,n,tr,fp,ib,e,Fr,Uo,kc,pa,i,0,-0,0)}}break}while(!0);Us(t)}function Q_(t,e,n,r,s,i,a,o,l,c,u,d,h,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Hd={stylesheets:null,count:0,unsuspend:w5},h2(e),d=E5(),d!==null)){t.cancelPendingCommit=d(Z_.bind(null,t,e,i,n,r,s,a,o,l,u,1,h,p)),ga(t,i,a,!c);return}Z_(t,e,i,n,r,s,a,o,l)}function U6(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tr(i(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e,n,r){e&=~Ix,e&=~Uo,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var s=e;0<s;){var i=31-br(s),a=1<<i;r[i]=-1,s&=~a}n!==0&&AD(t,n,e)}function fg(){return ht&6?!0:(Uf(0),!1)}function Px(){if(He!==null){if(ft===0)var t=He.return;else t=He,ai=al=null,wx(t),sc=null,Bd=0,t=He;for(;t!==null;)e2(t.alternate,t),t=t.return;He=null}}function Rc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,r5(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Px(),kt=t,He=n=hi(t.current,null),Je=e,ft=0,dr=null,pa=!1,Jc=Cf(t,e),Nx=!1,kc=Fr=Ix=Uo=Oa=qt=0,tr=bd=null,ib=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var s=31-br(r),i=1<<s;e|=t[s],r&=~i}return Si=e,ag(),n}function w2(t,e){ze=null,Ae.H=ip,e===Of||e===lg?(e=C_(),ft=3):e===sN?(e=C_(),ft=4):ft=e===YN?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,dr=e,He===null&&(qt=1,lp(t,Vr(e,t.current)))}function x2(){var t=Ae.H;return Ae.H=ip,t===null?ip:t}function E2(){var t=Ae.A;return Ae.A=L6,t}function cb(){qt=4,pa||(Je&4194048)!==Je&&Br.current!==null||(Jc=!0),!(Oa&134217727)&&!(Uo&134217727)||kt===null||ga(kt,Je,Fr,!1)}function i0(t,e,n){var r=ht;ht|=2;var s=x2(),i=E2();(kt!==t||Je!==e)&&(fp=null,Rc(t,e)),e=!1;var a=qt;e:do try{if(ft!==0&&He!==null){var o=He,l=dr;switch(ft){case 8:Px(),a=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(e=!0);var c=ft;if(ft=0,dr=null,Hl(t,o,l,c),n&&Jc){a=0;break e}break;default:c=ft,ft=0,dr=null,Hl(t,o,l,c)}}F6(),a=qt;break}catch(u){w2(t,u)}while(!0);return e&&t.shellSuspendCounter++,ai=al=null,ht=r,Ae.H=s,Ae.A=i,He===null&&(kt=null,Je=0,ag()),a}function F6(){for(;He!==null;)S2(He)}function B6(t,e){var n=ht;ht|=2;var r=x2(),s=E2();kt!==t||Je!==e?(fp=null,dp=Ss()+500,Rc(t,e)):Jc=Cf(t,e);e:do try{if(ft!==0&&He!==null){e=He;var i=dr;t:switch(ft){case 1:ft=0,dr=null,Hl(t,e,i,1);break;case 2:case 9:if(k_(i)){ft=0,dr=null,X_(e);break}e=function(){ft!==2&&ft!==9||kt!==t||(ft=7),Us(t)},i.then(e,e);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:k_(i)?(ft=0,dr=null,X_(e)):(ft=0,dr=null,Hl(t,e,i,7));break;case 5:var a=null;switch(He.tag){case 26:a=He.memoizedState;case 5:case 27:var o=He;if(!a||z2(a)){ft=0,dr=null;var l=o.sibling;if(l!==null)He=l;else{var c=o.return;c!==null?(He=c,hg(c)):He=null}break t}}ft=0,dr=null,Hl(t,e,i,5);break;case 6:ft=0,dr=null,Hl(t,e,i,6);break;case 8:Px(),qt=6;break e;default:throw Error(Y(462))}}z6();break}catch(u){w2(t,u)}while(!0);return ai=al=null,Ae.H=r,Ae.A=s,ht=n,He!==null?0:(kt=null,Je=0,ag(),qt)}function z6(){for(;He!==null&&!u3();)S2(He)}function S2(t){var e=JN(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?hg(t):He=e}function X_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=H_(n,e,e.pendingProps,e.type,void 0,Je);break;case 11:e=H_(n,e,e.pendingProps,e.type.render,e.ref,Je);break;case 5:wx(e);default:e2(n,e),e=He=eN(e,Si),e=JN(n,e,Si)}t.memoizedProps=t.pendingProps,e===null?hg(t):He=e}function Hl(t,e,n,r){ai=al=null,wx(e),sc=null,Bd=0;var s=e.return;try{if(N6(t,s,e,n,Je)){qt=1,lp(t,Vr(n,t.current)),He=null;return}}catch(i){if(s!==null)throw He=s,i;qt=1,lp(t,Vr(n,t.current)),He=null;return}e.flags&32768?(st||r===1?t=!0:Jc||Je&536870912?t=!1:(pa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Br.current,r!==null&&r.tag===13&&(r.flags|=16384))),T2(e,t)):hg(e)}function hg(t){var e=t;do{if(e.flags&32768){T2(e,pa);return}t=e.return;var n=M6(e.alternate,e,Si);if(n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);qt===0&&(qt=5)}function T2(t,e){do{var n=P6(t.alternate,t);if(n!==null){n.flags&=32767,He=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){He=t;return}He=t=n}while(t!==null);qt=6,He=null}function Z_(t,e,n,r,s,i,a,o,l){t.cancelPendingCommit=null;do mg();while(kn!==0);if(ht&6)throw Error(Y(327));if(e!==null){if(e===t.current)throw Error(Y(177));if(i=e.lanes|e.childLanes,i|=ox,w3(t,n,i,a,o,l),t===kt&&(He=kt=null,Je=0),Cc=e,Sa=t,ic=n,ab=i,ob=s,y2=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,G6(Km,function(){return R2(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ae.T,Ae.T=null,s=it.p,it.p=2,a=ht,ht|=4;try{O6(t,e,n)}finally{ht=a,it.p=s,Ae.T=r}}kn=1,_2(),A2(),k2()}}function _2(){if(kn===1){kn=0;var t=Sa,e=Cc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ae.T,Ae.T=null;var r=it.p;it.p=2;var s=ht;ht|=4;try{u2(e,t);var i=hb,a=GD(t.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&qD(o.ownerDocument.documentElement,o)){if(l!==null&&ax(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),S=o.textContent.length,b=Math.min(l.start,S),T=l.end===void 0?b:Math.min(l.end,S);!p.extend&&b>T&&(a=T,T=b,b=a);var v=b_(o,b),g=b_(o,T);if(v&&g&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var x=d.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),b>T?(p.addRange(x),p.extend(g.node,g.offset)):(x.setEnd(g.node,g.offset),p.addRange(x))}}}}for(d=[],p=o;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var D=d[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}wp=!!fb,hb=fb=null}finally{ht=s,it.p=r,Ae.T=n}}t.current=e,kn=2}}function A2(){if(kn===2){kn=0;var t=Sa,e=Cc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ae.T,Ae.T=null;var r=it.p;it.p=2;var s=ht;ht|=4;try{a2(t,e.alternate,e)}finally{ht=s,it.p=r,Ae.T=n}}kn=3}}function k2(){if(kn===4||kn===3){kn=0,d3();var t=Sa,e=Cc,n=ic,r=y2;e.subtreeFlags&10256||e.flags&10256?kn=5:(kn=0,Cc=Sa=null,C2(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Ea=null),Jw(n),e=e.stateNode,vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(kf,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ae.T,s=it.p,it.p=2,Ae.T=null;try{for(var i=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{Ae.T=e,it.p=s}}ic&3&&mg(),Us(t),s=t.pendingLanes,n&4194090&&s&42?t===lb?wd++:(wd=0,lb=t):wd=0,Uf(0)}}function C2(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Pf(e)))}function mg(t){return _2(),A2(),k2(),R2()}function R2(){if(kn!==5)return!1;var t=Sa,e=ab;ab=0;var n=Jw(ic),r=Ae.T,s=it.p;try{it.p=32>n?32:n,Ae.T=null,n=ob,ob=null;var i=Sa,a=ic;if(kn=0,Cc=Sa=null,ic=0,ht&6)throw Error(Y(331));var o=ht;if(ht|=4,p2(i.current),f2(i,i.current,a,n),ht=o,Uf(0,!1),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(kf,i)}catch{}return!0}finally{it.p=s,Ae.T=r,C2(t,e)}}function J_(t,e,n){e=Vr(n,e),e=tb(t.stateNode,e,2),t=xa(t,e,2),t!==null&&(Rf(t,2),Us(t))}function _t(t,e,n){if(t.tag===3)J_(t,t,n);else for(;e!==null;){if(e.tag===3){J_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){t=Vr(n,t),n=GN(2),r=xa(e,n,2),r!==null&&(WN(n,r,e,t),Rf(r,2),Us(r));break}}e=e.return}}function a0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(Nx=!0,s.add(n),t=$6.bind(null,t,e,n),e.then(t,t))}function $6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,kt===t&&(Je&n)===n&&(qt===4||qt===3&&(Je&62914560)===Je&&300>Ss()-Mx?!(ht&2)&&Rc(t,0):Ix|=n,kc===Je&&(kc=0)),Us(t)}function D2(t,e){e===0&&(e=_D()),t=Zc(t,e),t!==null&&(Rf(t,e),Us(t))}function H6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D2(t,n)}function q6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Y(314))}r!==null&&r.delete(e),D2(t,n)}function G6(t,e){return Xw(t,e)}var hp=null,_l=null,ub=!1,mp=!1,o0=!1,Fo=0;function Us(t){t!==_l&&t.next===null&&(_l===null?hp=_l=t:_l=_l.next=t),mp=!0,ub||(ub=!0,Y6())}function Uf(t,e){if(!o0&&mp){o0=!0;do for(var n=!1,r=hp;r!==null;){if(t!==0){var s=r.pendingLanes;if(s===0)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-br(42|t)+1)-1,i&=s&~(a&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,e1(r,i))}else i=Je,i=ng(r,r===kt?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||Cf(r,i)||(n=!0,e1(r,i));r=r.next}while(n);o0=!1}}function W6(){N2()}function N2(){mp=ub=!1;var t=0;Fo!==0&&(n5()&&(t=Fo),Fo=0);for(var e=Ss(),n=null,r=hp;r!==null;){var s=r.next,i=I2(r,e);i===0?(r.next=null,n===null?hp=s:n.next=s,s===null&&(_l=n)):(n=r,(t!==0||i&3)&&(mp=!0)),r=s}Uf(t)}function I2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-br(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=b3(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}if(e=kt,n=Je,n=ng(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&My(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Cf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&My(r),Jw(n)){case 2:case 8:n=ED;break;case 32:n=Km;break;case 268435456:n=SD;break;default:n=Km}return r=M2.bind(null,t),n=Xw(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&My(r),t.callbackPriority=2,t.callbackNode=null,2}function M2(t,e){if(kn!==0&&kn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(mg()&&t.callbackNode!==n)return null;var r=Je;return r=ng(t,t===kt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(b2(t,r,e),I2(t,Ss()),t.callbackNode!=null&&t.callbackNode===n?M2.bind(null,t):null)}function e1(t,e){if(mg())return null;b2(t,e,!0)}function Y6(){s5(function(){ht&6?Xw(xD,W6):N2()})}function Ox(){return Fo===0&&(Fo=TD()),Fo}function t1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hm(""+t)}function n1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function K6(t,e,n,r,s){if(e==="submit"&&n&&n.stateNode===s){var i=t1((s[ar]||null).action),a=r.submitter;a&&(e=(e=a[ar]||null)?t1(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var o=new rg("action","action",null,r,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fo!==0){var l=a?n1(s,a):new FormData(s);Jv(n,{pending:!0,data:l,method:s.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=a?n1(s,a):new FormData(s),Jv(n,{pending:!0,data:l,method:s.method,action:i},i,l))},currentTarget:s}]})}}for(var l0=0;l0<Bv.length;l0++){var c0=Bv[l0],Q6=c0.toLowerCase(),X6=c0[0].toUpperCase()+c0.slice(1);is(Q6,"on"+X6)}is(YD,"onAnimationEnd");is(KD,"onAnimationIteration");is(QD,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(m6,"onTransitionRun");is(p6,"onTransitionStart");is(g6,"onTransitionCancel");is(XD,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zd));function P2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){op(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){op(u)}s.currentTarget=null,i=l}}}}function $e(t,e){var n=e[Pv];n===void 0&&(n=e[Pv]=new Set);var r=t+"__bubble";n.has(r)||(O2(e,t,2,!1),n.add(r))}function u0(t,e,n){var r=0;e&&(r|=4),O2(n,t,r,e)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function jx(t){if(!t[Fh]){t[Fh]=!0,RD.forEach(function(n){n!=="selectionchange"&&(Z6.has(n)||u0(n,!1,t),u0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fh]||(e[Fh]=!0,u0("selectionchange",!1,e))}}function O2(t,e,n,r){switch(W2(e)){case 2:var s=_5;break;case 8:s=A5;break;default:s=Fx}n=s.bind(null,e,n,t),s=void 0,!Vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function d0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Ol(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=i=a;continue e}o=o.parentNode}}r=r.return}LD(function(){var c=i,u=nx(n),d=[];e:{var h=ZD.get(t);if(h!==void 0){var p=rg,S=t;switch(t){case"keypress":if(pm(n)===0)break e;case"keydown":case"keyup":p=G3;break;case"focusin":S="focus",p=By;break;case"focusout":S="blur",p=By;break;case"beforeblur":case"afterblur":p=By;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=c_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K3;break;case YD:case KD:case QD:p=L3;break;case XD:p=X3;break;case"scroll":case"scrollend":p=I3;break;case"wheel":p=J3;break;case"copy":case"cut":case"paste":p=U3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=d_;break;case"toggle":case"beforetoggle":p=t6}var b=(e&4)!==0,T=!b&&(t==="scroll"||t==="scrollend"),v=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,x;g!==null;){var D=g;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||v===null||(D=jd(g,v),D!=null&&b.push($d(g,D,x))),T)break;g=g.return}0<b.length&&(h=new p(h,S,null,n,u),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Lv&&(S=n.relatedTarget||n.fromElement)&&(Ol(S)||S[Qc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?Ol(S):null,S!==null&&(T=Af(S),b=S.tag,S!==T||b!==5&&b!==27&&b!==6)&&(S=null)):(p=null,S=c),p!==S)){if(b=c_,D="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=d_,D="onPointerLeave",v="onPointerEnter",g="pointer"),T=p==null?h:Ku(p),x=S==null?h:Ku(S),h=new b(D,g+"leave",p,n,u),h.target=T,h.relatedTarget=x,D=null,Ol(u)===c&&(b=new b(v,g+"enter",S,n,u),b.target=x,b.relatedTarget=T,D=b),T=D,p&&S)t:{for(b=p,v=S,g=0,x=b;x;x=ml(x))g++;for(x=0,D=v;D;D=ml(D))x++;for(;0<g-x;)b=ml(b),g--;for(;0<x-g;)v=ml(v),x--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=ml(b),v=ml(v)}b=null}else b=null;p!==null&&r1(d,h,p,b,!1),S!==null&&T!==null&&r1(d,T,S,b,!0)}}e:{if(h=c?Ku(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=p_;else if(m_(h))if($D)C=d6;else{C=c6;var P=l6}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&tx(c.elementType)&&(C=p_):C=u6;if(C&&(C=C(t,c))){zD(d,C,n,u);break e}P&&P(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&jv(h,"number",h.value)}switch(P=c?Ku(c):window,t){case"focusin":(m_(P)||P.contentEditable==="true")&&(Vl=P,Uv=c,ud=null);break;case"focusout":ud=Uv=Vl=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,w_(d,n,u);break;case"selectionchange":if(h6)break;case"keydown":case"keyup":w_(d,n,u)}var A;if(ix)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ll?FD(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(UD&&n.locale!=="ko"&&(Ll||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ll&&(A=VD()):(ma=u,rx="value"in ma?ma.value:ma.textContent,Ll=!0)),P=pp(c,E),0<P.length&&(E=new u_(E,t,null,n,u),d.push({event:E,listeners:P}),A?E.data=A:(A=BD(n),A!==null&&(E.data=A)))),(A=r6?s6(t,n):i6(t,n))&&(E=pp(c,"onBeforeInput"),0<E.length&&(P=new u_("onBeforeInput","beforeinput",null,n,u),d.push({event:P,listeners:E}),P.data=A)),K6(d,t,c,n,u)}P2(d,e)})}function $d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=jd(t,n),s!=null&&r.unshift($d(t,s,i)),s=jd(t,e),s!=null&&r.push($d(t,s,i))),t.tag===3)return r;t=t.return}return[]}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=jd(n,i),c!=null&&a.unshift($d(n,c,l))):s||(c=jd(n,i),c!=null&&a.push($d(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var J6=/\r\n?/g,e5=/\u0000|\uFFFD/g;function s1(t){return(typeof t=="string"?t:""+t).replace(J6,`
`).replace(e5,"")}function j2(t,e){return e=s1(e),s1(t)===e}function pg(){}function yt(t,e,n,r,s,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ec(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ec(t,""+r);break;case"className":Mh(t,"class",r);break;case"tabIndex":Mh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Mh(t,n,r);break;case"style":jD(t,r,i);break;case"data":if(e!=="object"){Mh(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=hm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&yt(t,e,"name",s.name,s,null),yt(t,e,"formEncType",s.formEncType,s,null),yt(t,e,"formMethod",s.formMethod,s,null),yt(t,e,"formTarget",s.formTarget,s,null)):(yt(t,e,"encType",s.encType,s,null),yt(t,e,"method",s.method,s,null),yt(t,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=hm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=pg);break;case"onScroll":r!=null&&$e("scroll",t);break;case"onScrollEnd":r!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=hm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":$e("beforetoggle",t),$e("toggle",t),fm(t,"popover",r);break;case"xlinkActuate":qs(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":qs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":qs(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":qs(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":qs(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":qs(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":qs(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":qs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":qs(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fm(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=D3.get(n)||n,fm(t,n,r))}}function db(t,e,n,r,s,i){switch(n){case"style":jD(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Ec(t,r):(typeof r=="number"||typeof r=="bigint")&&Ec(t,""+r);break;case"onScroll":r!=null&&$e("scroll",t);break;case"onScrollEnd":r!=null&&$e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=pg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!DD.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),i=t[ar]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,s),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,s);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):fm(t,n,r)}}}function Rn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var r=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:yt(t,e,i,a,n,null)}}s&&yt(t,e,"srcSet",n.srcSet,n,null),r&&yt(t,e,"src",n.src,n,null);return;case"input":$e("invalid",t);var o=i=a=s=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":s=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Y(137,e));break;default:yt(t,e,r,u,n,null)}}MD(t,i,o,l,c,a,s,!1),Qm(t);return;case"select":$e("invalid",t),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:yt(t,e,s,o,n,null)}e=i,n=a,t.multiple=!!r,e!=null?Jl(t,!!r,e,!1):n!=null&&Jl(t,!!r,n,!0);return;case"textarea":$e("invalid",t),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Y(91));break;default:yt(t,e,a,o,n,null)}OD(t,r,s,i),Qm(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:yt(t,e,l,r,n,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(r=0;r<zd.length;r++)$e(zd[r],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:yt(t,e,c,r,n,null)}return;default:if(tx(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&db(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&yt(t,e,o,r,n,null))}function t5(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,a=null,o=null,l=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||yt(t,e,p,null,r,d)}}for(var h in r){var p=r[h];if(d=n[h],r.hasOwnProperty(h)&&(p!=null||d!=null))switch(h){case"type":i=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Y(137,e));break;default:p!==d&&yt(t,e,h,p,r,d)}}Ov(t,a,o,l,c,u,i,s);return;case"select":p=a=o=h=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||yt(t,e,i,null,r,l)}for(s in r)if(i=r[s],l=n[s],r.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":h=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:i!==l&&yt(t,e,s,i,r,l)}e=o,n=a,r=p,h!=null?Jl(t,!!n,h,!1):!!r!=!!n&&(e!=null?Jl(t,!!n,e,!0):Jl(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:yt(t,e,o,null,r,s)}for(a in r)if(s=r[a],i=n[a],r.hasOwnProperty(a)&&(s!=null||i!=null))switch(a){case"value":h=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Y(91));break;default:s!==i&&yt(t,e,a,s,r,i)}PD(t,h,p);return;case"option":for(var S in n)if(h=n[S],n.hasOwnProperty(S)&&h!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:yt(t,e,S,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:yt(t,e,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&yt(t,e,b,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,e));break;default:yt(t,e,c,h,r,p)}return;default:if(tx(e)){for(var T in n)h=n[T],n.hasOwnProperty(T)&&h!==void 0&&!r.hasOwnProperty(T)&&db(t,e,T,void 0,r,h);for(u in r)h=r[u],p=n[u],!r.hasOwnProperty(u)||h===p||h===void 0&&p===void 0||db(t,e,u,h,r,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&yt(t,e,v,null,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h==null&&p==null||yt(t,e,d,h,r,p)}var fb=null,hb=null;function gp(t){return t.nodeType===9?t:t.ownerDocument}function i1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function mb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f0=null;function n5(){var t=window.event;return t&&t.type==="popstate"?t===f0?!1:(f0=t,!0):(f0=null,!1)}var V2=typeof setTimeout=="function"?setTimeout:void 0,r5=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,s5=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(t){return a1.resolve(null).then(t).catch(i5)}:V2;function i5(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function o1(t,e){var n=e,r=0,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&xd(a.documentElement),n&2&&xd(a.body),n&4)for(n=a.head,xd(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Df]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(s===0){t.removeChild(i),Yd(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Yd(e)}function pb(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pb(n),ex(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function a5(t,e,n,r){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Df])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Zr(t.nextSibling),t===null)break}return null}function o5(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zr(t.nextSibling),t===null))return null;return t}function gb(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function l5(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var yb=null;function l1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function U2(t,e,n){switch(e=gp(n),t){case"html":if(t=e.documentElement,!t)throw Error(Y(452));return t;case"head":if(t=e.head,!t)throw Error(Y(453));return t;case"body":if(t=e.body,!t)throw Error(Y(454));return t;default:throw Error(Y(451))}}function xd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ex(t)}var zr=new Map,c1=new Set;function yp(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=it.d;it.d={f:c5,r:u5,D:d5,C:f5,L:h5,m:m5,X:g5,S:p5,M:y5};function c5(){var t=Ii.f(),e=fg();return t||e}function u5(t){var e=Xc(t);e!==null&&e.tag===5&&e.type==="form"?IN(e):Ii.r(t)}var eu=typeof document>"u"?null:document;function F2(t,e,n){var r=eu;if(r&&typeof e=="string"&&e){var s=Lr(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),c1.has(s)||(c1.add(s),t={rel:t,crossOrigin:n,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),Rn(e,"link",t),wn(e),r.head.appendChild(e)))}}function d5(t){Ii.D(t),F2("dns-prefetch",t,null)}function f5(t,e){Ii.C(t,e),F2("preconnect",t,e)}function h5(t,e,n){Ii.L(t,e,n);var r=eu;if(r&&t&&e){var s='link[rel="preload"][as="'+Lr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Lr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Lr(n.imageSizes)+'"]')):s+='[href="'+Lr(t)+'"]';var i=s;switch(e){case"style":i=Dc(t);break;case"script":i=tu(t)}zr.has(i)||(t=Dt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),zr.set(i,t),r.querySelector(s)!==null||e==="style"&&r.querySelector(Ff(i))||e==="script"&&r.querySelector(Bf(i))||(e=r.createElement("link"),Rn(e,"link",t),wn(e),r.head.appendChild(e)))}}function m5(t,e){Ii.m(t,e);var n=eu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+Lr(r)+'"][href="'+Lr(t)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=tu(t)}if(!zr.has(i)&&(t=Dt({rel:"modulepreload",href:t},e),zr.set(i,t),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bf(i)))return}r=n.createElement("link"),Rn(r,"link",t),wn(r),n.head.appendChild(r)}}}function p5(t,e,n){Ii.S(t,e,n);var r=eu;if(r&&t){var s=Zl(r).hoistableStyles,i=Dc(t);e=e||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ff(i)))o.loading=5;else{t=Dt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=zr.get(i))&&Lx(t,n);var l=a=r.createElement("link");wn(l),Rn(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Em(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}}function g5(t,e){Ii.X(t,e);var n=eu;if(n&&t){var r=Zl(n).hoistableScripts,s=tu(t),i=r.get(s);i||(i=n.querySelector(Bf(s)),i||(t=Dt({src:t,async:!0},e),(e=zr.get(s))&&Vx(t,e),i=n.createElement("script"),wn(i),Rn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function y5(t,e){Ii.M(t,e);var n=eu;if(n&&t){var r=Zl(n).hoistableScripts,s=tu(t),i=r.get(s);i||(i=n.querySelector(Bf(s)),i||(t=Dt({src:t,async:!0,type:"module"},e),(e=zr.get(s))&&Vx(t,e),i=n.createElement("script"),wn(i),Rn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function u1(t,e,n,r){var s=(s=ba.current)?yp(s):null;if(!s)throw Error(Y(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Dc(n.href),n=Zl(s).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Dc(n.href);var i=Zl(s).hoistableStyles,a=i.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=s.querySelector(Ff(t)))&&!i._p&&(a.instance=i,a.state.loading=5),zr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zr.set(t,n),i||v5(s,t,n,a.state))),e&&r===null)throw Error(Y(528,""));return a}if(e&&r!==null)throw Error(Y(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=tu(n),n=Zl(s).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,t))}}function Dc(t){return'href="'+Lr(t)+'"'}function Ff(t){return'link[rel="stylesheet"]['+t+"]"}function B2(t){return Dt({},t,{"data-precedence":t.precedence,precedence:null})}function v5(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Rn(e,"link",n),wn(e),t.head.appendChild(e))}function tu(t){return'[src="'+Lr(t)+'"]'}function Bf(t){return"script[async]"+t}function d1(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Lr(n.href)+'"]');if(r)return e.instance=r,wn(r),r;var s=Dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),wn(r),Rn(r,"style",s),Em(r,n.precedence,t),e.instance=r;case"stylesheet":s=Dc(n.href);var i=t.querySelector(Ff(s));if(i)return e.state.loading|=4,e.instance=i,wn(i),i;r=B2(n),(s=zr.get(s))&&Lx(r,s),i=(t.ownerDocument||t).createElement("link"),wn(i);var a=i;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Rn(i,"link",r),e.state.loading|=4,Em(i,n.precedence,t),e.instance=i;case"script":return i=tu(n.src),(s=t.querySelector(Bf(i)))?(e.instance=s,wn(s),s):(r=n,(s=zr.get(i))&&(r=Dt({},n),Vx(r,s)),t=t.ownerDocument||t,s=t.createElement("script"),wn(s),Rn(s,"link",r),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(Y(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Em(r,n.precedence,t));return e.instance}function Em(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Lx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Vx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Sm=null;function f1(t,e,n){if(Sm===null){var r=new Map,s=Sm=new Map;s.set(n,r)}else s=Sm,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var i=n[s];if(!(i[Df]||i[Fn]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function h1(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function b5(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function z2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Hd=null;function w5(){}function x5(t,e,n){if(Hd===null)throw Error(Y(475));var r=Hd;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=Dc(n.href),i=t.querySelector(Ff(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=vp.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=i,wn(i);return}i=t.ownerDocument||t,n=B2(n),(s=zr.get(s))&&Lx(n,s),i=i.createElement("link"),wn(i);var a=i;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Rn(i,"link",n),e.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=vp.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function E5(){if(Hd===null)throw Error(Y(475));var t=Hd;return t.stylesheets&&t.count===0&&vb(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&vb(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function vp(){if(this.count--,this.count===0){if(this.stylesheets)vb(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bp=null;function vb(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bp=new Map,e.forEach(S5,t),bp=null,vp.call(t))}function S5(t,e){if(!(e.state.loading&4)){var n=bp.get(t);if(n)var r=n.get(null);else{n=new Map,bp.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}s=e.instance,a=s.getAttribute("data-precedence"),i=n.get(a)||r,i===r&&n.set(null,s),n.set(a,s),this.count++,r=vp.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var qd={$$typeof:ri,Provider:null,Consumer:null,_currentValue:Po,_currentValue2:Po,_threadCount:0};function T5(t,e,n,r,s,i,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Py(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Py(0),this.hiddenUpdates=Py(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $2(t,e,n,r,s,i,a,o,l,c,u,d){return t=new T5(t,e,n,a,o,l,c,d),e=1,i===!0&&(e|=24),i=pr(3,null,null,e),t.current=i,i.stateNode=t,e=fx(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},mx(i),t}function H2(t){return t?(t=Bl,t):Bl}function q2(t,e,n,r,s,i){s=H2(s),r.context===null?r.context=s:r.pendingContext=s,r=wa(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=xa(t,r,e),n!==null&&(xr(n,t,e),hd(n,t,e))}function m1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ux(t,e){m1(t,e),(t=t.alternate)&&m1(t,e)}function G2(t){if(t.tag===13){var e=Zc(t,67108864);e!==null&&xr(e,t,67108864),Ux(t,67108864)}}var wp=!0;function _5(t,e,n,r){var s=Ae.T;Ae.T=null;var i=it.p;try{it.p=2,Fx(t,e,n,r)}finally{it.p=i,Ae.T=s}}function A5(t,e,n,r){var s=Ae.T;Ae.T=null;var i=it.p;try{it.p=8,Fx(t,e,n,r)}finally{it.p=i,Ae.T=s}}function Fx(t,e,n,r){if(wp){var s=bb(r);if(s===null)d0(t,e,r,xp,n),p1(t,r);else if(C5(s,t,e,n,r))r.stopPropagation();else if(p1(t,r),e&4&&-1<k5.indexOf(t)){for(;s!==null;){var i=Xc(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=fo(i.pendingLanes);if(a!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-br(a);o.entanglements[1]|=l,a&=~l}Us(i),!(ht&6)&&(dp=Ss()+500,Uf(0))}}break;case 13:o=Zc(i,2),o!==null&&xr(o,i,2),fg(),Ux(i,2)}if(i=bb(r),i===null&&d0(t,e,r,xp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else d0(t,e,r,null,n)}}function bb(t){return t=nx(t),Bx(t)}var xp=null;function Bx(t){if(xp=null,t=Ol(t),t!==null){var e=Af(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=yD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xp=t,null}function W2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f3()){case xD:return 2;case ED:return 8;case Km:case h3:return 32;case SD:return 268435456;default:return 32}default:return 32}}var wb=!1,Ta=null,_a=null,Aa=null,Gd=new Map,Wd=new Map,aa=[],k5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p1(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(e.pointerId)}}function Vu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xc(e),e!==null&&G2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function C5(t,e,n,r,s){switch(e){case"focusin":return Ta=Vu(Ta,t,e,n,r,s),!0;case"dragenter":return _a=Vu(_a,t,e,n,r,s),!0;case"mouseover":return Aa=Vu(Aa,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gd.set(i,Vu(Gd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wd.set(i,Vu(Wd.get(i)||null,t,e,n,r,s)),!0}return!1}function Y2(t){var e=Ol(t.target);if(e!==null){var n=Af(e);if(n!==null){if(e=n.tag,e===13){if(e=yD(n),e!==null){t.blockedOn=e,x3(t.priority,function(){if(n.tag===13){var r=wr();r=Zw(r);var s=Zc(n,r);s!==null&&xr(s,n,r),Ux(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bb(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lv=r,n.target.dispatchEvent(r),Lv=null}else return e=Xc(n),e!==null&&G2(e),t.blockedOn=n,!1;e.shift()}return!0}function g1(t,e,n){Tm(t)&&n.delete(e)}function R5(){wb=!1,Ta!==null&&Tm(Ta)&&(Ta=null),_a!==null&&Tm(_a)&&(_a=null),Aa!==null&&Tm(Aa)&&(Aa=null),Gd.forEach(g1),Wd.forEach(g1)}function Bh(t,e){t.blockedOn===e&&(t.blockedOn=null,wb||(wb=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,R5)))}var zh=null;function y1(t){zh!==t&&(zh=t,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,function(){zh===t&&(zh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if(typeof r!="function"){if(Bx(r||n)===null)continue;break}var i=Xc(n);i!==null&&(t.splice(e,3),e-=3,Jv(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Yd(t){function e(l){return Bh(l,t)}Ta!==null&&Bh(Ta,t),_a!==null&&Bh(_a,t),Aa!==null&&Bh(Aa,t),Gd.forEach(e),Wd.forEach(e);for(var n=0;n<aa.length;n++){var r=aa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)Y2(n),n.blockedOn===null&&aa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[ar]||null;if(typeof i=="function")a||y1(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[ar]||null)o=a.formAction;else if(Bx(s)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),y1(n)}}}function zx(t){this._internalRoot=t}gg.prototype.render=zx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));var n=e.current,r=wr();q2(n,r,t,e,null,null)};gg.prototype.unmount=zx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;q2(t.current,2,null,t,null,null),fg(),e[Qc]=null}};function gg(t){this._internalRoot=t}gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=CD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<aa.length&&e!==0&&e<aa[n].priority;n++);aa.splice(n,0,t),n===0&&Y2(t)}};var v1=pD.version;if(v1!=="19.1.0")throw Error(Y(527,v1,"19.1.0"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=i3(e),t=t!==null?vD(t):null,t=t===null?null:t.stateNode,t};var D5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{kf=$h.inject(D5),vr=$h}catch{}}Jp.createRoot=function(t,e){if(!gD(t))throw Error(Y(299));var n=!1,r="",s=$N,i=HN,a=qN,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=$2(t,1,!1,null,null,n,r,s,i,a,o,null),t[Qc]=e.current,jx(t),new zx(e)};Jp.hydrateRoot=function(t,e,n){if(!gD(t))throw Error(Y(299));var r=!1,s="",i=$N,a=HN,o=qN,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=$2(t,1,!0,e,n??null,r,s,i,a,o,l,c),e.context=H2(null),n=e.current,r=wr(),r=Zw(r),s=wa(r),s.callback=null,xa(n,s,r),n=r,e.current.lanes=n,Rf(e,n),Us(e),t[Qc]=e.current,jx(t),new gg(e)};Jp.version="19.1.0";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),cD.exports=Jp;var N5=cD.exports;const I5=$w(N5);function rr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function b1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q2(...t){return e=>{let n=!1;const r=t.map(s=>{const i=b1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():b1(t[s],null)}}}}function Fs(...t){return y.useCallback(Q2(...t),t)}function $x(t,e=[]){let n=[];function r(i,a){const o=y.createContext(a),l=n.length;n=[...n,a];const c=d=>{var v;const{scope:h,children:p,...S}=d,b=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,T=y.useMemo(()=>S,Object.values(S));return m.jsx(b.Provider,{value:T,children:p})};c.displayName=i+"Provider";function u(d,h){var b;const p=((b=h==null?void 0:h[t])==null?void 0:b[l])||o,S=y.useContext(p);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(a=>y.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return s.scopeName=t,[r,M5(s,...e)]}function M5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...o,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Hx(t){const e=O5(t),n=y.forwardRef((r,s)=>{const{children:i,...a}=r,o=y.Children.toArray(i),l=o.find(L5);if(l){const c=l.props.children,u=o.map(d=>d===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...a,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var P5=Hx("Slot");function O5(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const a=U5(s),o=V5(i,s.props);return s.type!==y.Fragment&&(o.ref=r?Q2(r,a):a),y.cloneElement(s,o)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var X2=Symbol("radix.slottable");function j5(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=X2,e}function L5(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===X2}function V5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function U5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var F5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],as=F5.reduce((t,e)=>{const n=Hx(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function B5(t,e){t&&tg.flushSync(()=>t.dispatchEvent(e))}function Nc(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function z5(t,e=globalThis==null?void 0:globalThis.document){const n=Nc(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $5="DismissableLayer",xb="dismissableLayer.update",H5="dismissableLayer.pointerDownOutside",q5="dismissableLayer.focusOutside",w1,Z2=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qx=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=t,c=y.useContext(Z2),[u,d]=y.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),S=Fs(e,A=>d(A)),b=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(T),g=u?b.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,D=g>=v,C=Y5(A=>{const E=A.target,_=[...c.branches].some(R=>R.contains(E));!D||_||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},h),P=K5(A=>{const E=A.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},h);return z5(A=>{g===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(w1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),x1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=w1)}},[u,h,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),x1())},[u,c]),y.useEffect(()=>{const A=()=>p({});return document.addEventListener(xb,A),()=>document.removeEventListener(xb,A)},[]),m.jsx(as.div,{...l,ref:S,style:{pointerEvents:x?D?"auto":"none":void 0,...t.style},onFocusCapture:rr(t.onFocusCapture,P.onFocusCapture),onBlurCapture:rr(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:rr(t.onPointerDownCapture,C.onPointerDownCapture)})});qx.displayName=$5;var G5="DismissableLayerBranch",W5=y.forwardRef((t,e)=>{const n=y.useContext(Z2),r=y.useRef(null),s=Fs(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(as.div,{...t,ref:s})});W5.displayName=G5;function Y5(t,e=globalThis==null?void 0:globalThis.document){const n=Nc(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){J2(H5,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function K5(t,e=globalThis==null?void 0:globalThis.document){const n=Nc(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&J2(q5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x1(){const t=new CustomEvent(xb);document.dispatchEvent(t)}function J2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?B5(s,i):s.dispatchEvent(i)}var ja=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Q5=lD[" useId ".trim().toString()]||(()=>{}),X5=0;function Z5(t){const[e,n]=y.useState(Q5());return ja(()=>{n(r=>r??String(X5++))},[t]),t||(e?`radix-${e}`:"")}const J5=["top","right","bottom","left"],La=Math.min,mr=Math.max,Ep=Math.round,Hh=Math.floor,_s=t=>({x:t,y:t}),eU={left:"right",right:"left",bottom:"top",top:"bottom"},tU={start:"end",end:"start"};function Eb(t,e,n){return mr(t,La(e,n))}function Ti(t,e){return typeof t=="function"?t(e):t}function _i(t){return t.split("-")[0]}function nu(t){return t.split("-")[1]}function Gx(t){return t==="x"?"y":"x"}function Wx(t){return t==="y"?"height":"width"}const nU=new Set(["top","bottom"]);function ws(t){return nU.has(_i(t))?"y":"x"}function Yx(t){return Gx(ws(t))}function rU(t,e,n){n===void 0&&(n=!1);const r=nu(t),s=Yx(t),i=Wx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Sp(a)),[a,Sp(a)]}function sU(t){const e=Sp(t);return[Sb(t),e,Sb(e)]}function Sb(t){return t.replace(/start|end/g,e=>tU[e])}const E1=["left","right"],S1=["right","left"],iU=["top","bottom"],aU=["bottom","top"];function oU(t,e,n){switch(t){case"top":case"bottom":return n?e?S1:E1:e?E1:S1;case"left":case"right":return e?iU:aU;default:return[]}}function lU(t,e,n,r){const s=nu(t);let i=oU(_i(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Sb)))),i}function Sp(t){return t.replace(/left|right|bottom|top/g,e=>eU[e])}function cU(t){return{top:0,right:0,bottom:0,left:0,...t}}function eI(t){return typeof t!="number"?cU(t):{top:t,right:t,bottom:t,left:t}}function Tp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function T1(t,e,n){let{reference:r,floating:s}=t;const i=ws(e),a=Yx(e),o=Wx(a),l=_i(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[o]/2-s[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(nu(e)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1);break}return p}const uU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=T1(c,r,l),h=r,p={},S=0;for(let b=0;b<o.length;b++){const{name:T,fn:v}=o[b],{x:g,y:x,data:D,reset:C}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});u=g??u,d=x??d,p={...p,[T]:{...p[T],...D}},C&&S<=50&&(S++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=T1(c,h,l)),b=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}};async function Kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Ti(e,t),S=eI(p),T=o[h?d==="floating"?"reference":"floating":d],v=Tp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),g=d==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),D=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=Tp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:x,strategy:l}):g);return{top:(v.top-C.top+S.top)/D.y,bottom:(C.bottom-v.bottom+S.bottom)/D.y,left:(v.left-C.left+S.left)/D.x,right:(C.right-v.right+S.right)/D.x}}const dU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Ti(t,e)||{};if(c==null)return{};const d=eI(u),h={x:n,y:r},p=Yx(s),S=Wx(p),b=await a.getDimensions(c),T=p==="y",v=T?"top":"left",g=T?"bottom":"right",x=T?"clientHeight":"clientWidth",D=i.reference[S]+i.reference[p]-h[p]-i.floating[S],C=h[p]-i.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let A=P?P[x]:0;(!A||!await(a.isElement==null?void 0:a.isElement(P)))&&(A=o.floating[x]||i.floating[S]);const E=D/2-C/2,_=A/2-b[S]/2-1,R=La(d[v],_),N=La(d[g],_),I=R,M=A-b[S]-N,V=A/2-b[S]/2+E,z=Eb(I,V,M),L=!l.arrow&&nu(s)!=null&&V!==z&&i.reference[S]/2-(V<I?R:N)-b[S]/2<0,U=L?V<I?V-I:V-M:0;return{[p]:h[p]+U,data:{[p]:z,centerOffset:V-z-U,...L&&{alignmentOffset:U}},reset:L}}}),fU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...T}=Ti(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=_i(s),g=ws(o),x=_i(o)===o,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(x||!b?[Sp(o)]:sU(o)),P=S!=="none";!h&&P&&C.push(...lU(o,b,S,D));const A=[o,...C],E=await Kd(e,T),_=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&_.push(E[v]),d){const V=rU(s,a,D);_.push(E[V[0]],E[V[1]])}if(R=[...R,{placement:s,overflows:_}],!_.every(V=>V<=0)){var N,I;const V=(((N=i.flip)==null?void 0:N.index)||0)+1,z=A[V];if(z&&(!(d==="alignment"?g!==ws(z):!1)||R.every(j=>ws(j.placement)===g?j.overflows[0]>0:!0)))return{data:{index:V,overflows:R},reset:{placement:z}};let L=(I=R.filter(U=>U.overflows[0]<=0).sort((U,j)=>U.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var M;const U=(M=R.filter(j=>{if(P){const K=ws(j.placement);return K===g||K==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(K=>K>0).reduce((K,Q)=>K+Q,0)]).sort((j,K)=>j[1]-K[1])[0])==null?void 0:M[0];U&&(L=U);break}case"initialPlacement":L=o;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function _1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A1(t){return J5.some(e=>t[e]>=0)}const hU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ti(t,e);switch(r){case"referenceHidden":{const i=await Kd(e,{...s,elementContext:"reference"}),a=_1(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:A1(a)}}}case"escaped":{const i=await Kd(e,{...s,altBoundary:!0}),a=_1(i,n.floating);return{data:{escapedOffsets:a,escaped:A1(a)}}}default:return{}}}}},tI=new Set(["left","top"]);async function mU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=_i(n),o=nu(n),l=ws(n)==="y",c=tI.has(a)?-1:1,u=i&&l?-1:1,d=Ti(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:S}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof S=="number"&&(p=o==="end"?S*-1:S),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const pU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=e,l=await mU(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},gU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:T=>{let{x:v,y:g}=T;return{x:v,y:g}}},...l}=Ti(t,e),c={x:n,y:r},u=await Kd(e,l),d=ws(_i(s)),h=Gx(d);let p=c[h],S=c[d];if(i){const T=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=p+u[T],x=p-u[v];p=Eb(g,p,x)}if(a){const T=d==="y"?"top":"left",v=d==="y"?"bottom":"right",g=S+u[T],x=S-u[v];S=Eb(g,S,x)}const b=o.fn({...e,[h]:p,[d]:S});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:i,[d]:a}}}}}},yU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ti(t,e),u={x:n,y:r},d=ws(s),h=Gx(d);let p=u[h],S=u[d];const b=Ti(o,e),T=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const x=h==="y"?"height":"width",D=i.reference[h]-i.floating[x]+T.mainAxis,C=i.reference[h]+i.reference[x]-T.mainAxis;p<D?p=D:p>C&&(p=C)}if(c){var v,g;const x=h==="y"?"width":"height",D=tI.has(_i(s)),C=i.reference[d]-i.floating[x]+(D&&((v=a.offset)==null?void 0:v[d])||0)+(D?0:T.crossAxis),P=i.reference[d]+i.reference[x]+(D?0:((g=a.offset)==null?void 0:g[d])||0)-(D?T.crossAxis:0);S<C?S=C:S>P&&(S=P)}return{[h]:p,[d]:S}}}},vU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Ti(t,e),u=await Kd(e,c),d=_i(s),h=nu(s),p=ws(s)==="y",{width:S,height:b}=i.floating;let T,v;d==="top"||d==="bottom"?(T=d,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,T=h==="end"?"top":"bottom");const g=b-u.top-u.bottom,x=S-u.left-u.right,D=La(b-u[T],g),C=La(S-u[v],x),P=!e.middlewareData.shift;let A=D,E=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=g),P&&!h){const R=mr(u.left,0),N=mr(u.right,0),I=mr(u.top,0),M=mr(u.bottom,0);p?E=S-2*(R!==0||N!==0?R+N:mr(u.left,u.right)):A=b-2*(I!==0||M!==0?I+M:mr(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:A});const _=await a.getDimensions(o.floating);return S!==_.width||b!==_.height?{reset:{rects:!0}}:{}}}};function yg(){return typeof window<"u"}function ru(t){return nI(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(nI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nI(t){return yg()?t instanceof Node||t instanceof Er(t).Node:!1}function es(t){return yg()?t instanceof Element||t instanceof Er(t).Element:!1}function Ps(t){return yg()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function k1(t){return!yg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}const bU=new Set(["inline","contents"]);function zf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ts(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bU.has(s)}const wU=new Set(["table","td","th"]);function xU(t){return wU.has(ru(t))}const EU=[":popover-open",":modal"];function vg(t){return EU.some(e=>{try{return t.matches(e)}catch{return!1}})}const SU=["transform","translate","scale","rotate","perspective"],TU=["transform","translate","scale","rotate","perspective","filter"],_U=["paint","layout","strict","content"];function Kx(t){const e=Qx(),n=es(t)?ts(t):t;return SU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||TU.some(r=>(n.willChange||"").includes(r))||_U.some(r=>(n.contain||"").includes(r))}function AU(t){let e=Va(t);for(;Ps(e)&&!Ic(e);){if(Kx(e))return e;if(vg(e))return null;e=Va(e)}return null}function Qx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kU=new Set(["html","body","#document"]);function Ic(t){return kU.has(ru(t))}function ts(t){return Er(t).getComputedStyle(t)}function bg(t){return es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Va(t){if(ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k1(t)&&t.host||Bs(t);return k1(e)?e.host:e}function rI(t){const e=Va(t);return Ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ps(e)&&zf(e)?e:rI(e)}function Qd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Er(s);if(i){const o=Tb(a);return e.concat(a,a.visualViewport||[],zf(s)?s:[],o&&n?Qd(o):[])}return e.concat(s,Qd(s,[],n))}function Tb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sI(t){const e=ts(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ps(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=Ep(n)!==i||Ep(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function Xx(t){return es(t)?t:t.contextElement}function ac(t){const e=Xx(t);if(!Ps(e))return _s(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=sI(e);let a=(i?Ep(n.width):n.width)/r,o=(i?Ep(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const CU=_s(0);function iI(t){const e=Er(t);return!Qx()||!e.visualViewport?CU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function Xo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Xx(t);let a=_s(1);e&&(r?es(r)&&(a=ac(r)):a=ac(t));const o=RU(i,n,r)?iI(i):_s(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,u=s.width/a.x,d=s.height/a.y;if(i){const h=Er(i),p=r&&es(r)?Er(r):r;let S=h,b=Tb(S);for(;b&&r&&p!==S;){const T=ac(b),v=b.getBoundingClientRect(),g=ts(b),x=v.left+(b.clientLeft+parseFloat(g.paddingLeft))*T.x,D=v.top+(b.clientTop+parseFloat(g.paddingTop))*T.y;l*=T.x,c*=T.y,u*=T.x,d*=T.y,l+=x,c+=D,S=Er(b),b=Tb(S)}}return Tp({width:u,height:d,x:l,y:c})}function wg(t,e){const n=bg(t).scrollLeft;return e?e.left+n:Xo(Bs(t)).left+n}function aI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-wg(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function DU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Bs(r),o=e?vg(e.floating):!1;if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=_s(1);const u=_s(0),d=Ps(r);if((d||!d&&!i)&&((ru(r)!=="body"||zf(a))&&(l=bg(r)),Ps(r))){const p=Xo(r);c=ac(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=a&&!d&&!i?aI(a,l):_s(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function NU(t){return Array.from(t.getClientRects())}function IU(t){const e=Bs(t),n=bg(t),r=t.ownerDocument.body,s=mr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+wg(t);const o=-n.scrollTop;return ts(r).direction==="rtl"&&(a+=mr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}const C1=25;function MU(t,e){const n=Er(t),r=Bs(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const u=Qx();(!u||u&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}const c=wg(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,S=Math.abs(r.clientWidth-d.clientWidth-p);S<=C1&&(i-=S)}else c<=C1&&(i+=c);return{width:i,height:a,x:o,y:l}}const PU=new Set(["absolute","fixed"]);function OU(t,e){const n=Xo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ps(t)?ac(t):_s(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:a,height:o,x:l,y:c}}function R1(t,e,n){let r;if(e==="viewport")r=MU(t,n);else if(e==="document")r=IU(Bs(t));else if(es(e))r=OU(e,n);else{const s=iI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Tp(r)}function oI(t,e){const n=Va(t);return n===e||!es(n)||Ic(n)?!1:ts(n).position==="fixed"||oI(n,e)}function jU(t,e){const n=e.get(t);if(n)return n;let r=Qd(t,[],!1).filter(o=>es(o)&&ru(o)!=="body"),s=null;const i=ts(t).position==="fixed";let a=i?Va(t):t;for(;es(a)&&!Ic(a);){const o=ts(a),l=Kx(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&PU.has(s.position)||zf(a)&&!l&&oI(t,a))?r=r.filter(u=>u!==a):s=o,a=Va(a)}return e.set(t,r),r}function LU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?vg(e)?[]:jU(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const d=R1(e,u,s);return c.top=mr(d.top,c.top),c.right=La(d.right,c.right),c.bottom=La(d.bottom,c.bottom),c.left=mr(d.left,c.left),c},R1(e,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VU(t){const{width:e,height:n}=sI(t);return{width:e,height:n}}function UU(t,e,n){const r=Ps(e),s=Bs(e),i=n==="fixed",a=Xo(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=_s(0);function c(){l.x=wg(s)}if(r||!r&&!i)if((ru(e)!=="body"||zf(s))&&(o=bg(e)),r){const p=Xo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?aI(s,o):_s(0),d=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function h0(t){return ts(t).position==="static"}function D1(t,e){if(!Ps(t)||ts(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bs(t)===n&&(n=n.ownerDocument.body),n}function lI(t,e){const n=Er(t);if(vg(t))return n;if(!Ps(t)){let s=Va(t);for(;s&&!Ic(s);){if(es(s)&&!h0(s))return s;s=Va(s)}return n}let r=D1(t,e);for(;r&&xU(r)&&h0(r);)r=D1(r,e);return r&&Ic(r)&&h0(r)&&!Kx(r)?n:r||AU(t)||n}const FU=async function(t){const e=this.getOffsetParent||lI,n=this.getDimensions,r=await n(t.floating);return{reference:UU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BU(t){return ts(t).direction==="rtl"}const zU={convertOffsetParentRelativeRectToViewportRelativeRect:DU,getDocumentElement:Bs,getClippingRect:LU,getOffsetParent:lI,getElementRects:FU,getClientRects:NU,getDimensions:VU,getScale:ac,isElement:es,isRTL:BU};function cI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $U(t,e){let n=null,r;const s=Bs(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(o||e(),!h||!p)return;const S=Hh(d),b=Hh(s.clientWidth-(u+h)),T=Hh(s.clientHeight-(d+p)),v=Hh(u),x={rootMargin:-S+"px "+-b+"px "+-T+"px "+-v+"px",threshold:mr(0,La(1,l))||1};let D=!0;function C(P){const A=P[0].intersectionRatio;if(A!==l){if(!D)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!cI(c,t.getBoundingClientRect())&&a(),D=!1}try{n=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(t)}return a(!0),i}function HU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Xx(t),u=s||i?[...c?Qd(c):[],...Qd(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&o?$U(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let S,b=l?Xo(t):null;l&&T();function T(){const v=Xo(t);b&&!cI(b,v)&&n(),b=v,S=requestAnimationFrame(T)}return n(),()=>{var v;u.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const qU=pU,GU=gU,WU=fU,YU=vU,KU=hU,N1=dU,QU=yU,XU=(t,e,n)=>{const r=new Map,s={platform:zU,...n},i={...s.platform,_c:r};return uU(t,e,{...s,platform:i})};var ZU=typeof document<"u",JU=function(){},_m=ZU?y.useLayoutEffect:JU;function _p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_p(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_p(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function uI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I1(t,e){const n=uI(t);return Math.round(e*n)/n}function m0(t){const e=y.useRef(t);return _m(()=>{e.current=t}),e}function e9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);_p(h,r)||p(r);const[S,b]=y.useState(null),[T,v]=y.useState(null),g=y.useCallback(j=>{j!==P.current&&(P.current=j,b(j))},[]),x=y.useCallback(j=>{j!==A.current&&(A.current=j,v(j))},[]),D=i||S,C=a||T,P=y.useRef(null),A=y.useRef(null),E=y.useRef(u),_=l!=null,R=m0(l),N=m0(s),I=m0(c),M=y.useCallback(()=>{if(!P.current||!A.current)return;const j={placement:e,strategy:n,middleware:h};N.current&&(j.platform=N.current),XU(P.current,A.current,j).then(K=>{const Q={...K,isPositioned:I.current!==!1};V.current&&!_p(E.current,Q)&&(E.current=Q,tg.flushSync(()=>{d(Q)}))})},[h,e,n,N,I]);_m(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const V=y.useRef(!1);_m(()=>(V.current=!0,()=>{V.current=!1}),[]),_m(()=>{if(D&&(P.current=D),C&&(A.current=C),D&&C){if(R.current)return R.current(D,C,M);M()}},[D,C,M,R,_]);const z=y.useMemo(()=>({reference:P,floating:A,setReference:g,setFloating:x}),[g,x]),L=y.useMemo(()=>({reference:D,floating:C}),[D,C]),U=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!L.floating)return j;const K=I1(L.floating,u.x),Q=I1(L.floating,u.y);return o?{...j,transform:"translate("+K+"px, "+Q+"px)",...uI(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Q}},[n,o,L.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:M,refs:z,elements:L,floatingStyles:U}),[u,M,z,L,U])}const t9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?N1({element:r.current,padding:s}).fn(n):{}:r?N1({element:r,padding:s}).fn(n):{}}}},n9=(t,e)=>({...qU(t),options:[t,e]}),r9=(t,e)=>({...GU(t),options:[t,e]}),s9=(t,e)=>({...QU(t),options:[t,e]}),i9=(t,e)=>({...WU(t),options:[t,e]}),a9=(t,e)=>({...YU(t),options:[t,e]}),o9=(t,e)=>({...KU(t),options:[t,e]}),l9=(t,e)=>({...t9(t),options:[t,e]});var c9="Arrow",dI=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(as.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});dI.displayName=c9;var u9=dI;function d9(t){const[e,n]=y.useState(void 0);return ja(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zx="Popper",[fI,xg]=$x(Zx),[f9,hI]=fI(Zx),mI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return m.jsx(f9,{scope:e,anchor:r,onAnchorChange:s,children:n})};mI.displayName=Zx;var pI="PopperAnchor",gI=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=hI(pI,n),a=y.useRef(null),o=Fs(e,a),l=y.useRef(null);return y.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:m.jsx(as.div,{...s,ref:o})});gI.displayName=pI;var Jx="PopperContent",[h9,m9]=fI(Jx),yI=y.forwardRef((t,e)=>{var Oe,nt,ye,Ye,G,oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:S,...b}=t,T=hI(Jx,n),[v,g]=y.useState(null),x=Fs(e,be=>g(be)),[D,C]=y.useState(null),P=d9(D),A=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,_=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],I=N.length>0,M={padding:R,boundary:N.filter(g9),altBoundary:I},{refs:V,floatingStyles:z,placement:L,isPositioned:U,middlewareData:j}=e9({strategy:"fixed",placement:_,whileElementsMounted:(...be)=>HU(...be,{animationFrame:p==="always"}),elements:{reference:T.anchor},middleware:[n9({mainAxis:s+E,alignmentAxis:a}),l&&r9({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?s9():void 0,...M}),l&&i9({...M}),a9({...M,apply:({elements:be,rects:je,availableWidth:wt,availableHeight:rt})=>{const{width:mt,height:xt}=je.reference,et=be.floating.style;et.setProperty("--radix-popper-available-width",`${wt}px`),et.setProperty("--radix-popper-available-height",`${rt}px`),et.setProperty("--radix-popper-anchor-width",`${mt}px`),et.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),D&&l9({element:D,padding:o}),y9({arrowWidth:A,arrowHeight:E}),h&&o9({strategy:"referenceHidden",...M})]}),[K,Q]=wI(L),pe=Nc(S);ja(()=>{U&&(pe==null||pe())},[U,pe]);const ae=(Oe=j.arrow)==null?void 0:Oe.x,re=(nt=j.arrow)==null?void 0:nt.y,de=((ye=j.arrow)==null?void 0:ye.centerOffset)!==0,[se,Ne]=y.useState();return ja(()=>{v&&Ne(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Ye=j.transformOrigin)==null?void 0:Ye.x,(G=j.transformOrigin)==null?void 0:G.y].join(" "),...((oe=j.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(h9,{scope:n,placedSide:K,onArrowChange:C,arrowX:ae,arrowY:re,shouldHideArrow:de,children:m.jsx(as.div,{"data-side":K,"data-align":Q,...b,ref:x,style:{...b.style,animation:U?void 0:"none"}})})})});yI.displayName=Jx;var vI="PopperArrow",p9={top:"bottom",right:"left",bottom:"top",left:"right"},bI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=m9(vI,r),a=p9[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(u9,{...s,ref:n,style:{...s.style,display:"block"}})})});bI.displayName=vI;function g9(t){return t!==null}var y9=t=>({name:"transformOrigin",options:t,fn(e){var T,v,g;const{placement:n,rects:r,middlewareData:s}=e,a=((T=s.arrow)==null?void 0:T.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=wI(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let S="",b="";return c==="bottom"?(S=a?d:`${h}px`,b=`${-l}px`):c==="top"?(S=a?d:`${h}px`,b=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,b=a?d:`${p}px`):c==="left"&&(S=`${r.floating.width+l}px`,b=a?d:`${p}px`),{data:{x:S,y:b}}}});function wI(t){const[e,n="center"]=t.split("-");return[e,n]}var v9=mI,eE=gI,xI=yI,EI=bI,b9="Portal",SI=y.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[s,i]=y.useState(!1);ja(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?r3.createPortal(m.jsx(as.div,{...r,ref:e}),a):null});SI.displayName=b9;function w9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Eg=t=>{const{present:e,children:n}=t,r=x9(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Fs(r.ref,E9(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Eg.displayName="Presence";function x9(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),a=t?"mounted":"unmounted",[o,l]=w9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=qh(r.current);i.current=o==="mounted"?c:"none"},[o]),ja(()=>{const c=r.current,u=s.current;if(u!==t){const h=i.current,p=qh(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ja(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const b=qh(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&b&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},h=p=>{p.target===e&&(i.current=qh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function qh(t){return(t==null?void 0:t.animationName)||"none"}function E9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var S9=lD[" useInsertionEffect ".trim().toString()]||ja;function T9({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=_9({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:s;{const u=y.useRef(t!==void 0);y.useEffect(()=>{const d=u.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=y.useCallback(u=>{var d;if(o){const h=A9(u)?u(t):u;h!==t&&((d=a.current)==null||d.call(a,h))}else i(u)},[o,t,i,a]);return[l,c]}function _9({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return S9(()=>{i.current=e},[e]),y.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function A9(t){return typeof t=="function"}var k9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),C9="VisuallyHidden",TI=y.forwardRef((t,e)=>m.jsx(as.span,{...t,ref:e,style:{...k9,...t.style}}));TI.displayName=C9;var R9=TI,[Sg]=$x("Tooltip",[xg]),tE=xg(),_I="TooltipProvider",D9=700,M1="tooltip.open",[N9,AI]=Sg(_I),kI=t=>{const{__scopeTooltip:e,delayDuration:n=D9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=y.useRef(!0),o=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),m.jsx(N9,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:y.useCallback(c=>{o.current=c},[]),disableHoverableContent:s,children:i})};kI.displayName=_I;var CI="Tooltip",[iae,Tg]=Sg(CI),_b="TooltipTrigger",I9=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Tg(_b,n),i=AI(_b,n),a=tE(n),o=y.useRef(null),l=Fs(e,o,s.onTriggerChange),c=y.useRef(!1),u=y.useRef(!1),d=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),m.jsx(eE,{asChild:!0,...a,children:m.jsx(as.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:rr(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:rr(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:rr(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:rr(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:rr(t.onBlur,s.onClose),onClick:rr(t.onClick,s.onClose)})})});I9.displayName=_b;var M9="TooltipPortal",[aae,P9]=Sg(M9,{forceMount:void 0}),Mc="TooltipContent",RI=y.forwardRef((t,e)=>{const n=P9(Mc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Tg(Mc,t.__scopeTooltip);return m.jsx(Eg,{present:r||a.open,children:a.disableHoverableContent?m.jsx(DI,{side:s,...i,ref:e}):m.jsx(O9,{side:s,...i,ref:e})})}),O9=y.forwardRef((t,e)=>{const n=Tg(Mc,t.__scopeTooltip),r=AI(Mc,t.__scopeTooltip),s=y.useRef(null),i=Fs(e,s),[a,o]=y.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{o(null),d(!1)},[d]),p=y.useCallback((S,b)=>{const T=S.currentTarget,v={x:S.clientX,y:S.clientY},g=F9(v,T.getBoundingClientRect()),x=B9(v,g),D=z9(b.getBoundingClientRect()),C=H9([...x,...D]);o(C),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&u){const S=T=>p(T,u),b=T=>p(T,l);return l.addEventListener("pointerleave",S),u.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",S),u.removeEventListener("pointerleave",b)}}},[l,u,p,h]),y.useEffect(()=>{if(a){const S=b=>{const T=b.target,v={x:b.clientX,y:b.clientY},g=(l==null?void 0:l.contains(T))||(u==null?void 0:u.contains(T)),x=!$9(v,a);g?h():x&&(h(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,u,a,c,h]),m.jsx(DI,{...t,ref:i})}),[j9,L9]=Sg(CI,{isInside:!1}),V9=j5("TooltipContent"),DI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,l=Tg(Mc,n),c=tE(n),{onClose:u}=l;return y.useEffect(()=>(document.addEventListener(M1,u),()=>document.removeEventListener(M1,u)),[u]),y.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),m.jsx(qx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:m.jsxs(xI,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(V9,{children:r}),m.jsx(j9,{scope:n,isInside:!0,children:m.jsx(R9,{id:l.contentId,role:"tooltip",children:s||r})})]})})});RI.displayName=Mc;var NI="TooltipArrow",U9=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tE(n);return L9(NI,n).isInside?null:m.jsx(EI,{...s,...r,ref:e})});U9.displayName=NI;function F9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function B9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function z9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function $9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(s=!s)}return s}function H9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),q9(e)}function q9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var G9=kI,II=RI;function MI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=MI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function PI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=MI(t))&&(r&&(r+=" "),r+=e);return r}const nE="-",W9=t=>{const e=K9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(nE);return o[0]===""&&o.length!==1&&o.shift(),OI(o,e)||Y9(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},OI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?OI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(nE);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},P1=/^\[(.+)\]$/,Y9=t=>{if(P1.test(t)){const e=P1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},K9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Ab(n[s],r,s,e);return r},Ab=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:O1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Q9(s)){Ab(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Ab(a,O1(e,i),n,r)})})},O1=(t,e)=>{let n=t;return e.split(nE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q9=t=>t.isThemeGetter,X9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},kb="!",Cb=":",Z9=Cb.length,J9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,o=0,l=0,c;for(let S=0;S<s.length;S++){let b=s[S];if(a===0&&o===0){if(b===Cb){i.push(s.slice(l,S)),l=S+Z9;continue}if(b==="/"){c=S;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const u=i.length===0?s:s.substring(l),d=eF(u),h=d!==u,p=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}};if(e){const s=e+Cb,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},eF=t=>t.endsWith(kb)?t.substring(0,t.length-1):t.startsWith(kb)?t.substring(1):t,tF=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},nF=t=>({cache:X9(t.cacheSize),parseClassName:J9(t),sortModifiers:tF(t),...W9(t)}),rF=/\s+/,sF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],o=t.trim().split(rF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:d,modifiers:h,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:b}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let T=!!b,v=r(T?S.substring(0,b):S);if(!v){if(!T){l=u+(l.length>0?" "+l:l);continue}if(v=r(S),!v){l=u+(l.length>0?" "+l:l);continue}T=!1}const g=i(h).join(":"),x=p?g+kb:g,D=x+v;if(a.includes(D))continue;a.push(D);const C=s(v,T);for(let P=0;P<C.length;++P){const A=C[P];a.push(x+A)}l=u+(l.length>0?" "+l:l)}return l};function iF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jI(e))&&(r&&(r+=" "),r+=n);return r}const jI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jI(t[r]))&&(n&&(n+=" "),n+=e);return n};function aF(t,...e){let n,r,s,i=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return n=nF(c),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=sF(l,n);return s(l,u),u}return function(){return i(iF.apply(null,arguments))}}const ln=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},LI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oF=/^\d+\/\d+$/,lF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>oF.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Gi=t=>!!t&&Number.isInteger(Number(t)),p0=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Ys=t=>lF.test(t),hF=()=>!0,mF=t=>cF.test(t)&&!uF.test(t),UI=()=>!1,pF=t=>dF.test(t),gF=t=>fF.test(t),yF=t=>!ce(t)&&!ue(t),vF=t=>su(t,zI,UI),ce=t=>LI.test(t),co=t=>su(t,$I,mF),g0=t=>su(t,SF,Be),j1=t=>su(t,FI,UI),bF=t=>su(t,BI,gF),Gh=t=>su(t,HI,pF),ue=t=>VI.test(t),Uu=t=>iu(t,$I),wF=t=>iu(t,TF),L1=t=>iu(t,FI),xF=t=>iu(t,zI),EF=t=>iu(t,BI),Wh=t=>iu(t,HI,!0),su=(t,e,n)=>{const r=LI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},iu=(t,e,n=!1)=>{const r=VI.exec(t);return r?r[1]?e(r[1]):n:!1},FI=t=>t==="position"||t==="percentage",BI=t=>t==="image"||t==="url",zI=t=>t==="length"||t==="size"||t==="bg-size",$I=t=>t==="length",SF=t=>t==="number",TF=t=>t==="family-name",HI=t=>t==="shadow",_F=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),r=ln("font-weight"),s=ln("tracking"),i=ln("leading"),a=ln("breakpoint"),o=ln("container"),l=ln("spacing"),c=ln("radius"),u=ln("shadow"),d=ln("inset-shadow"),h=ln("text-shadow"),p=ln("drop-shadow"),S=ln("blur"),b=ln("perspective"),T=ln("aspect"),v=ln("ease"),g=ln("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...D(),ue,ce],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],E=()=>[ue,ce,l],_=()=>[pl,"full","auto",...E()],R=()=>[Gi,"none","subgrid",ue,ce],N=()=>["auto",{span:["full",Gi,ue,ce]},Gi,ue,ce],I=()=>[Gi,"auto",ue,ce],M=()=>["auto","min","max","fr",ue,ce],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...E()],U=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],j=()=>[t,ue,ce],K=()=>[...D(),L1,j1,{position:[ue,ce]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],pe=()=>["auto","cover","contain",xF,vF,{size:[ue,ce]}],ae=()=>[p0,Uu,co],re=()=>["","none","full",c,ue,ce],de=()=>["",Be,Uu,co],se=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Be,p0,L1,j1],nt=()=>["","none",S,ue,ce],ye=()=>["none",Be,ue,ce],Ye=()=>["none",Be,ue,ce],G=()=>[Be,ue,ce],oe=()=>[pl,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ys],breakpoint:[Ys],color:[hF],container:[Ys],"drop-shadow":[Ys],ease:["in","out","in-out"],font:[yF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ys],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ys],shadow:[Ys],spacing:["px",Be],text:[Ys],"text-shadow":[Ys],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,ce,ue,T]}],container:["container"],columns:[{columns:[Be,ce,ue,o]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Gi,"auto",ue,ce]}],basis:[{basis:[pl,"full","auto",o,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,pl,"auto","initial","none",ce]}],grow:[{grow:["",Be,ue,ce]}],shrink:[{shrink:["",Be,ue,ce]}],order:[{order:[Gi,"first","last","none",ue,ce]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[o,"screen",...U()]}],"min-w":[{"min-w":[o,"screen","none",...U()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Uu,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ue,g0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",p0,ce]}],"font-family":[{font:[wF,ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ue,ce]}],"line-clamp":[{"line-clamp":[Be,"none",ue,g0]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",ue,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",ue,co]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Be,"auto",ue,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:pe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gi,ue,ce],radial:["",ue,ce],conic:[Gi,ue,ce]},EF,bF]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,ue,ce]}],"outline-w":[{outline:["",Be,Uu,co]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",u,Wh,Gh]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",d,Wh,Gh]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Be,co]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",h,Wh,Gh]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Be,ue,ce]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[ue,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:pe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ce]}],filter:[{filter:["","none",ue,ce]}],blur:[{blur:nt()}],brightness:[{brightness:[Be,ue,ce]}],contrast:[{contrast:[Be,ue,ce]}],"drop-shadow":[{"drop-shadow":["","none",p,Wh,Gh]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Be,ue,ce]}],"hue-rotate":[{"hue-rotate":[Be,ue,ce]}],invert:[{invert:["",Be,ue,ce]}],saturate:[{saturate:[Be,ue,ce]}],sepia:[{sepia:["",Be,ue,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ce]}],"backdrop-blur":[{"backdrop-blur":nt()}],"backdrop-brightness":[{"backdrop-brightness":[Be,ue,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Be,ue,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,ue,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,ue,ce]}],"backdrop-invert":[{"backdrop-invert":["",Be,ue,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Be,ue,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Be,ue,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,ue,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",ue,ce]}],ease:[{ease:["linear","initial",v,ue,ce]}],delay:[{delay:[Be,ue,ce]}],animate:[{animate:["none",g,ue,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ue,ce]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:G()}],"skew-x":[{"skew-x":G()}],"skew-y":[{"skew-y":G()}],transform:[{transform:[ue,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ce]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Be,Uu,co,g0]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AF=aF(_F);function he(...t){return AF(PI(t))}const kF=G9,CF=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(II,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));CF.displayName=II.displayName;var _g=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},oa,zw,HR,DF=(HR=class{constructor(){Qe(this,oa,RF);Qe(this,zw,!1)}setTimeoutProvider(t){De(this,oa,t)}setTimeout(t,e){return H(this,oa).setTimeout(t,e)}clearTimeout(t){H(this,oa).clearTimeout(t)}setInterval(t,e){return H(this,oa).setInterval(t,e)}clearInterval(t){H(this,oa).clearInterval(t)}},oa=new WeakMap,zw=new WeakMap,HR),Rb=new DF;function NF(t){setTimeout(t,0)}var Ag=typeof window>"u"||"Deno"in globalThis;function qr(){}function IF(t,e){return typeof t=="function"?t(e):t}function MF(t){return typeof t=="number"&&t>=0&&t!==1/0}function PF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Db(t,e){return typeof t=="function"?t(e):t}function OF(t,e){return typeof t=="function"?t(e):t}function V1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==rE(a,e.options))return!1}else if(!Zd(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function U1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xd(e.options.mutationKey)!==Xd(i))return!1}else if(!Zd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function rE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xd)(t)}function Xd(t){return JSON.stringify(t,(e,n)=>Nb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zd(t[n],e[n])):!1}var jF=Object.prototype.hasOwnProperty;function qI(t,e){if(t===e)return t;const n=F1(t)&&F1(e);if(!n&&!(Nb(t)&&Nb(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=n?c:i[c],d=t[u],h=e[u];if(d===h){o[u]=d,(n?c<s:jF.call(t,u))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){o[u]=h;continue}const p=qI(d,h);o[u]=p,p===d&&l++}return s===a&&l===s?t:o}function F1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Nb(t){if(!B1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B1(t){return Object.prototype.toString.call(t)==="[object Object]"}function LF(t){return new Promise(e=>{Rb.setTimeout(e,t)})}function VF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qI(t,e):e}function UF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function FF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sE=Symbol();function GI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Co,la,fc,qR,BF=(qR=class extends _g{constructor(){super();Qe(this,Co);Qe(this,la);Qe(this,fc);De(this,fc,e=>{if(!Ag&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,la)||this.setEventListener(H(this,fc))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,la))==null||e.call(this),De(this,la,void 0))}setEventListener(e){var n;De(this,fc,e),(n=H(this,la))==null||n.call(this),De(this,la,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Co)!==e&&(De(this,Co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Co)=="boolean"?H(this,Co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Co=new WeakMap,la=new WeakMap,fc=new WeakMap,qR),WI=new BF;function zF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var $F=NF;function HF(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=$F;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Gn=HF(),hc,ca,mc,GR,qF=(GR=class extends _g{constructor(){super();Qe(this,hc,!0);Qe(this,ca);Qe(this,mc);De(this,mc,e=>{if(!Ag&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,ca)||this.setEventListener(H(this,mc))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,ca))==null||e.call(this),De(this,ca,void 0))}setEventListener(e){var n;De(this,mc,e),(n=H(this,ca))==null||n.call(this),De(this,ca,e(this.setOnline.bind(this)))}setOnline(e){H(this,hc)!==e&&(De(this,hc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,hc)}},hc=new WeakMap,ca=new WeakMap,mc=new WeakMap,GR),Ap=new qF;function GF(t){return Math.min(1e3*2**t,3e4)}function YI(t){return(t??"online")==="online"?Ap.isOnline():!0}var Ib=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function KI(t){let e=!1,n=0,r;const s=zF(),i=()=>s.status!=="pending",a=b=>{var T;if(!i()){const v=new Ib(b);h(v),(T=t.onCancel)==null||T.call(t,v)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>WI.isFocused()&&(t.networkMode==="always"||Ap.isOnline())&&t.canRun(),u=()=>YI(t.networkMode)&&t.canRun(),d=b=>{i()||(r==null||r(),s.resolve(b))},h=b=>{i()||(r==null||r(),s.reject(b))},p=()=>new Promise(b=>{var T;r=v=>{(i()||c())&&b(v)},(T=t.onPause)==null||T.call(t)}).then(()=>{var b;r=void 0,i()||(b=t.onContinue)==null||b.call(t)}),S=()=>{if(i())return;let b;const T=n===0?t.initialPromise:void 0;try{b=T??t.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(d).catch(v=>{var P;if(i())return;const g=t.retry??(Ag?0:3),x=t.retryDelay??GF,D=typeof x=="function"?x(n,v):x,C=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,v);if(e||!C){h(v);return}n++,(P=t.onFail)==null||P.call(t,n,v),LF(D).then(()=>c()?void 0:p()).then(()=>{e?h(v):S()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?S():p().then(S),s)}}var Ro,WR,QI=(WR=class{constructor(){Qe(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MF(this.gcTime)&&De(this,Ro,Rb.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ag?1/0:5*60*1e3))}clearGcTimeout(){H(this,Ro)&&(Rb.clearTimeout(H(this,Ro)),De(this,Ro,void 0))}},Ro=new WeakMap,WR),Do,pc,Ir,No,yn,Sf,Io,Gr,Qs,YR,WF=(YR=class extends QI{constructor(n){super();Qe(this,Gr);Qe(this,Do);Qe(this,pc);Qe(this,Ir);Qe(this,No);Qe(this,yn);Qe(this,Sf);Qe(this,Io);De(this,Io,!1),De(this,Sf,n.defaultOptions),this.setOptions(n.options),this.observers=[],De(this,No,n.client),De(this,Ir,H(this,No).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,De(this,Do,$1(this.options)),this.state=n.state??H(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,yn))==null?void 0:n.promise}setOptions(n){if(this.options={...H(this,Sf),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$1(this.options);r.data!==void 0&&(this.setState(z1(r.data,r.dataUpdatedAt)),De(this,Do,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Ir).remove(this)}setData(n,r){const s=VF(this.state.data,n,this.options);return In(this,Gr,Qs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){In(this,Gr,Qs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,yn))==null?void 0:s.promise;return(i=H(this,yn))==null||i.cancel(n),r?r.then(qr).catch(qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Do))}isActive(){return this.observers.some(n=>OF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Db(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!PF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,yn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,yn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Ir).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,yn)&&(H(this,Io)?H(this,yn).cancel({revert:!0}):H(this,yn).cancelRetry()),this.scheduleGc()),H(this,Ir).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||In(this,Gr,Qs).call(this,{type:"invalidate"})}async fetch(n,r){var c,u,d,h,p,S,b,T,v,g,x,D;if(this.state.fetchStatus!=="idle"&&((c=H(this,yn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,yn))return H(this,yn).continueRetry(),H(this,yn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const C=this.observers.find(P=>P.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(De(this,Io,!0),s.signal)})},a=()=>{const C=GI(this.options,r),A=(()=>{const E={client:H(this,No),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return De(this,Io,!1),this.options.persister?this.options.persister(C,A,this):C(A)},l=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,No),state:this.state,fetchFn:a};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),De(this,pc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&In(this,Gr,Qs).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),De(this,yn,KI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof Ib&&C.revert&&this.setState({...H(this,pc),fetchStatus:"idle"}),s.abort()},onFail:(C,P)=>{In(this,Gr,Qs).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{In(this,Gr,Qs).call(this,{type:"pause"})},onContinue:()=>{In(this,Gr,Qs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await H(this,yn).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(S=(p=H(this,Ir).config).onSuccess)==null||S.call(p,C,this),(T=(b=H(this,Ir).config).onSettled)==null||T.call(b,C,this.state.error,this),C}catch(C){if(C instanceof Ib){if(C.silent)return H(this,yn).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw In(this,Gr,Qs).call(this,{type:"error",error:C}),(g=(v=H(this,Ir).config).onError)==null||g.call(v,C,this),(D=(x=H(this,Ir).config).onSettled)==null||D.call(x,this.state.data,C,this),C}finally{this.scheduleGc()}}},Do=new WeakMap,pc=new WeakMap,Ir=new WeakMap,No=new WeakMap,yn=new WeakMap,Sf=new WeakMap,Io=new WeakMap,Gr=new WeakSet,Qs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...YF(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...z1(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return De(this,pc,n.manual?i:void 0),i;case"error":const a=n.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Ir).notify({query:this,type:"updated",action:n})})},YR);function YF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function z1(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function H1(t){return{onFetch:(e,n)=>{var u,d,h,p,S;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((S=e.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let b=!1;const T=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},v=GI(e.options,e.fetchOptions),g=async(x,D,C)=>{if(b)return Promise.reject();if(D==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:D,direction:C?"backward":"forward",meta:e.options.meta};return T(N),N})(),E=await v(A),{maxPages:_}=e.options,R=C?FF:UF;return{pages:R(x.pages,E,_),pageParams:R(x.pageParams,D,_)}};if(s&&i.length){const x=s==="backward",D=x?KF:q1,C={pages:i,pageParams:a},P=D(r,C);o=await g(C,P,x)}else{const x=t??i.length;do{const D=l===0?a[0]??r.initialPageParam:q1(r,o);if(l>0&&D==null)break;o=await g(o,D),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var b,T;return(T=(b=e.options).persister)==null?void 0:T.call(b,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function q1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function KF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tf,ms,Hn,Mo,ps,Xi,KR,QF=(KR=class extends QI{constructor(n){super();Qe(this,ps);Qe(this,Tf);Qe(this,ms);Qe(this,Hn);Qe(this,Mo);De(this,Tf,n.client),this.mutationId=n.mutationId,De(this,Hn,n.mutationCache),De(this,ms,[]),this.state=n.state||XF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,ms).includes(n)||(H(this,ms).push(n),this.clearGcTimeout(),H(this,Hn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){De(this,ms,H(this,ms).filter(r=>r!==n)),this.scheduleGc(),H(this,Hn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,ms).length||(this.state.status==="pending"?this.scheduleGc():H(this,Hn).remove(this))}continue(){var n;return((n=H(this,Mo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,d,h,p,S,b,T,v,g,x,D,C,P,A,E,_,R;const r=()=>{In(this,ps,Xi).call(this,{type:"continue"})},s={client:H(this,Tf),meta:this.options.meta,mutationKey:this.options.mutationKey};De(this,Mo,KI({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,I)=>{In(this,ps,Xi).call(this,{type:"failed",failureCount:N,error:I})},onPause:()=>{In(this,ps,Xi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Hn).canRun(this)}));const i=this.state.status==="pending",a=!H(this,Mo).canStart();try{if(i)r();else{In(this,ps,Xi).call(this,{type:"pending",variables:n,isPaused:a}),await((l=(o=H(this,Hn).config).onMutate)==null?void 0:l.call(o,n,this,s));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n,s));I!==this.state.context&&In(this,ps,Xi).call(this,{type:"pending",context:I,variables:n,isPaused:a})}const N=await H(this,Mo).start();return await((h=(d=H(this,Hn).config).onSuccess)==null?void 0:h.call(d,N,n,this.state.context,this,s)),await((S=(p=this.options).onSuccess)==null?void 0:S.call(p,N,n,this.state.context,s)),await((T=(b=H(this,Hn).config).onSettled)==null?void 0:T.call(b,N,null,this.state.variables,this.state.context,this,s)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,N,null,n,this.state.context,s)),In(this,ps,Xi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((D=(x=H(this,Hn).config).onError)==null?void 0:D.call(x,N,n,this.state.context,this,s)),await((P=(C=this.options).onError)==null?void 0:P.call(C,N,n,this.state.context,s)),await((E=(A=H(this,Hn).config).onSettled)==null?void 0:E.call(A,void 0,N,this.state.variables,this.state.context,this,s)),await((R=(_=this.options).onSettled)==null?void 0:R.call(_,void 0,N,n,this.state.context,s)),N}finally{In(this,ps,Xi).call(this,{type:"error",error:N})}}finally{H(this,Hn).runNext(this)}}},Tf=new WeakMap,ms=new WeakMap,Hn=new WeakMap,Mo=new WeakMap,ps=new WeakSet,Xi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gn.batch(()=>{H(this,ms).forEach(s=>{s.onMutationUpdate(n)}),H(this,Hn).notify({mutation:this,type:"updated",action:n})})},KR);function XF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,Wr,_f,QR,ZF=(QR=class extends _g{constructor(e={}){super();Qe(this,Xs);Qe(this,Wr);Qe(this,_f);this.config=e,De(this,Xs,new Set),De(this,Wr,new Map),De(this,_f,0)}build(e,n,r){const s=new QF({client:e,mutationCache:this,mutationId:++Ch(this,_f)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){H(this,Xs).add(e);const n=Yh(e);if(typeof n=="string"){const r=H(this,Wr).get(n);r?r.push(e):H(this,Wr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,Xs).delete(e)){const n=Yh(e);if(typeof n=="string"){const r=H(this,Wr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&H(this,Wr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Yh(e);if(typeof n=="string"){const r=H(this,Wr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Yh(e);if(typeof n=="string"){const s=(r=H(this,Wr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gn.batch(()=>{H(this,Xs).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,Xs).clear(),H(this,Wr).clear()})}getAll(){return Array.from(H(this,Xs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U1(n,r))}findAll(e={}){return this.getAll().filter(n=>U1(e,n))}notify(e){Gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(qr))))}},Xs=new WeakMap,Wr=new WeakMap,_f=new WeakMap,QR);function Yh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var gs,XR,JF=(XR=class extends _g{constructor(e={}){super();Qe(this,gs);this.config=e,De(this,gs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??rE(s,n);let a=this.get(i);return a||(a=new WF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){H(this,gs).has(e.queryHash)||(H(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,gs).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,gs).get(e)}getAll(){return[...H(this,gs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>V1(e,r)):n}notify(e){Gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,XR),zt,ua,da,gc,yc,fa,vc,bc,ZR,eB=(ZR=class{constructor(t={}){Qe(this,zt);Qe(this,ua);Qe(this,da);Qe(this,gc);Qe(this,yc);Qe(this,fa);Qe(this,vc);Qe(this,bc);De(this,zt,t.queryCache||new JF),De(this,ua,t.mutationCache||new ZF),De(this,da,t.defaultOptions||{}),De(this,gc,new Map),De(this,yc,new Map),De(this,fa,0)}mount(){Ch(this,fa)._++,H(this,fa)===1&&(De(this,vc,WI.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,zt).onFocus())})),De(this,bc,Ap.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,zt).onOnline())})))}unmount(){var t,e;Ch(this,fa)._--,H(this,fa)===0&&((t=H(this,vc))==null||t.call(this),De(this,vc,void 0),(e=H(this,bc))==null||e.call(this),De(this,bc,void 0))}isFetching(t){return H(this,zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,ua).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,zt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Db(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,zt).get(r.queryHash),i=s==null?void 0:s.state.data,a=IF(e,i);if(a!==void 0)return H(this,zt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Gn.batch(()=>H(this,zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,zt);Gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,zt);return Gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Gn.batch(()=>H(this,zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qr).catch(qr)}invalidateQueries(t,e={}){return Gn.batch(()=>(H(this,zt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Gn.batch(()=>H(this,zt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,zt).build(this,e);return n.isStaleByTime(Db(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qr).catch(qr)}fetchInfiniteQuery(t){return t.behavior=H1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qr).catch(qr)}ensureInfiniteQueryData(t){return t.behavior=H1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ap.isOnline()?H(this,ua).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,zt)}getMutationCache(){return H(this,ua)}getDefaultOptions(){return H(this,da)}setDefaultOptions(t){De(this,da,t)}setQueryDefaults(t,e){H(this,gc).set(Xd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,gc).values()],n={};return e.forEach(r=>{Zd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,yc).set(Xd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,yc).values()],n={};return e.forEach(r=>{Zd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,da).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,da).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,zt).clear(),H(this,ua).clear()}},zt=new WeakMap,ua=new WeakMap,da=new WeakMap,gc=new WeakMap,yc=new WeakMap,fa=new WeakMap,vc=new WeakMap,bc=new WeakMap,ZR),tB=y.createContext(void 0),nB=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(tB.Provider,{value:t,children:e}));/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G1="popstate";function rB(t={}){function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return Mb("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jd(s)}return iB(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ns(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sB(){return Math.random().toString(36).substring(2,10)}function W1(t,e){return{usr:t.state,key:t.key,idx:e}}function Mb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?au(e):e,state:n,key:e&&e.key||r||sB()}}function Jd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function au(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iB(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let T=u(),v=T==null?null:T-c;c=T,l&&l({action:o,location:b.location,delta:v})}function h(T,v){o="PUSH";let g=Mb(b.location,T,v);c=u()+1;let x=W1(g,c),D=b.createHref(g);try{a.pushState(x,"",D)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(D)}i&&l&&l({action:o,location:b.location,delta:1})}function p(T,v){o="REPLACE";let g=Mb(b.location,T,v);c=u();let x=W1(g,c),D=b.createHref(g);a.replaceState(x,"",D),i&&l&&l({action:o,location:b.location,delta:0})}function S(T){return aB(T)}let b={get action(){return o},get location(){return t(s,a)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(G1,d),l=T,()=>{s.removeEventListener(G1,d),l=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let v=S(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(T){return a.go(T)}};return b}function aB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Jd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XI(t,e,n="/"){return oB(t,e,n,!1)}function oB(t,e,n,r){let s=typeof e=="string"?au(e):e,i=Ai(s.pathname||"/",n);if(i==null)return null;let a=ZI(t);lB(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=bB(i);o=yB(a[l],c,r)}return o}function ZI(t,e=[],n=[],r="",s=!1){let i=(a,o,l=s,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Ut(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let d=pi([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Ut(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ZI(a.children,e,h,d,l)),!(a.path==null&&!a.index)&&e.push({path:d,score:pB(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of JI(a.path))i(a,o,!0,c)}),e}function JI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=JI(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function lB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cB=/^:[\w-]+$/,uB=3,dB=2,fB=1,hB=10,mB=-2,Y1=t=>t==="*";function pB(t,e){let n=t.split("/"),r=n.length;return n.some(Y1)&&(r+=mB),e&&(r+=dB),n.filter(s=>!Y1(s)).reduce((s,i)=>s+(cB.test(i)?uB:i===""?fB:hB),r)}function gB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yB(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:pi([i,d.pathname]),pathnameBase:SB(pi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=pi([i,d.pathnameBase]))}return a}function kp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let S=o[h]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const p=o[h];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function vB(t,e=!1,n=!0){ns(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ns(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ai(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wB(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?au(t):t;return{pathname:n?n.startsWith("/")?n:xB(n,e):e,search:TB(r),hash:_B(s)}}function xB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function y0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eM(t){let e=EB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tM(t,e,n,r=!1){let s;typeof t=="string"?s=au(t):(s={...t},Ut(!s.pathname||!s.pathname.includes("?"),y0("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),y0("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),y0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=wB(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),SB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_B=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nM=["POST","PUT","PATCH","DELETE"];new Set(nM);var kB=["GET",...nM];new Set(kB);var ou=y.createContext(null);ou.displayName="DataRouter";var kg=y.createContext(null);kg.displayName="DataRouterState";y.createContext(!1);var rM=y.createContext({isTransitioning:!1});rM.displayName="ViewTransition";var CB=y.createContext(new Map);CB.displayName="Fetchers";var RB=y.createContext(null);RB.displayName="Await";var zs=y.createContext(null);zs.displayName="Navigation";var $f=y.createContext(null);$f.displayName="Location";var Mi=y.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var iE=y.createContext(null);iE.displayName="RouteError";function DB(t,{relative:e}={}){Ut(Hf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(zs),{hash:s,pathname:i,search:a}=qf(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:pi([n,i])),r.createHref({pathname:o,search:a,hash:s})}function Hf(){return y.useContext($f)!=null}function Pi(){return Ut(Hf(),"useLocation() may be used only in the context of a <Router> component."),y.useContext($f).location}var sM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iM(t){y.useContext(zs).static||y.useLayoutEffect(t)}function lu(){let{isDataRoute:t}=y.useContext(Mi);return t?$B():NB()}function NB(){Ut(Hf(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(ou),{basename:e,navigator:n}=y.useContext(zs),{matches:r}=y.useContext(Mi),{pathname:s}=Pi(),i=JSON.stringify(eM(r)),a=y.useRef(!1);return iM(()=>{a.current=!0}),y.useCallback((l,c={})=>{if(ns(a.current,sM),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=tM(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:pi([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}y.createContext(null);function qf(t,{relative:e}={}){let{matches:n}=y.useContext(Mi),{pathname:r}=Pi(),s=JSON.stringify(eM(n));return y.useMemo(()=>tM(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function IB(t,e){return aM(t,e)}function aM(t,e,n,r,s){var g;Ut(Hf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(zs),{matches:a}=y.useContext(Mi),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";oM(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Pi(),p;if(e){let x=typeof e=="string"?au(e):e;Ut(u==="/"||((g=x.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=h;let S=p.pathname||"/",b=S;if(u!=="/"){let x=u.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=XI(t,{pathname:b});ns(d||T!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ns(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=LB(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:pi([u,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:pi([u,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,n,r,s);return e&&v?y.createElement($f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function MB(){let t=zB(),e=AB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,a)}var PB=y.createElement(MB,null),OB=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Mi.Provider,{value:this.props.routeContext},y.createElement(iE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jB({routeContext:t,match:e,children:n}){let r=y.useContext(ou);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Mi.Provider,{value:t},n)}function LB(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Ut(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let h,p=!1,S=null,b=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,S=u.route.errorElement||PB,o&&(l<0&&d===0?(oM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):l===d&&(p=!0,b=u.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,d+1)),v=()=>{let g;return h?g=S:p?g=b:u.route.Component?g=y.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,y.createElement(jB,{match:u,routeContext:{outlet:c,matches:T,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?y.createElement(OB,{location:n.location,revalidation:n.revalidation,component:S,error:h,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):v()},null)}function aE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VB(t){let e=y.useContext(ou);return Ut(e,aE(t)),e}function UB(t){let e=y.useContext(kg);return Ut(e,aE(t)),e}function FB(t){let e=y.useContext(Mi);return Ut(e,aE(t)),e}function oE(t){let e=FB(t),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BB(){return oE("useRouteId")}function zB(){var r;let t=y.useContext(iE),e=UB("useRouteError"),n=oE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function $B(){let{router:t}=VB("useNavigate"),e=oE("useNavigate"),n=y.useRef(!1);return iM(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{ns(n.current,sM),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var K1={};function oM(t,e,n){!e&&!K1[t]&&(K1[t]=!0,ns(!1,n))}y.memo(HB);function HB({routes:t,future:e,state:n,unstable_onError:r}){return aM(t,void 0,n,r,e)}function po(t){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ut(!Hf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=au(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,p=y.useMemo(()=>{let S=Ai(l,a);return S==null?null:{location:{pathname:S,search:c,hash:u,state:d,key:h},navigationType:r}},[a,l,c,u,d,h,r]);return ns(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(zs.Provider,{value:o},y.createElement($f.Provider,{children:e,value:p}))}function GB({children:t,location:e}){return IB(Pb(t),e)}function Pb(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Pb(r.props.children,i));return}Ut(r.type===po,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Pb(r.props.children,i)),n.push(a)}),n}var Am="get",km="application/x-www-form-urlencoded";function Cg(t){return t!=null&&typeof t.tagName=="string"}function WB(t){return Cg(t)&&t.tagName.toLowerCase()==="button"}function YB(t){return Cg(t)&&t.tagName.toLowerCase()==="form"}function KB(t){return Cg(t)&&t.tagName.toLowerCase()==="input"}function QB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XB(t,e){return t.button===0&&(!e||e==="_self")&&!QB(t)}function Ob(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ZB(t,e){let n=Ob(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Kh=null;function JB(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var ez=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(t){return t!=null&&!ez.has(t)?(ns(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${km}"`),null):t}function tz(t,e){let n,r,s,i,a;if(YB(t)){let o=t.getAttribute("action");r=o?Ai(o,e):null,n=t.getAttribute("method")||Am,s=v0(t.getAttribute("enctype"))||km,i=new FormData(t)}else if(WB(t)||KB(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Ai(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Am,s=v0(t.getAttribute("formenctype"))||v0(o.getAttribute("enctype"))||km,i=new FormData(o,t),!JB()){let{name:c,type:u,value:d}=t;if(u==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,d)}}else{if(Cg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Am,r=null,s=km,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ai(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iz(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await rz(i,n);return a.links?a.links():[]}return[]}));return cz(r.flat(1).filter(sz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Q1(t,e,n,r,s,i){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function az(t,e,{includeHydrateFallback:n}={}){return oz(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function oz(t){return[...new Set(t)]}function lz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cz(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(lz(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function lM(){let t=y.useContext(ou);return lE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uz(){let t=y.useContext(kg);return lE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cE=y.createContext(void 0);cE.displayName="FrameworkContext";function cM(){let t=y.useContext(cE);return lE(t,"You must render this element inside a <HydratedRouter> element"),t}function dz(t,e){let n=y.useContext(cE),[r,s]=y.useState(!1),[i,a]=y.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=y.useRef(null);y.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let b=v=>{v.forEach(g=>{a(g.isIntersecting)})},T=new IntersectionObserver(b,{threshold:.5});return h.current&&T.observe(h.current),()=>{T.disconnect()}}},[t]),y.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let p=()=>{s(!0)},S=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Fu(o,p),onBlur:Fu(l,S),onMouseEnter:Fu(c,p),onMouseLeave:Fu(u,S),onTouchStart:Fu(d,p)}]:[!1,h,{}]}function Fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fz({page:t,...e}){let{router:n}=lM(),r=y.useMemo(()=>XI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(mz,{page:t,matches:r,...e}):null}function hz(t){let{manifest:e,routeModules:n}=cM(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return iz(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function mz({page:t,matches:e,...n}){let r=Pi(),{manifest:s,routeModules:i}=cM(),{basename:a}=lM(),{loaderData:o,matches:l}=uz(),c=y.useMemo(()=>Q1(t,e,l,s,r,"data"),[t,e,l,s,r]),u=y.useMemo(()=>Q1(t,e,l,s,r,"assets"),[t,e,l,s,r]),d=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(e.forEach(v=>{var x;let g=s.routes[v.route.id];!g||!g.hasLoader||(!c.some(D=>D.route.id===v.route.id)&&v.route.id in o&&((x=i[v.route.id])!=null&&x.shouldRevalidate)||g.hasClientLoader?b=!0:S.add(v.route.id))}),S.size===0)return[];let T=nz(t,a,"data");return b&&S.size>0&&T.searchParams.set("_routes",e.filter(v=>S.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[a,o,r,s,c,e,t,i]),h=y.useMemo(()=>az(u,s),[u,s]),p=hz(u);return y.createElement(y.Fragment,null,d.map(S=>y.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),h.map(S=>y.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),p.map(({key:S,link:b})=>y.createElement("link",{key:S,nonce:n.nonce,...b})))}function pz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uM&&(window.__reactRouterVersion="7.9.5")}catch{}function gz({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=rB({window:n,v5Compat:!0}));let s=r.current,[i,a]=y.useState({action:s.action,location:s.location}),o=y.useCallback(l=>{y.startTransition(()=>a(l))},[a]);return y.useLayoutEffect(()=>s.listen(o),[s,o]),y.createElement(qB,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var dM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fM=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},p){let{basename:S}=y.useContext(zs),b=typeof c=="string"&&dM.test(c),T,v=!1;if(typeof c=="string"&&b&&(T=c,uM))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=Ai(R.pathname,S);R.origin===_.origin&&N!=null?c=N+R.search+R.hash:v=!0}catch{ns(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=DB(c,{relative:s}),[x,D,C]=dz(r,h),P=wz(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function A(_){e&&e(_),_.defaultPrevented||P(_)}let E=y.createElement("a",{...h,...C,href:T||g,onClick:v||i?e:A,ref:pz(p,D),target:l,"data-discover":!b&&n==="render"?"true":void 0});return x&&!b?y.createElement(y.Fragment,null,E,y.createElement(fz,{page:g})):E});fM.displayName="Link";var yz=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...c},u){let d=qf(a,{relative:c.relative}),h=Pi(),p=y.useContext(kg),{navigator:S,basename:b}=y.useContext(zs),T=p!=null&&Az(d)&&o===!0,v=S.encodeLocation?S.encodeLocation(d).pathname:d.pathname,g=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(g=g.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&b&&(x=Ai(x,b)||x);const D=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=g===v||!s&&g.startsWith(v)&&g.charAt(D)==="/",P=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),A={isActive:C,isPending:P,isTransitioning:T},E=C?e:void 0,_;typeof r=="function"?_=r(A):_=[r,C?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(A):i;return y.createElement(fM,{...c,"aria-current":E,className:_,ref:u,style:R,to:a,viewTransition:o},typeof l=="function"?l(A):l)});yz.displayName="NavLink";var vz=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Am,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},p)=>{let S=Tz(),b=_z(o,{relative:c}),T=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&dM.test(o),g=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let D=x.nativeEvent.submitter,C=(D==null?void 0:D.getAttribute("formmethod"))||a;S(D||x.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:s,state:i,relative:c,preventScrollReset:u,viewTransition:d})};return y.createElement("form",{ref:p,method:T,action:b,onSubmit:r?l:g,...h,"data-discover":!v&&t==="render"?"true":void 0})});vz.displayName="Form";function bz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hM(t){let e=y.useContext(ou);return Ut(e,bz(t)),e}function wz(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=lu(),l=Pi(),c=qf(t,{relative:i});return y.useCallback(u=>{if(XB(u,e)){u.preventDefault();let d=n!==void 0?n:Jd(l)===Jd(c);o(t,{replace:d,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,c,n,r,e,t,s,i,a])}function xz(t){ns(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=y.useRef(Ob(t)),n=y.useRef(!1),r=Pi(),s=y.useMemo(()=>ZB(r.search,n.current?null:e.current),[r.search]),i=lu(),a=y.useCallback((o,l)=>{const c=Ob(typeof o=="function"?o(new URLSearchParams(s)):o);n.current=!0,i("?"+c,l)},[i,s]);return[s,a]}var Ez=0,Sz=()=>`__${String(++Ez)}__`;function Tz(){let{router:t}=hM("useSubmit"),{basename:e}=y.useContext(zs),n=BB();return y.useCallback(async(r,s={})=>{let{action:i,method:a,encType:o,formData:l,body:c}=tz(r,e);if(s.navigate===!1){let u=s.fetcherKey||Sz();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function _z(t,{relative:e}={}){let{basename:n}=y.useContext(zs),r=y.useContext(Mi);Ut(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...qf(t||".",{relative:e})},a=Pi();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:pi([n,i.pathname])),Jd(i)}function Az(t,{relative:e}={}){let n=y.useContext(rM);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hM("useViewTransitionState"),s=qf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kp(s.pathname,a)!=null||kp(s.pathname,i)!=null}/*! Capacitor: https://capacitorjs.com/ - MIT License */const kz=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(i,a)=>{n.platforms.set(i,a)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},Cz=t=>t.CapacitorPlatforms=kz(t),mM=Cz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});mM.addPlatform;mM.setPlatform;var Pc;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Pc||(Pc={}));class b0 extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Rz=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Dz=t=>{var e,n,r,s,i;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},c=t.CapacitorPlatforms,u=()=>a!==null?a.name:Rz(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",p=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,S=A=>{const E=D.get(A);return!!(E!=null&&E.platforms.has(d())||v(A))},b=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||S,T=A=>{var E;return(E=o.PluginHeaders)===null||E===void 0?void 0:E.find(_=>_.name===A)},v=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||T,g=A=>t.console.error(A),x=(A,E,_)=>Promise.reject(`${_} does not have an implementation of "${E}".`),D=new Map,C=(A,E={})=>{const _=D.get(A);if(_)return console.warn(`Capacitor plugin "${A}" already registered. Cannot register plugins twice.`),_.proxy;const R=d(),N=v(A);let I;const M=async()=>(!I&&R in E?I=typeof E[R]=="function"?I=await E[R]():I=E[R]:a!==null&&!I&&"web"in E&&(I=typeof E.web=="function"?I=await E.web():I=E.web),I),V=(Q,pe)=>{var ae,re;if(N){const de=N==null?void 0:N.methods.find(se=>pe===se.name);if(de)return de.rtype==="promise"?se=>o.nativePromise(A,pe.toString(),se):(se,Ne)=>o.nativeCallback(A,pe.toString(),se,Ne);if(Q)return(ae=Q[pe])===null||ae===void 0?void 0:ae.bind(Q)}else{if(Q)return(re=Q[pe])===null||re===void 0?void 0:re.bind(Q);throw new b0(`"${A}" plugin is not implemented on ${R}`,Pc.Unimplemented)}},z=Q=>{let pe;const ae=(...re)=>{const de=M().then(se=>{const Ne=V(se,Q);if(Ne){const Oe=Ne(...re);return pe=Oe==null?void 0:Oe.remove,Oe}else throw new b0(`"${A}.${Q}()" is not implemented on ${R}`,Pc.Unimplemented)});return Q==="addListener"&&(de.remove=async()=>pe()),de};return ae.toString=()=>`${Q.toString()}() { [capacitor code] }`,Object.defineProperty(ae,"name",{value:Q,writable:!1,configurable:!1}),ae},L=z("addListener"),U=z("removeListener"),j=(Q,pe)=>{const ae=L({eventName:Q},pe),re=async()=>{const se=await ae;U({eventName:Q,callbackId:se},pe)},de=new Promise(se=>ae.then(()=>se({remove:re})));return de.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await re()},de},K=new Proxy({},{get(Q,pe){switch(pe){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?j:L;case"removeListener":return U;default:return z(pe)}}});return l[A]=K,D.set(A,{name:A,proxy:K,platforms:new Set([...Object.keys(E),...N?[R]:[]])}),K},P=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||C;return o.convertFileSrc||(o.convertFileSrc=A=>A),o.getPlatform=d,o.handleError=g,o.isNativePlatform=p,o.isPluginAvailable=b,o.pluginMethodNoop=x,o.registerPlugin=P,o.Exception=b0,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Nz=t=>t.Capacitor=Dz(t),gi=Nz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),uE=gi.registerPlugin;gi.Plugins;class pM{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new gi.Exception(e,Pc.Unimplemented)}unavailable(e="not available"){return new gi.Exception(e,Pc.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const X1=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Z1=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Iz extends pM{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Z1(s).trim(),i=Z1(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=X1(e.key),r=X1(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}uE("CapacitorCookies",{web:()=>new Iz});const Mz=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),Pz=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},Oz=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,a]=s;let o,l;return Array.isArray(a)?(l="",a.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${i}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${i}=${o}`),`${r}&${l}`},"").substr(1):null,jz=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=Pz(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{i.append(l,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Lz extends pM{async request(e){const n=jz(e,e.webFetchExtra),r=Oz(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await i.blob(),l=await Mz(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}uE("CapacitorHttp",{web:()=>new Lz});const Vz="modulepreload",Uz=function(t){return"/"+t},J1={},Bo=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Uz(l),l in J1)return;J1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Vz,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Fz=uE("AppTrackingTransparency",{web:()=>Bo(()=>import("./web-CVEhiz_D.js"),[]).then(t=>new t.AppTrackingTransparencyWeb)}),Bz=1,zz=1e6;let w0=0;function $z(){return w0=(w0+1)%Number.MAX_SAFE_INTEGER,w0.toString()}const x0=new Map,eA=t=>{if(x0.has(t))return;const e=setTimeout(()=>{x0.delete(t),Ed({type:"REMOVE_TOAST",toastId:t})},zz);x0.set(t,e)},Hz=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Bz)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?eA(n):t.toasts.forEach(r=>{eA(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Cm=[];let Rm={toasts:[]};function Ed(t){Rm=Hz(Rm,t),Cm.forEach(e=>{e(Rm)})}function qz({...t}){const e=$z(),n=s=>Ed({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ed({type:"DISMISS_TOAST",toastId:e});return Ed({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function dE(){const[t,e]=y.useState(Rm);return y.useEffect(()=>(Cm.push(e),()=>{const n=Cm.indexOf(e);n>-1&&Cm.splice(n,1)}),[t]),{...t,toast:qz,dismiss:n=>Ed({type:"DISMISS_TOAST",toastId:n})}}const Gz=()=>{const t=y.useCallback(()=>{try{if(console.log(" Intentando activar vibracin..."),console.log(" User Agent:",navigator.userAgent),console.log(" Vibrate disponible:","vibrate"in navigator),console.log(" Es HTTPS:",window.location.protocol==="https:"),"vibrate"in navigator&&navigator.vibrate){const i=[300,100,300];navigator.vibrate(i)?console.log(" Vibracin activada exitosamente"):(console.log(" Vibracin bloqueada o no soportada, intentando fallback"),navigator.vibrate(400))}else console.log(" API de vibracin no disponible en este dispositivo/navegador")}catch(i){console.log(" Error al activar vibracin:",i);try{"vibrate"in navigator&&(navigator.vibrate(200),console.log(" Fallback de vibracin simple ejecutado"))}catch(a){console.log(" Fallback de vibracin tambin fall:",a)}}},[]),e=y.useCallback(()=>{try{if(!window.AudioContext&&!window.webkitAudioContext){console.log("AudioContext no disponible");return}const i=new(window.AudioContext||window.webkitAudioContext);i.state==="suspended"&&i.resume().catch(()=>{console.log("No se pudo reanudar AudioContext")}),(()=>{const o=[523.25,659.25,783.99],l=.6;o.forEach((c,u)=>{const d=i.createOscillator(),h=i.createGain();d.connect(h),h.connect(i.destination),d.frequency.setValueAtTime(c,i.currentTime),d.type="sine",h.gain.setValueAtTime(0,i.currentTime),h.gain.linearRampToValueAtTime(.1,i.currentTime+.05),h.gain.exponentialRampToValueAtTime(.01,i.currentTime+l),d.start(i.currentTime+u*.1),d.stop(i.currentTime+l)})})()}catch(i){console.log("No se pudo reproducir el sonido:",i)}},[]),n=y.useCallback(()=>{try{if(!window.AudioContext&&!window.webkitAudioContext){console.log("AudioContext no disponible");return}const i=new(window.AudioContext||window.webkitAudioContext);i.state==="suspended"&&i.resume().catch(()=>{console.log("No se pudo reanudar AudioContext")});const a=i.createOscillator(),o=i.createGain();a.connect(o),o.connect(i.destination),a.frequency.setValueAtTime(800,i.currentTime),a.frequency.linearRampToValueAtTime(1e3,i.currentTime+.1),a.type="square",o.gain.setValueAtTime(0,i.currentTime),o.gain.linearRampToValueAtTime(.1,i.currentTime+.02),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.2),a.start(i.currentTime),a.stop(i.currentTime+.2)}catch(i){console.log("No se pudo reproducir el sonido:",i)}},[]),r=y.useCallback(()=>{try{if(!window.AudioContext&&!window.webkitAudioContext){console.log("AudioContext no disponible");return}const i=new(window.AudioContext||window.webkitAudioContext);i.state==="suspended"&&i.resume().catch(()=>{console.log("No se pudo reanudar AudioContext")});const a=i.createOscillator(),o=i.createGain();a.connect(o),o.connect(i.destination),a.frequency.setValueAtTime(1200,i.currentTime),a.frequency.exponentialRampToValueAtTime(800,i.currentTime+.05),a.type="sine",o.gain.setValueAtTime(0,i.currentTime),o.gain.linearRampToValueAtTime(.15,i.currentTime+.01),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.08),a.start(i.currentTime),a.stop(i.currentTime+.08)}catch(i){console.log("No se pudo reproducir el sonido:",i)}},[]),s=y.useCallback(()=>{try{if(!window.AudioContext&&!window.webkitAudioContext){console.log("AudioContext no disponible");return}const i=new(window.AudioContext||window.webkitAudioContext);i.state==="suspended"&&i.resume().catch(()=>{console.log("No se pudo reanudar AudioContext")});const a=i.createOscillator(),o=i.createGain();a.connect(o),o.connect(i.destination),a.frequency.setValueAtTime(300,i.currentTime),a.frequency.exponentialRampToValueAtTime(80,i.currentTime+.5),a.type="square",o.gain.setValueAtTime(0,i.currentTime),o.gain.linearRampToValueAtTime(.15,i.currentTime+.08),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.6),a.start(i.currentTime),a.stop(i.currentTime+.6)}catch(i){console.log("No se pudo reproducir el sonido:",i)}},[]);return{playTaskCompleteSound:e,playTimerStartSound:n,playButtonClickSound:r,playTaskDeleteSound:s,triggerVibration:t}},tA=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,h))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,s,o);return o},Wz=t=>t?tA(t):tA,Yz=t=>t;function Kz(t,e=Yz){const n=Z.useSyncExternalStore(t.subscribe,Z.useCallback(()=>e(t.getState()),[t,e]),Z.useCallback(()=>e(t.getInitialState()),[t,e]));return Z.useDebugValue(n),n}const Qz=t=>{const e=Wz(t),n=r=>Kz(e,r);return Object.assign(n,e),n},Xz=t=>Qz,nA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ANALYTICS_ENABLED:"true",VITE_API_URL:"https://v0-steeb-api-backend-production.up.railway.app/api",VITE_APP_DESCRIPTION:"Productivity-focused task and calendar management",VITE_APP_NAME:"Stebe Calendar",VITE_APP_SHORT_NAME:"Stebe",VITE_AUTH_ENABLED:"true",VITE_AUTH_PROVIDER:"firebase",VITE_DEBUG_MODE:"false",VITE_ENABLE_NOTIFICATIONS:"true",VITE_ENABLE_OFFLINE_MODE:"true",VITE_FIREBASE_API_KEY:"AIzaSyBK5ZvLacIcP1PTKOJJZue1PoMyQrUtRLw",VITE_FIREBASE_APP_ID:"1:169523533903:web:daa8f32c4e1c3b98aab23a",VITE_FIREBASE_AUTH_DOMAIN:"steeboriginal.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-Z5GNT5NXSP",VITE_FIREBASE_MESSAGING_SENDER_ID:"169523533903",VITE_FIREBASE_PROJECT_ID:"steeboriginal",VITE_FIREBASE_STORAGE_BUCKET:"steeboriginal.firebasestorage.app",VITE_LOG_LEVEL:"info",VITE_MERCADOPAGO_PUBLIC_KEY:"APP_USR-8bdceff7-5a52-41b1-b27a-8e69f8fa7023",VITE_SENTRY_DSN:""},ef=new Map,Qh=t=>{const e=ef.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},Zz=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=ef.get(n.name);if(r)return{type:"tracked",store:t,...r};const s={connection:e.connect(n),stores:{}};return ef.set(n.name,s),{type:"tracked",store:t,...s}},Jz=(t,e)=>{if(e===void 0)return;const n=ef.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&ef.delete(t))},e8=t=>{var e,n;if(!t)return;const r=t.split(`
`),s=r.findIndex(a=>a.includes("api.setState"));if(s<0)return;const i=((e=r[s+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},t8=(t,e={})=>(n,r,s)=>{const{enabled:i,anonymousActionType:a,store:o,...l}=e;let c;try{c=(i??(nA?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return t(n,r,s);const{connection:u,...d}=Zz(o,c,l);let h=!0;s.setState=(b,T,v)=>{const g=n(b,T);if(!h)return g;const x=v===void 0?{type:a||e8(new Error().stack)||"anonymous"}:typeof v=="string"?{type:v}:v;return o===void 0?(u==null||u.send(x,r()),g):(u==null||u.send({...x,type:`${o}/${x.type}`},{...Qh(l.name),[o]:s.getState()}),g)},s.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),Jz(l.name,o)}};const p=(...b)=>{const T=h;h=!1,n(...b),h=T},S=t(s.setState,r,s);if(d.type==="untracked"?u==null||u.init(S):(d.stores[d.store]=s,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([b,T])=>[b,b===d.store?S:T.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let b=!1;const T=s.dispatch;s.dispatch=(...v)=>{(nA?"production":void 0)!=="production"&&v[0].type==="__setState"&&!b&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),b=!0),T(...v)}}return u.subscribe(b=>{var T;switch(b.type){case"ACTION":if(typeof b.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return E0(b.payload,v=>{if(v.type==="__setState"){if(o===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=v.state[o];if(g==null)return;JSON.stringify(s.getState())!==JSON.stringify(g)&&p(g);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(b.payload.type){case"RESET":return p(S),o===void 0?u==null?void 0:u.init(s.getState()):u==null?void 0:u.init(Qh(l.name));case"COMMIT":if(o===void 0){u==null||u.init(s.getState());return}return u==null?void 0:u.init(Qh(l.name));case"ROLLBACK":return E0(b.state,v=>{if(o===void 0){p(v),u==null||u.init(s.getState());return}p(v[o]),u==null||u.init(Qh(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return E0(b.state,v=>{if(o===void 0){p(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[o])&&p(v[o])});case"IMPORT_STATE":{const{nextLiftedState:v}=b.payload,g=(T=v.computedStates.slice(-1)[0])==null?void 0:T.state;if(!g)return;p(o===void 0?g:g[o]),u==null||u.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),S},n8=t8,E0=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)},r8=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(a,o,l)=>{let c=a;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let d=a(r.getState());c=h=>{const p=a(h);if(!u(d,p)){const S=d;o(d=p,S)}},l!=null&&l.fireImmediately&&o(d,d)}return s(c)},t(e,n,r)},s8=r8;function i8(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const jb=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return jb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return jb(r)(n)}}}},a8=(t,e)=>(n,r,s)=>{let i={storage:i8(()=>localStorage),partialize:b=>b,version:0,merge:(b,T)=>({...T,...b}),...e},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},r,s);const u=()=>{const b=i.partialize({...r()});return c.setItem(i.name,{state:b,version:i.version})},d=s.setState;s.setState=(b,T)=>(d(b,T),u());const h=t((...b)=>(n(...b),u()),r,s);s.getInitialState=()=>h;let p;const S=()=>{var b,T;if(!c)return;a=!1,o.forEach(g=>{var x;return g((x=r())!=null?x:h)});const v=((T=i.onRehydrateStorage)==null?void 0:T.call(i,(b=r())!=null?b:h))||void 0;return jb(c.getItem.bind(c))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate){const x=i.migrate(g.state,g.version);return x instanceof Promise?x.then(D=>[!0,D]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var x;const[D,C]=g;if(p=i.merge(C,(x=r())!=null?x:h),n(p,!0),D)return u()}).then(()=>{v==null||v(p,void 0),p=r(),a=!0,l.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:b=>{i={...i,...b},b.storage&&(c=b.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>S(),hasHydrated:()=>a,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},i.skipHydration||S(),p||h},o8=a8,l8=()=>{};var rA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},c8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},yM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||d==null)throw new u8;const h=i<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const S=c<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d8=function(t){const e=gM(t);return yM.encodeByteArray(e,!0)},Cp=function(t){return d8(t).replace(/\./g,"")},vM=function(t){try{return yM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=()=>f8().__FIREBASE_DEFAULTS__,m8=()=>{if(typeof process>"u"||typeof rA>"u")return;const t=rA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vM(t[1]);return e&&JSON.parse(e)},Rg=()=>{try{return l8()||h8()||m8()||p8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bM=t=>{var e,n;return(n=(e=Rg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},g8=t=>{const e=bM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wM=()=>{var t;return(t=Rg())==null?void 0:t.config},xM=t=>{var e;return(e=Rg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cp(JSON.stringify(n)),Cp(JSON.stringify(a)),""].join(".")}const Sd={};function b8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sd))Sd[e]?t.emulator.push(e):t.prod.push(e);return t}function w8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sA=!1;function EM(t,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Sd[t]===e||Sd[t]||sA)return;Sd[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=b8().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{sA=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=w8(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),b=n("learnmore"),T=document.getElementById(b)||document.createElement("a"),v=n("preprendIcon"),g=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;o(x),u(T,b);const D=c();l(g,v),x.append(g,S,T,D),document.body.appendChild(x)}i?(S.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function E8(){var e;const t=(e=Rg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A8(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k8(){return!E8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C8(){try{return typeof indexedDB=="object"}catch{return!1}}function R8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D8,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf.prototype.create)}}class Gf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?N8(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new rs(s,o,r)}}function N8(t,e){return t.replace(I8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const I8=/\{\$([^}]+)}/g;function M8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(iA(i)&&iA(a)){if(!Ua(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function P8(t,e){const n=new O8(t,e);return n.subscribe.bind(n)}class O8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=S0),s.error===void 0&&(s.error=S0),s.complete===void 0&&(s.complete=S0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new y8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U8(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V8(t){return t===go?void 0:t}function U8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const B8={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},z8=qe.INFO,$8={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},H8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hE{constructor(e){this.name=e,this._logLevel=z8,this._logHandler=H8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const q8=(t,e)=>e.some(n=>t instanceof n);let aA,oA;function G8(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W8(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SM=new WeakMap,Lb=new WeakMap,TM=new WeakMap,T0=new WeakMap,mE=new WeakMap;function Y8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ka(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&SM.set(n,t)}).catch(()=>{}),mE.set(e,t),e}function K8(t){if(Lb.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Lb.set(t,e)}let Vb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q8(t){Vb=t(Vb)}function X8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_0(this),e,...n);return TM.set(r,e.sort?e.sort():[e]),ka(r)}:W8().includes(t)?function(...e){return t.apply(_0(this),e),ka(SM.get(this))}:function(...e){return ka(t.apply(_0(this),e))}}function Z8(t){return typeof t=="function"?X8(t):(t instanceof IDBTransaction&&K8(t),q8(t,G8())?new Proxy(t,Vb):t)}function ka(t){if(t instanceof IDBRequest)return Y8(t);if(T0.has(t))return T0.get(t);const e=Z8(t);return e!==t&&(T0.set(t,e),mE.set(e,t)),e}const _0=t=>mE.get(t);function J8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=ka(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ka(a.result),l.oldVersion,l.newVersion,ka(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const e7=["get","getKey","getAll","getAllKeys","count"],t7=["put","add","delete","clear"],A0=new Map;function lA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A0.get(e))return A0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e7.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return A0.set(e,i),i}Q8(t=>({...t,get:(e,n,r)=>lA(e,n)||t.get(e,n,r),has:(e,n)=>!!lA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ub="@firebase/app",cA="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new hE("@firebase/app"),s7="@firebase/app-compat",i7="@firebase/analytics-compat",a7="@firebase/analytics",o7="@firebase/app-check-compat",l7="@firebase/app-check",c7="@firebase/auth",u7="@firebase/auth-compat",d7="@firebase/database",f7="@firebase/data-connect",h7="@firebase/database-compat",m7="@firebase/functions",p7="@firebase/functions-compat",g7="@firebase/installations",y7="@firebase/installations-compat",v7="@firebase/messaging",b7="@firebase/messaging-compat",w7="@firebase/performance",x7="@firebase/performance-compat",E7="@firebase/remote-config",S7="@firebase/remote-config-compat",T7="@firebase/storage",_7="@firebase/storage-compat",A7="@firebase/firestore",k7="@firebase/ai",C7="@firebase/firestore-compat",R7="firebase",D7="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="[DEFAULT]",N7={[Ub]:"fire-core",[s7]:"fire-core-compat",[a7]:"fire-analytics",[i7]:"fire-analytics-compat",[l7]:"fire-app-check",[o7]:"fire-app-check-compat",[c7]:"fire-auth",[u7]:"fire-auth-compat",[d7]:"fire-rtdb",[f7]:"fire-data-connect",[h7]:"fire-rtdb-compat",[m7]:"fire-fn",[p7]:"fire-fn-compat",[g7]:"fire-iid",[y7]:"fire-iid-compat",[v7]:"fire-fcm",[b7]:"fire-fcm-compat",[w7]:"fire-perf",[x7]:"fire-perf-compat",[E7]:"fire-rc",[S7]:"fire-rc-compat",[T7]:"fire-gcs",[_7]:"fire-gcs-compat",[A7]:"fire-fst",[C7]:"fire-fst-compat",[k7]:"fire-vertex","fire-js":"fire-js",[R7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,I7=new Map,Bb=new Map;function uA(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oc(t){const e=t.name;if(Bb.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Bb.set(e,t);for(const n of tf.values())uA(n,t);for(const n of I7.values())uA(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new Gf("app","Firebase",M7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=D7;function _M(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fb,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ca.create("bad-app-name",{appName:String(s)});if(n||(n=wM()),!n)throw Ca.create("no-options");const i=tf.get(s);if(i){if(Ua(n,i.options)&&Ua(r,i.config))return i;throw Ca.create("duplicate-app",{appName:s})}const a=new F8(s);for(const l of Bb.values())a.addComponent(l);const o=new P7(n,r,a);return tf.set(s,o),o}function AM(t=Fb){const e=tf.get(t);if(!e&&t===Fb&&wM())return _M();if(!e)throw Ca.create("no-app",{appName:t});return e}function dA(){return Array.from(tf.values())}function Ra(t,e,n){let r=N7[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}Oc(new Zo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="firebase-heartbeat-database",j7=1,nf="firebase-heartbeat-store";let k0=null;function kM(){return k0||(k0=J8(O7,j7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),k0}async function L7(t){try{const n=(await kM()).transaction(nf),r=await n.objectStore(nf).get(CM(t));return await n.done,r}catch(e){if(e instanceof rs)ki.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function fA(t,e){try{const r=(await kM()).transaction(nf,"readwrite");await r.objectStore(nf).put(e,CM(t)),await r.done}catch(n){if(n instanceof rs)ki.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function CM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=1024,U7=30;class F7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>U7){const a=$7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hA(),{heartbeatsToSend:r,unsentEntries:s}=B7(this._heartbeatsCache.heartbeats),i=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ki.warn(n),""}}}function hA(){return new Date().toISOString().substring(0,10)}function B7(t,e=V7){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),mA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C8()?R8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mA(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function $7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){Oc(new Zo("platform-logger",e=>new n7(e),"PRIVATE")),Oc(new Zo("heartbeat",e=>new F7(e),"PRIVATE")),Ra(Ub,cA,t),Ra(Ub,cA,"esm2020"),Ra("fire-js","")}H7("");var pA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,RM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function _(){}_.prototype=E.prototype,A.F=E.prototype,A.prototype=new _,A.prototype.constructor=A,A.D=function(R,N,I){for(var M=Array(arguments.length-2),V=2;V<arguments.length;V++)M[V-2]=arguments[V];return E.prototype[N].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,_){_||(_=0);const R=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)R[N]=E.charCodeAt(_++)|E.charCodeAt(_++)<<8|E.charCodeAt(_++)<<16|E.charCodeAt(_++)<<24;else for(N=0;N<16;++N)R[N]=E[_++]|E[_++]<<8|E[_++]<<16|E[_++]<<24;E=A.g[0],_=A.g[1],N=A.g[2];let I=A.g[3],M;M=E+(I^_&(N^I))+R[0]+3614090360&4294967295,E=_+(M<<7&4294967295|M>>>25),M=I+(N^E&(_^N))+R[1]+3905402710&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(_^I&(E^_))+R[2]+606105819&4294967295,N=I+(M<<17&4294967295|M>>>15),M=_+(E^N&(I^E))+R[3]+3250441966&4294967295,_=N+(M<<22&4294967295|M>>>10),M=E+(I^_&(N^I))+R[4]+4118548399&4294967295,E=_+(M<<7&4294967295|M>>>25),M=I+(N^E&(_^N))+R[5]+1200080426&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(_^I&(E^_))+R[6]+2821735955&4294967295,N=I+(M<<17&4294967295|M>>>15),M=_+(E^N&(I^E))+R[7]+4249261313&4294967295,_=N+(M<<22&4294967295|M>>>10),M=E+(I^_&(N^I))+R[8]+1770035416&4294967295,E=_+(M<<7&4294967295|M>>>25),M=I+(N^E&(_^N))+R[9]+2336552879&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(_^I&(E^_))+R[10]+4294925233&4294967295,N=I+(M<<17&4294967295|M>>>15),M=_+(E^N&(I^E))+R[11]+2304563134&4294967295,_=N+(M<<22&4294967295|M>>>10),M=E+(I^_&(N^I))+R[12]+1804603682&4294967295,E=_+(M<<7&4294967295|M>>>25),M=I+(N^E&(_^N))+R[13]+4254626195&4294967295,I=E+(M<<12&4294967295|M>>>20),M=N+(_^I&(E^_))+R[14]+2792965006&4294967295,N=I+(M<<17&4294967295|M>>>15),M=_+(E^N&(I^E))+R[15]+1236535329&4294967295,_=N+(M<<22&4294967295|M>>>10),M=E+(N^I&(_^N))+R[1]+4129170786&4294967295,E=_+(M<<5&4294967295|M>>>27),M=I+(_^N&(E^_))+R[6]+3225465664&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^_&(I^E))+R[11]+643717713&4294967295,N=I+(M<<14&4294967295|M>>>18),M=_+(I^E&(N^I))+R[0]+3921069994&4294967295,_=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(_^N))+R[5]+3593408605&4294967295,E=_+(M<<5&4294967295|M>>>27),M=I+(_^N&(E^_))+R[10]+38016083&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^_&(I^E))+R[15]+3634488961&4294967295,N=I+(M<<14&4294967295|M>>>18),M=_+(I^E&(N^I))+R[4]+3889429448&4294967295,_=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(_^N))+R[9]+568446438&4294967295,E=_+(M<<5&4294967295|M>>>27),M=I+(_^N&(E^_))+R[14]+3275163606&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^_&(I^E))+R[3]+4107603335&4294967295,N=I+(M<<14&4294967295|M>>>18),M=_+(I^E&(N^I))+R[8]+1163531501&4294967295,_=N+(M<<20&4294967295|M>>>12),M=E+(N^I&(_^N))+R[13]+2850285829&4294967295,E=_+(M<<5&4294967295|M>>>27),M=I+(_^N&(E^_))+R[2]+4243563512&4294967295,I=E+(M<<9&4294967295|M>>>23),M=N+(E^_&(I^E))+R[7]+1735328473&4294967295,N=I+(M<<14&4294967295|M>>>18),M=_+(I^E&(N^I))+R[12]+2368359562&4294967295,_=N+(M<<20&4294967295|M>>>12),M=E+(_^N^I)+R[5]+4294588738&4294967295,E=_+(M<<4&4294967295|M>>>28),M=I+(E^_^N)+R[8]+2272392833&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^_)+R[11]+1839030562&4294967295,N=I+(M<<16&4294967295|M>>>16),M=_+(N^I^E)+R[14]+4259657740&4294967295,_=N+(M<<23&4294967295|M>>>9),M=E+(_^N^I)+R[1]+2763975236&4294967295,E=_+(M<<4&4294967295|M>>>28),M=I+(E^_^N)+R[4]+1272893353&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^_)+R[7]+4139469664&4294967295,N=I+(M<<16&4294967295|M>>>16),M=_+(N^I^E)+R[10]+3200236656&4294967295,_=N+(M<<23&4294967295|M>>>9),M=E+(_^N^I)+R[13]+681279174&4294967295,E=_+(M<<4&4294967295|M>>>28),M=I+(E^_^N)+R[0]+3936430074&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^_)+R[3]+3572445317&4294967295,N=I+(M<<16&4294967295|M>>>16),M=_+(N^I^E)+R[6]+76029189&4294967295,_=N+(M<<23&4294967295|M>>>9),M=E+(_^N^I)+R[9]+3654602809&4294967295,E=_+(M<<4&4294967295|M>>>28),M=I+(E^_^N)+R[12]+3873151461&4294967295,I=E+(M<<11&4294967295|M>>>21),M=N+(I^E^_)+R[15]+530742520&4294967295,N=I+(M<<16&4294967295|M>>>16),M=_+(N^I^E)+R[2]+3299628645&4294967295,_=N+(M<<23&4294967295|M>>>9),M=E+(N^(_|~I))+R[0]+4096336452&4294967295,E=_+(M<<6&4294967295|M>>>26),M=I+(_^(E|~N))+R[7]+1126891415&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~_))+R[14]+2878612391&4294967295,N=I+(M<<15&4294967295|M>>>17),M=_+(I^(N|~E))+R[5]+4237533241&4294967295,_=N+(M<<21&4294967295|M>>>11),M=E+(N^(_|~I))+R[12]+1700485571&4294967295,E=_+(M<<6&4294967295|M>>>26),M=I+(_^(E|~N))+R[3]+2399980690&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~_))+R[10]+4293915773&4294967295,N=I+(M<<15&4294967295|M>>>17),M=_+(I^(N|~E))+R[1]+2240044497&4294967295,_=N+(M<<21&4294967295|M>>>11),M=E+(N^(_|~I))+R[8]+1873313359&4294967295,E=_+(M<<6&4294967295|M>>>26),M=I+(_^(E|~N))+R[15]+4264355552&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~_))+R[6]+2734768916&4294967295,N=I+(M<<15&4294967295|M>>>17),M=_+(I^(N|~E))+R[13]+1309151649&4294967295,_=N+(M<<21&4294967295|M>>>11),M=E+(N^(_|~I))+R[4]+4149444226&4294967295,E=_+(M<<6&4294967295|M>>>26),M=I+(_^(E|~N))+R[11]+3174756917&4294967295,I=E+(M<<10&4294967295|M>>>22),M=N+(E^(I|~_))+R[2]+718787259&4294967295,N=I+(M<<15&4294967295|M>>>17),M=_+(I^(N|~E))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+I&4294967295}r.prototype.v=function(A,E){E===void 0&&(E=A.length);const _=E-this.blockSize,R=this.C;let N=this.h,I=0;for(;I<E;){if(N==0)for(;I<=_;)s(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<E;)if(R[N++]=A.charCodeAt(I++),N==this.blockSize){s(this,R),N=0;break}}else for(;I<E;)if(R[N++]=A[I++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var _=A.length-8;_<A.length;++_)A[_]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,_=0;_<4;++_)for(let R=0;R<32;R+=8)A[E++]=this.g[_]>>>R&255;return A};function i(A,E){var _=o;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=E(A)}function a(A,E){this.h=E;const _=[];let R=!0;for(let N=A.length-1;N>=0;N--){const I=A[N]|0;R&&I==E||(_[N]=I,R=!1)}this.g=_}var o={};function l(A){return-128<=A&&A<128?i(A,function(E){return new a([E|0],E<0?-1:0)}):new a([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(A<0)return T(c(-A));const E=[];let _=1;for(let R=0;A>=_;R++)E[R]=A/_|0,_*=4294967296;return new a(E,0)}function u(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return T(u(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=c(Math.pow(E,8));let R=d;for(let I=0;I<A.length;I+=8){var N=Math.min(8,A.length-I);const M=parseInt(A.substring(I,I+N),E);N<8?(N=c(Math.pow(E,N)),R=R.j(N).add(c(M))):(R=R.j(_),R=R.add(c(M)))}return R}var d=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(b(this))return-T(this).m();let A=0,E=1;for(let _=0;_<this.g.length;_++){const R=this.i(_);A+=(R>=0?R:4294967296+R)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(b(this))return"-"+T(this).toString(A);const E=c(Math.pow(A,6));var _=this;let R="";for(;;){const N=D(_,E).g;_=v(_,N.j(E));let I=((_.g.length>0?_.g[0]:_.h)>>>0).toString(A);if(_=N,S(_))return I+R;for(;I.length<6;)I="0"+I;R=I+R}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=v(this,A),b(A)?-1:S(A)?0:1};function T(A){const E=A.g.length,_=[];for(let R=0;R<E;R++)_[R]=~A.g[R];return new a(_,~A.h).add(h)}t.abs=function(){return b(this)?T(this):this},t.add=function(A){const E=Math.max(this.g.length,A.g.length),_=[];let R=0;for(let N=0;N<=E;N++){let I=R+(this.i(N)&65535)+(A.i(N)&65535),M=(I>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);R=M>>>16,I&=65535,M&=65535,_[N]=M<<16|I}return new a(_,_[_.length-1]&-2147483648?-1:0)};function v(A,E){return A.add(T(E))}t.j=function(A){if(S(this)||S(A))return d;if(b(this))return b(A)?T(this).j(T(A)):T(T(this).j(A));if(b(A))return T(this.j(T(A)));if(this.l(p)<0&&A.l(p)<0)return c(this.m()*A.m());const E=this.g.length+A.g.length,_=[];for(var R=0;R<2*E;R++)_[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<A.g.length;N++){const I=this.i(R)>>>16,M=this.i(R)&65535,V=A.i(N)>>>16,z=A.i(N)&65535;_[2*R+2*N]+=M*z,g(_,2*R+2*N),_[2*R+2*N+1]+=I*z,g(_,2*R+2*N+1),_[2*R+2*N+1]+=M*V,g(_,2*R+2*N+1),_[2*R+2*N+2]+=I*V,g(_,2*R+2*N+2)}for(A=0;A<E;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=E;A<2*E;A++)_[A]=0;return new a(_,0)};function g(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function x(A,E){this.g=A,this.h=E}function D(A,E){if(S(E))throw Error("division by zero");if(S(A))return new x(d,d);if(b(A))return E=D(T(A),E),new x(T(E.g),T(E.h));if(b(E))return E=D(A,T(E)),new x(T(E.g),E.h);if(A.g.length>30){if(b(A)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var _=h,R=E;R.l(A)<=0;)_=C(_),R=C(R);var N=P(_,1),I=P(R,1);for(R=P(R,2),_=P(_,2);!S(R);){var M=I.add(R);M.l(A)<=0&&(N=N.add(_),I=M),R=P(R,1),_=P(_,1)}return E=v(A,N.j(E)),new x(N,E)}for(N=d;A.l(E)>=0;){for(_=Math.max(1,Math.floor(A.m()/E.m())),R=Math.ceil(Math.log(_)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),I=c(_),M=I.j(E);b(M)||M.l(A)>0;)_-=R,I=c(_),M=I.j(E);S(I)&&(I=h),N=N.add(I),A=v(A,M)}return new x(N,A)}t.B=function(A){return D(this,A).h},t.and=function(A){const E=Math.max(this.g.length,A.g.length),_=[];for(let R=0;R<E;R++)_[R]=this.i(R)&A.i(R);return new a(_,this.h&A.h)},t.or=function(A){const E=Math.max(this.g.length,A.g.length),_=[];for(let R=0;R<E;R++)_[R]=this.i(R)|A.i(R);return new a(_,this.h|A.h)},t.xor=function(A){const E=Math.max(this.g.length,A.g.length),_=[];for(let R=0;R<E;R++)_[R]=this.i(R)^A.i(R);return new a(_,this.h^A.h)};function C(A){const E=A.g.length+1,_=[];for(let R=0;R<E;R++)_[R]=A.i(R)<<1|A.i(R-1)>>>31;return new a(_,A.h)}function P(A,E){const _=E>>5;E%=32;const R=A.g.length-_,N=[];for(let I=0;I<R;I++)N[I]=E>0?A.i(I+_)>>>E|A.i(I+_+1)<<32-E:A.i(I+_);return new a(N,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RM=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Da=a}).apply(typeof pA<"u"?pA:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DM,Ju,NM,Dm,zb,IM,MM,PM;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var w=0;w<f.length;++w){var k=f[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,w){if(w)e:{var k=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var F=f[O];if(!(F in k))break e;k=k[F]}f=f[f.length-1],O=k[f],w=w(O),w!=O&&w!=null&&e(k,f,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(w){var k=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&k.push([O,w[O]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function o(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function l(f,w,k){return f.call.apply(f.bind,arguments)}function c(f,w,k){return c=l,c.apply(null,arguments)}function u(f,w){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function d(f,w){function k(){}k.prototype=w.prototype,f.Z=w.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(O,F,B){for(var X=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)X[Ve-2]=arguments[Ve];return w.prototype[F].apply(O,X)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const w=f.length;if(w>0){const k=Array(w);for(let O=0;O<w;O++)k[O]=f[O];return k}return[]}function S(f,w){for(let O=1;O<arguments.length;O++){const F=arguments[O];var k=typeof F;if(k=k!="object"?k:F?Array.isArray(F)?"array":k:"null",k=="array"||k=="object"&&typeof F.length=="number"){k=f.length||0;const B=F.length||0;f.length=k+B;for(let X=0;X<B;X++)f[k+X]=F[X]}else f.push(F)}}class b{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(f){a.setTimeout(()=>{throw f},0)}function v(){var f=A;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class g{constructor(){this.h=this.g=null}add(w,k){const O=x.get();O.set(w,k),this.h?this.h.next=O:this.g=O,this.h=O}}var x=new b(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let C,P=!1,A=new g,E=()=>{const f=Promise.resolve(void 0);C=()=>{f.then(_)}};function _(){for(var f;f=v();){try{f.h.call(f.g)}catch(k){T(k)}var w=x;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}P=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};a.addEventListener("test",k,w),a.removeEventListener("test",k,w)}catch{}return f}();function M(f){return/^[\s\xa0]*$/.test(f)}function V(f,w){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}d(V,N),V.prototype.init=function(f,w){const k=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(k=="mouseover"?w=f.fromElement:k=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var z="closure_listenable_"+(Math.random()*1e6|0),L=0;function U(f,w,k,O,F){this.listener=f,this.proxy=null,this.src=w,this.type=k,this.capture=!!O,this.ha=F,this.key=++L,this.da=this.fa=!1}function j(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,w,k){for(const O in f)w.call(k,f[O],O,f)}function Q(f,w){for(const k in f)w.call(void 0,f[k],k,f)}function pe(f){const w={};for(const k in f)w[k]=f[k];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(f,w){let k,O;for(let F=1;F<arguments.length;F++){O=arguments[F];for(k in O)f[k]=O[k];for(let B=0;B<ae.length;B++)k=ae[B],Object.prototype.hasOwnProperty.call(O,k)&&(f[k]=O[k])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,w,k,O,F){const B=f.toString();f=this.g[B],f||(f=this.g[B]=[],this.h++);const X=Ne(f,w,O,F);return X>-1?(w=f[X],k||(w.fa=!1)):(w=new U(w,this.src,B,!!O,F),w.fa=k,f.push(w)),w};function se(f,w){const k=w.type;if(k in f.g){var O=f.g[k],F=Array.prototype.indexOf.call(O,w,void 0),B;(B=F>=0)&&Array.prototype.splice.call(O,F,1),B&&(j(w),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Ne(f,w,k,O){for(let F=0;F<f.length;++F){const B=f[F];if(!B.da&&B.listener==w&&B.capture==!!k&&B.ha==O)return F}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),nt={};function ye(f,w,k,O,F){if(Array.isArray(w)){for(let B=0;B<w.length;B++)ye(f,w[B],k,O,F);return null}return k=xt(k),f&&f[z]?f.J(w,k,o(O)?!!O.capture:!1,F):Ye(f,w,k,!1,O,F)}function Ye(f,w,k,O,F,B){if(!w)throw Error("Invalid event type");const X=o(F)?!!F.capture:!!F;let Ve=rt(f);if(Ve||(f[Oe]=Ve=new de(f)),k=Ve.add(w,k,O,X,B),k.proxy)return k;if(O=G(),k.proxy=O,O.src=f,O.listener=k,f.addEventListener)I||(F=X),F===void 0&&(F=!1),f.addEventListener(w.toString(),O,F);else if(f.attachEvent)f.attachEvent(je(w.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function G(){function f(k){return w.call(f.src,f.listener,k)}const w=wt;return f}function oe(f,w,k,O,F){if(Array.isArray(w))for(var B=0;B<w.length;B++)oe(f,w[B],k,O,F);else O=o(O)?!!O.capture:!!O,k=xt(k),f&&f[z]?(f=f.i,B=String(w).toString(),B in f.g&&(w=f.g[B],k=Ne(w,k,O,F),k>-1&&(j(w[k]),Array.prototype.splice.call(w,k,1),w.length==0&&(delete f.g[B],f.h--)))):f&&(f=rt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Ne(w,k,O,F)),(k=f>-1?w[f]:null)&&be(k))}function be(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[z])se(w.i,f);else{var k=f.type,O=f.proxy;w.removeEventListener?w.removeEventListener(k,O,f.capture):w.detachEvent?w.detachEvent(je(k),O):w.addListener&&w.removeListener&&w.removeListener(O),(k=rt(w))?(se(k,f),k.h==0&&(k.src=null,w[Oe]=null)):j(f)}}}function je(f){return f in nt?nt[f]:nt[f]="on"+f}function wt(f,w){if(f.da)f=!0;else{w=new V(w,this);const k=f.listener,O=f.ha||f.src;f.fa&&be(f),f=k.call(O,w)}return f}function rt(f){return f=f[Oe],f instanceof de?f:null}var mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xt(f){return typeof f=="function"?f:(f[mt]||(f[mt]=function(w){return f.handleEvent(w)}),f[mt])}function et(){R.call(this),this.i=new de(this),this.M=this,this.G=null}d(et,R),et.prototype[z]=!0,et.prototype.removeEventListener=function(f,w,k,O){oe(this,f,w,k,O)};function It(f,w){var k,O=f.G;if(O)for(k=[];O;O=O.G)k.push(O);if(f=f.M,O=w.type||w,typeof w=="string")w=new N(w,f);else if(w instanceof N)w.target=w.target||f;else{var F=w;w=new N(O,f),re(w,F)}F=!0;let B,X;if(k)for(X=k.length-1;X>=0;X--)B=w.g=k[X],F=Le(B,O,!0,w)&&F;if(B=w.g=f,F=Le(B,O,!0,w)&&F,F=Le(B,O,!1,w)&&F,k)for(X=0;X<k.length;X++)B=w.g=k[X],F=Le(B,O,!1,w)&&F}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const k=f.g[w];for(let O=0;O<k.length;O++)j(k[O]);delete f.g[w],f.h--}}this.G=null},et.prototype.J=function(f,w,k,O){return this.i.add(String(f),w,!1,k,O)},et.prototype.K=function(f,w,k,O){return this.i.add(String(f),w,!0,k,O)};function Le(f,w,k,O){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let F=!0;for(let B=0;B<w.length;++B){const X=w[B];if(X&&!X.da&&X.capture==k){const Ve=X.listener,an=X.ha||X.src;X.fa&&se(f.i,X),F=Ve.call(an,O)!==!1&&F}}return F&&!O.defaultPrevented}function te(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=c(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(f,w||0)}function Ce(f){f.g=te(()=>{f.g=null,f.i&&(f.i=!1,Ce(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class fe extends R{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(f){R.call(this),this.h=f,this.g={}}d(ne,R);var pt=[];function mn(f){K(f.g,function(w,k){this.g.hasOwnProperty(k)&&be(w)},f),f.g={}}ne.prototype.N=function(){ne.Z.N.call(this),mn(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=a.JSON.stringify,Et=a.JSON.parse,ct=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function gt(){}function $(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function J(){N.call(this,"d")}d(J,N);function xe(){N.call(this,"c")}d(xe,N);var we={},Ke=null;function Nn(){return Ke=Ke||new et}we.Ia="serverreachability";function me(f){N.call(this,we.Ia,f)}d(me,N);function tt(f){const w=Nn();It(w,new me(w))}we.STAT_EVENT="statevent";function Ee(f,w){N.call(this,we.STAT_EVENT,f),this.stat=w}d(Ee,N);function Re(f){const w=Nn();It(w,new Ee(w,f))}we.Ja="timingevent";function pn(f,w){N.call(this,we.Ja,f),this.size=w}d(pn,N);function Fe(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function ro(){this.g=!0}ro.prototype.ua=function(){this.g=!1};function py(f,w,k,O,F,B){f.info(function(){if(f.g)if(B){var X="",Ve=B.split("&");for(let St=0;St<Ve.length;St++){var an=Ve[St].split("=");if(an.length>1){const gn=an[0];an=an[1];const cs=gn.split("_");X=cs.length>=2&&cs[1]=="type"?X+(gn+"="+an+"&"):X+(gn+"=redacted&")}}}else X=null;else X=B;return"XMLHTTP REQ ("+O+") [attempt "+F+"]: "+w+`
`+k+`
`+X})}function gy(f,w,k,O,F,B,X){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+F+"]: "+w+`
`+k+`
`+B+" "+X})}function os(f,w,k,O){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+mV(f,k)+(O?" "+O:"")})}function bu(f,w){f.info(function(){return"TIMEOUT: "+w})}ro.prototype.info=function(){};function mV(f,w){if(!f.g)return w;if(!w)return null;try{const B=JSON.parse(w);if(B){for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var k=B[f];if(!(k.length<2)){var O=k[1];if(Array.isArray(O)&&!(O.length<1)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(let X=1;X<O.length;X++)O[X]=""}}}}return lt(B)}catch{return w}}var vh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lT={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cT;function yy(){}d(yy,gt),yy.prototype.g=function(){return new XMLHttpRequest},cT=new yy;function wu(f){return encodeURIComponent(String(f))}function pV(f){var w=1;f=f.split(":");const k=[];for(;w>0&&f.length;)k.push(f.shift()),w--;return f.length&&k.push(f.join(":")),k}function Vi(f,w,k,O){this.j=f,this.i=w,this.l=k,this.S=O||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uT}function uT(){this.i=null,this.g="",this.h=!1}var dT={},vy={};function by(f,w,k){f.M=1,f.A=wh(ls(w)),f.u=k,f.R=!0,fT(f,null)}function fT(f,w){f.F=Date.now(),bh(f),f.B=ls(f.A);var k=f.B,O=f.S;Array.isArray(O)||(O=[String(O)]),_T(k.i,"t",O),f.C=0,k=f.j.L,f.h=new uT,f.g=$T(f.j,k?w:null,!f.u),f.P>0&&(f.O=new fe(c(f.Y,f,f.g),f.P)),w=f.V,k=f.g,O=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(pt[0]=F.toString()),F=pt);for(let B=0;B<F.length;B++){const X=ye(k,F[B],O||w.handleEvent,!1,w.h||w);if(!X)break;w.g[X.key]=X}w=f.J?pe(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),tt(),py(f.i,f.v,f.B,f.l,f.S,f.u)}Vi.prototype.ba=function(f){f=f.target;const w=this.O;w&&Bi(f)==3?w.j():this.Y(f)},Vi.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=Bi(this.g),an=this.g.ya(),St=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||IT(this.g)))){this.K||Ve!=4||an==7||(an==8||St<=0?tt(3):tt(2)),wy(this);var w=this.g.ca();this.X=w;var k=gV(this);if(this.o=w==200,gy(this.i,this.v,this.B,this.l,this.S,Ve,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,F=this.g;if((O=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(O)){var B=O;break t}}B=null}if(f=B)os(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xy(this,f);else{this.o=!1,this.m=3,Re(12),so(this),xu(this);break e}}if(this.R){f=!0;let gn;for(;!this.K&&this.C<k.length;)if(gn=yV(this,k),gn==vy){Ve==4&&(this.m=4,Re(14),f=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==dT){this.m=4,Re(15),os(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else os(this.i,this.l,gn,null),xy(this,gn);if(hT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||k.length!=0||this.h.h||(this.m=1,Re(16),f=!1),this.o=this.o&&f,!f)os(this.i,this.l,k,"[Invalid Chunked Response]"),so(this),xu(this);else if(k.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ry(X),X.P=!0,Re(11))}}else os(this.i,this.l,k,null),xy(this,k);Ve==4&&so(this),this.o&&!this.K&&(Ve==4?UT(this.j,this):(this.o=!1,bh(this)))}else NV(this.g),w==400&&k.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),so(this),xu(this)}}}catch{}finally{}};function gV(f){if(!hT(f))return f.g.la();const w=IT(f.g);if(w==="")return"";let k="";const O=w.length,F=Bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return so(f),xu(f),"";f.h.i=new a.TextDecoder}for(let B=0;B<O;B++)f.h.h=!0,k+=f.h.i.decode(w[B],{stream:!(F&&B==O-1)});return w.length=0,f.h.g+=k,f.C=0,f.h.g}function hT(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function yV(f,w){var k=f.C,O=w.indexOf(`
`,k);return O==-1?vy:(k=Number(w.substring(k,O)),isNaN(k)?dT:(O+=1,O+k>w.length?vy:(w=w.slice(O,O+k),f.C=O+k,w)))}Vi.prototype.cancel=function(){this.K=!0,so(this)};function bh(f){f.T=Date.now()+f.H,mT(f,f.H)}function mT(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fe(c(f.aa,f),w)}function wy(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Vi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(bu(this.i,this.B),this.M!=2&&(tt(),Re(17)),so(this),this.m=2,xu(this)):mT(this,this.T-f)};function xu(f){f.j.I==0||f.K||UT(f.j,f)}function so(f){wy(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,mn(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function xy(f,w){try{var k=f.j;if(k.I!=0&&(k.g==f||Ey(k.h,f))){if(!f.L&&Ey(k.h,f)&&k.I==3){try{var O=k.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var F=O;if(F[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)_h(k),Sh(k);else break e;Cy(k),Re(18)}}else k.xa=F[1],0<k.xa-k.K&&F[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Fe(c(k.Va,k),6e3));yT(k.h)<=1&&k.ta&&(k.ta=void 0)}else ao(k,11)}else if((f.L||k.g==f)&&_h(k),!M(w))for(F=k.Ba.g.parse(w),w=0;w<F.length;w++){let St=F[w];const gn=St[0];if(!(gn<=k.K))if(k.K=gn,St=St[1],k.I==2)if(St[0]=="c"){k.M=St[1],k.ba=St[2];const cs=St[3];cs!=null&&(k.ka=cs,k.j.info("VER="+k.ka));const oo=St[4];oo!=null&&(k.za=oo,k.j.info("SVER="+k.za));const zi=St[5];zi!=null&&typeof zi=="number"&&zi>0&&(O=1.5*zi,k.O=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;const $i=f.g;if($i){const kh=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kh){var B=O.h;B.g||kh.indexOf("spdy")==-1&&kh.indexOf("quic")==-1&&kh.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Sy(B,B.h),B.h=null))}if(O.G){const Dy=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;Dy&&(O.wa=Dy,Ct(O.J,O.G,Dy))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),O=k;var X=f;if(O.na=zT(O,O.L?O.ba:null,O.W),X.L){vT(O.h,X);var Ve=X,an=O.O;an&&(Ve.H=an),Ve.D&&(wy(Ve),bh(Ve)),O.g=X}else LT(O);k.i.length>0&&Th(k)}else St[0]!="stop"&&St[0]!="close"||ao(k,7);else k.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?ao(k,7):ky(k):St[0]!="noop"&&k.l&&k.l.qa(St),k.A=0)}}tt(4)}catch{}}var vV=class{constructor(f,w){this.g=f,this.map=w}};function pT(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function yT(f){return f.h?1:f.g?f.g.size:0}function Ey(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Sy(f,w){f.g?f.g.add(w):f.h=w}function vT(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}pT.prototype.cancel=function(){if(this.i=bT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bT(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const k of f.g.values())w=w.concat(k.G);return w}return p(f.i)}var wT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bV(f,w){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const O=f[k].indexOf("=");let F,B=null;O>=0?(F=f[k].substring(0,O),B=f[k].substring(O+1)):F=f[k],w(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof Ui?(this.l=f.l,Eu(this,f.j),this.o=f.o,this.g=f.g,Su(this,f.u),this.h=f.h,Ty(this,AT(f.i)),this.m=f.m):f&&(w=String(f).match(wT))?(this.l=!1,Eu(this,w[1]||"",!0),this.o=Tu(w[2]||""),this.g=Tu(w[3]||"",!0),Su(this,w[4]),this.h=Tu(w[5]||"",!0),Ty(this,w[6]||"",!0),this.m=Tu(w[7]||"")):(this.l=!1,this.i=new Au(null,this.l))}Ui.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(_u(w,xT,!0),":");var k=this.g;return(k||w=="file")&&(f.push("//"),(w=this.o)&&f.push(_u(w,xT,!0),"@"),f.push(wu(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(_u(k,k.charAt(0)=="/"?EV:xV,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",_u(k,TV)),f.join("")},Ui.prototype.resolve=function(f){const w=ls(this);let k=!!f.j;k?Eu(w,f.j):k=!!f.o,k?w.o=f.o:k=!!f.g,k?w.g=f.g:k=f.u!=null;var O=f.h;if(k)Su(w,f.u);else if(k=!!f.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var F=w.h.lastIndexOf("/");F!=-1&&(O=w.h.slice(0,F+1)+O)}if(F=O,F==".."||F==".")O="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){O=F.lastIndexOf("/",0)==0,F=F.split("/");const B=[];for(let X=0;X<F.length;){const Ve=F[X++];Ve=="."?O&&X==F.length&&B.push(""):Ve==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),O&&X==F.length&&B.push("")):(B.push(Ve),O=!0)}O=B.join("/")}else O=F}return k?w.h=O:k=f.i.toString()!=="",k?Ty(w,AT(f.i)):k=!!f.m,k&&(w.m=f.m),w};function ls(f){return new Ui(f)}function Eu(f,w,k){f.j=k?Tu(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Su(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Ty(f,w,k){w instanceof Au?(f.i=w,_V(f.i,f.l)):(k||(w=_u(w,SV)),f.i=new Au(w,f.l))}function Ct(f,w,k){f.i.set(w,k)}function wh(f){return Ct(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Tu(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _u(f,w,k){return typeof f=="string"?(f=encodeURI(f).replace(w,wV),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xT=/[#\/\?@]/g,xV=/[#\?:]/g,EV=/[#\?]/g,SV=/[#\?@]/g,TV=/#/g;function Au(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function io(f){f.g||(f.g=new Map,f.h=0,f.i&&bV(f.i,function(w,k){f.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=Au.prototype,t.add=function(f,w){io(this),this.i=null,f=dl(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(w),this.h+=1,this};function ET(f,w){io(f),w=dl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ST(f,w){return io(f),w=dl(f,w),f.g.has(w)}t.forEach=function(f,w){io(this),this.g.forEach(function(k,O){k.forEach(function(F){f.call(w,F,O,this)},this)},this)};function TT(f,w){io(f);let k=[];if(typeof w=="string")ST(f,w)&&(k=k.concat(f.g.get(dl(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)k=k.concat(f[w]);return k}t.set=function(f,w){return io(this),this.i=null,f=dl(this,f),ST(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=TT(this,f),f.length>0?String(f[0]):w):w};function _T(f,w,k){ET(f,w),k.length>0&&(f.i=null,f.g.set(dl(f,w),p(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var k=w[O];const F=wu(k);k=TT(this,k);for(let B=0;B<k.length;B++){let X=F;k[B]!==""&&(X+="="+wu(k[B])),f.push(X)}}return this.i=f.join("&")};function AT(f){const w=new Au;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function dl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function _V(f,w){w&&!f.j&&(io(f),f.i=null,f.g.forEach(function(k,O){const F=O.toLowerCase();O!=F&&(ET(this,O),_T(this,F,k))},f)),f.j=w}function AV(f,w){const k=new ro;if(a.Image){const O=new Image;O.onload=u(Fi,k,"TestLoadImage: loaded",!0,w,O),O.onerror=u(Fi,k,"TestLoadImage: error",!1,w,O),O.onabort=u(Fi,k,"TestLoadImage: abort",!1,w,O),O.ontimeout=u(Fi,k,"TestLoadImage: timeout",!1,w,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else w(!1)}function kV(f,w){const k=new ro,O=new AbortController,F=setTimeout(()=>{O.abort(),Fi(k,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:O.signal}).then(B=>{clearTimeout(F),B.ok?Fi(k,"TestPingServer: ok",!0,w):Fi(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(F),Fi(k,"TestPingServer: error",!1,w)})}function Fi(f,w,k,O,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),O(k)}catch{}}function CV(){this.g=new ct}function _y(f){this.i=f.Sb||null,this.h=f.ab||!1}d(_y,gt),_y.prototype.g=function(){return new xh(this.i,this.h)};function xh(f,w){et.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(xh,et),t=xh.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Cu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ku(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kT(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function kT(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ku(this):Cu(this),this.readyState==3&&kT(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ku(this))},t.Na=function(f){this.g&&(this.response=f,ku(this))},t.ga=function(){this.g&&ku(this)};function ku(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Cu(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=w.next();return f.join(`\r
`)};function Cu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function CT(f){let w="";return K(f,function(k,O){w+=O,w+=":",w+=k,w+=`\r
`}),w}function Ay(f,w,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=CT(k),typeof f=="string"?k!=null&&wu(k):Ct(f,w,k))}function Bt(f){et.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Bt,et);var RV=/^https?$/i,DV=["POST","PUT"];t=Bt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cT.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(B){RT(this,B);return}if(f=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var F in O)k.set(F,O[F]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const B of O.keys())k.set(B,O.get(B));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(DV,w,void 0)>=0)||O||F||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of k)this.g.setRequestHeader(B,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(B){RT(this,B)}};function RT(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,DT(f),Eh(f)}function DT(f){f.A||(f.A=!0,It(f,"complete"),It(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,It(this,"complete"),It(this,"abort"),Eh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eh(this,!0)),Bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?NT(this):this.Xa())},t.Xa=function(){NT(this)};function NT(f){if(f.h&&typeof i<"u"){if(f.v&&Bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(It(f,"readystatechange"),Bi(f)==4){f.h=!1;try{const B=f.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var O;if(O=B===0){let X=String(f.D).match(wT)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),O=!RV.test(X?X.toLowerCase():"")}k=O}if(k)It(f,"complete"),It(f,"success");else{f.o=6;try{var F=Bi(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",DT(f)}}finally{Eh(f)}}}}function Eh(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,w||It(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Et(w)}};function IT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function NV(f){const w={};f=(f.g&&Bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(M(f[O]))continue;var k=pV(f[O]);const F=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const B=w[F]||[];w[F]=B,B.push(k)}Q(w,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(f,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||w}function MT(f){this.za=0,this.i=[],this.j=new ro,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ru("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ru("baseRetryDelayMs",5e3,f),this.Za=Ru("retryDelaySeedMs",1e4,f),this.Ta=Ru("forwardChannelMaxRetries",2,f),this.va=Ru("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new pT(f&&f.concurrentRequestLimit),this.Ba=new CV,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=MT.prototype,t.ka=8,t.I=1,t.connect=function(f,w,k,O){Re(0),this.W=f,this.H=w||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.J=zT(this,null,this.W),Th(this)};function ky(f){if(PT(f),f.I==3){var w=f.V++,k=ls(f.J);if(Ct(k,"SID",f.M),Ct(k,"RID",w),Ct(k,"TYPE","terminate"),Du(f,k),w=new Vi(f,f.j,w),w.M=2,w.A=wh(ls(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!k&&a.Image&&(new Image().src=w.A,k=!0),k||(w.g=$T(w.j,null),w.g.ea(w.A)),w.F=Date.now(),bh(w)}BT(f)}function Sh(f){f.g&&(Ry(f),f.g.cancel(),f.g=null)}function PT(f){Sh(f),f.v&&(a.clearTimeout(f.v),f.v=null),_h(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function Th(f){if(!gT(f.h)&&!f.m){f.m=!0;var w=f.Ea;C||E(),P||(C(),P=!0),A.add(w,f),f.D=0}}function IV(f,w){return yT(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fe(c(f.Ea,f,w),FT(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new Vi(this,this.j,f);let B=this.o;if(this.U&&(B?(B=pe(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(F.J=B,B=null),this.S)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=jT(this,F,w),k=ls(this.J),Ct(k,"RID",f),Ct(k,"CVER",22),this.G&&Ct(k,"X-HTTP-Session-Id",this.G),Du(this,k),B&&(this.R?w="headers="+wu(CT(B))+"&"+w:this.u&&Ay(k,this.u,B)),Sy(this.h,F),this.Ra&&Ct(k,"TYPE","init"),this.S?(Ct(k,"$req",w),Ct(k,"SID","null"),F.U=!0,by(F,k,null)):by(F,k,w),this.I=2}}else this.I==3&&(f?OT(this,f):this.i.length==0||gT(this.h)||OT(this))};function OT(f,w){var k;w?k=w.l:k=f.V++;const O=ls(f.J);Ct(O,"SID",f.M),Ct(O,"RID",k),Ct(O,"AID",f.K),Du(f,O),f.u&&f.o&&Ay(O,f.u,f.o),k=new Vi(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),w&&(f.i=w.G.concat(f.i)),w=jT(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Sy(f.h,k),by(k,O,w)}function Du(f,w){f.H&&K(f.H,function(k,O){Ct(w,O,k)}),f.l&&K({},function(k,O){Ct(w,O,k)})}function jT(f,w,k){k=Math.min(f.i.length,k);const O=f.l?c(f.l.Ka,f.l,f):null;e:{var F=f.i;let Ve=-1;for(;;){const an=["count="+k];Ve==-1?k>0?(Ve=F[0].g,an.push("ofs="+Ve)):Ve=0:an.push("ofs="+Ve);let St=!0;for(let gn=0;gn<k;gn++){var B=F[gn].g;const cs=F[gn].map;if(B-=Ve,B<0)Ve=Math.max(0,F[gn].g-100),St=!1;else try{B="req"+B+"_"||"";try{var X=cs instanceof Map?cs:Object.entries(cs);for(const[oo,zi]of X){let $i=zi;o(zi)&&($i=lt(zi)),an.push(B+oo+"="+encodeURIComponent($i))}}catch(oo){throw an.push(B+"type="+encodeURIComponent("_badmap")),oo}}catch{O&&O(cs)}}if(St){X=an.join("&");break e}}X=void 0}return f=f.i.splice(0,k),w.G=f,X}function LT(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;C||E(),P||(C(),P=!0),A.add(w,f),f.A=0}}function Cy(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fe(c(f.Da,f),FT(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,VT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fe(c(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Sh(this),VT(this))};function Ry(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function VT(f){f.g=new Vi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=ls(f.na);Ct(w,"RID","rpc"),Ct(w,"SID",f.M),Ct(w,"AID",f.K),Ct(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ct(w,"TO",f.ia),Ct(w,"TYPE","xmlhttp"),Du(f,w),f.u&&f.o&&Ay(w,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=wh(ls(w)),k.u=null,k.R=!0,fT(k,f)}t.Va=function(){this.C!=null&&(this.C=null,Sh(this),Cy(this),Re(19))};function _h(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function UT(f,w){var k=null;if(f.g==w){_h(f),Ry(f),f.g=null;var O=2}else if(Ey(f.h,w))k=w.G,vT(f.h,w),O=1;else return;if(f.I!=0){if(w.o)if(O==1){k=w.u?w.u.length:0,w=Date.now()-w.F;var F=f.D;O=Nn(),It(O,new pn(O,k)),Th(f)}else LT(f);else if(F=w.m,F==3||F==0&&w.X>0||!(O==1&&IV(f,w)||O==2&&Cy(f)))switch(k&&k.length>0&&(w=f.h,w.i=w.i.concat(k)),F){case 1:ao(f,5);break;case 4:ao(f,10);break;case 3:ao(f,6);break;default:ao(f,2)}}}function FT(f,w){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*w}function ao(f,w){if(f.j.info("Error code "+w),w==2){var k=c(f.bb,f),O=f.Ua;const F=!O;O=new Ui(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Eu(O,"https"),wh(O),F?AV(O.toString(),k):kV(O.toString(),k)}else Re(2);f.I=0,f.l&&f.l.pa(w),BT(f),PT(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function BT(f){if(f.I=0,f.ja=[],f.l){const w=bT(f.h);(w.length!=0||f.i.length!=0)&&(S(f.ja,w),S(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function zT(f,w,k){var O=k instanceof Ui?ls(k):new Ui(k);if(O.g!="")w&&(O.g=w+"."+O.g),Su(O,O.u);else{var F=a.location;O=F.protocol,w=w?w+"."+F.hostname:F.hostname,F=+F.port;const B=new Ui(null);O&&Eu(B,O),w&&(B.g=w),F&&Su(B,F),k&&(B.h=k),O=B}return k=f.G,w=f.wa,k&&w&&Ct(O,k,w),Ct(O,"VER",f.ka),Du(f,O),O}function $T(f,w,k){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Bt(new _y({ab:k})):new Bt(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HT(){}t=HT.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ah(){}Ah.prototype.g=function(f,w){return new lr(f,w)};function lr(f,w){et.call(this),this.g=new MT(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!M(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new fl(this)}d(lr,et),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){ky(this.g)},lr.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=lt(f),f=k);w.i.push(new vV(w.Ya++,f)),w.I==3&&Th(w)},lr.prototype.N=function(){this.g.l=null,delete this.j,ky(this.g),delete this.g,lr.Z.N.call(this)};function qT(f){J.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const k in w){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}d(qT,J);function GT(){xe.call(this),this.status=1}d(GT,xe);function fl(f){this.g=f}d(fl,HT),fl.prototype.ra=function(){It(this.g,"a")},fl.prototype.qa=function(f){It(this.g,new qT(f))},fl.prototype.pa=function(f){It(this.g,new GT)},fl.prototype.oa=function(){It(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,PM=function(){return new Ah},MM=function(){return Nn()},IM=we,zb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vh.NO_ERROR=0,vh.TIMEOUT=8,vh.HTTP_ERROR=6,Dm=vh,lT.COMPLETE="complete",NM=lT,$.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",et.prototype.listen=et.prototype.J,Ju=$,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,DM=Bt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const gA="@firebase/firestore",yA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new hE("@firebase/firestore");function Al(){return Jo.logLevel}function ie(t,...e){if(Jo.logLevel<=qe.DEBUG){const n=e.map(pE);Jo.debug(`Firestore (${uu}): ${t}`,...n)}}function Ci(t,...e){if(Jo.logLevel<=qe.ERROR){const n=e.map(pE);Jo.error(`Firestore (${uu}): ${t}`,...n)}}function jc(t,...e){if(Jo.logLevel<=qe.WARN){const n=e.map(pE);Jo.warn(`Firestore (${uu}): ${t}`,...n)}}function pE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OM(t,r,n)}function OM(t,e,n){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ci(r),new Error(r)}function ot(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||OM(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class G7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W7{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new jM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class Y7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=i=>{i.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function $b(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return C0(s)===C0(i)?Ge(s,i):C0(s)?1:-1}return Ge(t.length,e.length)}const Z7=55296,J7=57343;function C0(t){const e=t.charCodeAt(0);return e>=Z7&&e<=J7}function Lc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__name__";class hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=hs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ge(e.length,n.length)}static compareSegments(e,n){const r=hs.isNumericId(e),s=hs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?hs.extractNumericId(e).compare(hs.extractNumericId(n)):$b(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class At extends hs{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const e$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends hs{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return e$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bA}static keyField(){return new Cn([bA])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ee(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new ee(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(At.fromString(e))}static fromName(e){return new ve(At.fromString(e).popFirst(5))}static empty(){return new ve(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e,n){if(!n)throw new ee(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t$(t,e,n,r){if(e===!0&&r===!0)throw new ee(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wA(t){if(!ve.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xA(t){if(ve.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new ee(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yf(t,e){if(!VM(t))throw new ee(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ee(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=-62135596800,SA=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SA);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EA)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SA}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yf(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:nn("string",at._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new at(0,0))}static max(){return new Ie(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=-1;function n$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Fa(s,ve.empty(),e)}function r$(t){return new Fa(t.readTime,t.key,rf)}class Fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fa(Ie.min(),ve.empty(),rf)}static max(){return new Fa(Ie.max(),ve.empty(),rf)}}function s$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==i$)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},l=>r(l))}),a=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{a[c]=u,++o,o===i&&r(a)},u=>s(u))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function o$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ig.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-1;function Mg(t){return t==null}function Rp(t){return t===0&&1/t==-1/0}function l$(t){return typeof t=="number"&&Number.isInteger(t)&&!Rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="";function c$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TA(e)),e=u$(t.get(n),e);return TA(e)}function u$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case UM:n+="";break;default:n+=i}}return n}function TA(t){return t+UM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AA(this.data.getIterator())}getIteratorFrom(e){return new AA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class AA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new yr([])}unionWith(e){let n=new dn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BM("Invalid base64 string: "+i):i}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const d$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=d$.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="server_timestamp",$M="__type__",HM="__previous_value__",qM="__local_write_time__";function vE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$M])==null?void 0:r.stringValue)===zM}function Pg(t){const e=t.mapValue.fields[HM];return vE(e)?Pg(e):e}function sf(t){const e=Ba(t.mapValue.fields[qM].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,s,i,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const af="(default)";class of{constructor(e,n){this.projectId=e,this.database=n||af}static empty(){return new of("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__type__",h$="__max__",Jh={mapValue:{}},WM="__vector__",Dp="value";function $a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vE(t)?4:p$(t)?9007199254740991:m$(t)?10:11:_e(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=$a(t);if(n!==$a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ba(s.timestampValue),o=Ba(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return za(s.bytesValue).isEqual(za(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xt(s.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xt(s.integerValue)===Xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Xt(s.doubleValue),o=Xt(i.doubleValue);return a===o?Rp(a)===Rp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Lc(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(_A(a)!==_A(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Os(a[l],o[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function lf(t,e){return(t.values||[]).find(n=>Os(n,e))!==void 0}function Vc(t,e){if(t===e)return 0;const n=$a(t),r=$a(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=Xt(i.integerValue||i.doubleValue),l=Xt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return kA(t.timestampValue,e.timestampValue);case 4:return kA(sf(t),sf(e));case 5:return $b(t.stringValue,e.stringValue);case 6:return function(i,a){const o=za(i),l=za(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ge(o[c],l[c]);if(u!==0)return u}return Ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=Ge(Xt(i.latitude),Xt(a.latitude));return o!==0?o:Ge(Xt(i.longitude),Xt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CA(t.arrayValue,e.arrayValue);case 10:return function(i,a){var h,p,S,b;const o=i.fields||{},l=a.fields||{},c=(h=o[Dp])==null?void 0:h.arrayValue,u=(p=l[Dp])==null?void 0:p.arrayValue,d=Ge(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((b=u==null?void 0:u.values)==null?void 0:b.length)||0);return d!==0?d:CA(c,u)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Jh.mapValue&&a===Jh.mapValue)return 0;if(i===Jh.mapValue)return 1;if(a===Jh.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=$b(l[d],u[d]);if(h!==0)return h;const p=Vc(o[l[d]],c[u[d]]);if(p!==0)return p}return Ge(l.length,u.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function kA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Ba(t),r=Ba(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function CA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Vc(n[s],r[s]);if(i)return i}return Ge(n.length,r.length)}function Uc(t){return Hb(t)}function Hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ba(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hb(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Hb(n.fields[a])}`;return s+"}"}(t.mapValue):_e(61005,{value:t})}function Nm(t){switch($a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pg(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Nm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xa(r.fields,(i,a)=>{s+=i.length+Nm(a)}),s}(t.mapValue);default:throw _e(13486,{value:t})}}function RA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qb(t){return!!t&&"integerValue"in t}function bE(t){return!!t&&"arrayValue"in t}function DA(t){return!!t&&"nullValue"in t}function NA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}function m$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GM])==null?void 0:r.stringValue)===WM}function Td(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return{...t}}function p$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=Cn.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=Td(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Im(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ir(Td(this.value))}}function YM(t){const e=[];return Xa(t.fields,(n,r)=>{const s=new Cn([n]);if(Im(r)){const i=YM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Vn(e,0,Ie.min(),Ie.min(),Ie.min(),ir.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,Ie.min(),Ie.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,Ie.min(),Ie.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.position=e,this.inclusive=n}}function IA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ve.comparator(ve.fromName(a.referenceValue),n.key):r=Vc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function MA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function g$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class tn extends KM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v$(e,n,r):n==="array-contains"?new x$(e,r):n==="in"?new E$(e,r):n==="not-in"?new S$(e,r):n==="array-contains-any"?new T$(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b$(e,r):new w$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vc(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(Vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends KM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return QM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QM(t){return t.op==="and"}function XM(t){return y$(t)&&QM(t)}function y$(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function Gb(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Uc(t.value);if(XM(t))return t.filters.map(e=>Gb(e)).join(",");{const e=t.filters.map(n=>Gb(n)).join(",");return`${t.op}(${e})`}}function ZM(t,e){return t instanceof tn?function(r,s){return s instanceof tn&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(t,e):t instanceof ss?function(r,s){return s instanceof ss&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&ZM(a,s.filters[o]),!0):!1}(t,e):void _e(19439)}function JM(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${Uc(n.value)}`}(t):t instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(JM).join(" ,")+"}"}(t):"Filter"}class v$ extends tn{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class b$ extends tn{constructor(e,n){super(e,"in",n),this.keys=eP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w$ extends tn{constructor(e,n){super(e,"not-in",n),this.keys=eP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class x$ extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bE(n)&&lf(n.arrayValue,this.value)}}class E$ extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lf(this.value.arrayValue,n)}}class S$ extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lf(this.value.arrayValue,n)}}class T$ extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function PA(t,e=null,n=[],r=[],s=null,i=null,a=null){return new _$(t,e,n,r,s,i,a)}function wE(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uc(r)).join(",")),e.Te=n}return e.Te}function xE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MA(t.startAt,e.startAt)&&MA(t.endAt,e.endAt)}function Wb(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A$(t,e,n,r,s,i,a,o){return new hu(t,e,n,r,s,i,a,o)}function Og(t){return new hu(t)}function OA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tP(t){return t.collectionGroup!==null}function _d(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new dn(Cn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cf(i,r))}),n.has(Cn.keyField().canonicalString())||e.Ie.push(new cf(Cn.keyField(),r))}return e.Ie}function As(t){const e=Pe(t);return e.Ee||(e.Ee=k$(e,_d(t))),e.Ee}function k$(t,e){if(t.limitType==="F")return PA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cf(s.field,i)});const n=t.endAt?new Np(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Np(t.startAt.position,t.startAt.inclusive):null;return PA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yb(t,e){const n=t.filters.concat([e]);return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kb(t,e,n){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jg(t,e){return xE(As(t),As(e))&&t.limitType===e.limitType}function nP(t){return`${wE(As(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>JM(s)).join(", ")}]`),Mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Uc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Uc(s)).join(",")),`Target(${r})`}(As(t))}; limitType=${t.limitType})`}function Lg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ve.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _d(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const c=IA(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,_d(r),s)||r.endAt&&!function(a,o,l){const c=IA(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,_d(r),s))}(t,e)}function C$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rP(t){return(e,n)=>{let r=!1;for(const s of _d(t)){const i=R$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R$(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(i,a,o){const l=a.data.field(i),c=o.data.field(i);return l!==null&&c!==null?Vc(l,c):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return FM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new Ft(ve.comparator);function Ri(){return D$}const sP=new Ft(ve.comparator);function ed(...t){let e=sP;for(const n of t)e=e.insert(n.key,n);return e}function iP(t){let e=sP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return Ad()}function aP(){return Ad()}function Ad(){return new ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const N$=new Ft(ve.comparator),I$=new dn(ve.comparator);function We(...t){let e=I$;for(const n of t)e=e.add(n);return e}const M$=new dn(Ge);function P$(){return M$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function oP(t){return{integerValue:""+t}}function O$(t,e){return l$(e)?oP(e):EE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this._=void 0}}function j$(t,e,n){return t instanceof uf?function(s,i){const a={fields:{[$M]:{stringValue:zM},[qM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vE(i)&&(i=Pg(i)),i&&(a.fields[HM]=i),{mapValue:a}}(n,e):t instanceof df?cP(t,e):t instanceof ff?uP(t,e):function(s,i){const a=lP(s,i),o=jA(a)+jA(s.Ae);return qb(a)&&qb(s.Ae)?oP(o):EE(s.serializer,o)}(t,e)}function L$(t,e,n){return t instanceof df?cP(t,e):t instanceof ff?uP(t,e):n}function lP(t,e){return t instanceof Ip?function(r){return qb(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uf extends Vg{}class df extends Vg{constructor(e){super(),this.elements=e}}function cP(t,e){const n=dP(e);for(const r of t.elements)n.some(s=>Os(s,r))||n.push(r);return{arrayValue:{values:n}}}class ff extends Vg{constructor(e){super(),this.elements=e}}function uP(t,e){let n=dP(e);for(const r of t.elements)n=n.filter(s=>!Os(s,r));return{arrayValue:{values:n}}}class Ip extends Vg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jA(t){return Xt(t.integerValue||t.doubleValue)}function dP(t){return bE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.field=e,this.transform=n}}function U$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof df&&s instanceof df||r instanceof ff&&s instanceof ff?Lc(r.elements,s.elements,Os):r instanceof Ip&&s instanceof Ip?Os(r.Ae,s.Ae):r instanceof uf&&s instanceof uf}(t.transform,e.transform)}class F${constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ug{}function fP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,Xn.none()):new Kf(t.key,t.data,Xn.none());{const n=t.data,r=ir.empty();let s=new dn(Cn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Za(t.key,r,new yr(s.toArray()),Xn.none())}}function B$(t,e,n){t instanceof Kf?function(s,i,a){const o=s.value.clone(),l=VA(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(s,i,a){if(!Mm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=VA(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(hP(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kd(t,e,n,r){return t instanceof Kf?function(i,a,o,l){if(!Mm(i.precondition,a))return o;const c=i.value.clone(),u=UA(i.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(i,a,o,l){if(!Mm(i.precondition,a))return o;const c=UA(i.fieldTransforms,l,a),u=a.data;return u.setAll(hP(i)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,a,o){return Mm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function z$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=lP(r.transform,s||null);i!=null&&(n===null&&(n=ir.empty()),n.set(r.field,i))}return n||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lc(r,s,(i,a)=>U$(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kf extends Ug{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Ug{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VA(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,L$(a,o,n[s]))}return r}function UA(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,j$(i,a,e))}return r}class Fg extends Ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $$ extends Ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&B$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aP();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const l=fP(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(n,r)=>LA(n,r))&&Lc(this.baseMutations,e.baseMutations,(n,r)=>LA(n,r))}}class SE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return N$}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new SE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Ze;function W$(t){switch(t){case q.OK:return _e(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function mP(t){if(t===void 0)return Ci("GRPC error has no .code"),q.UNKNOWN;switch(t){case Jt.OK:return q.OK;case Jt.CANCELLED:return q.CANCELLED;case Jt.UNKNOWN:return q.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return q.INTERNAL;case Jt.UNAVAILABLE:return q.UNAVAILABLE;case Jt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Jt.NOT_FOUND:return q.NOT_FOUND;case Jt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Jt.ABORTED:return q.ABORTED;case Jt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Jt.DATA_LOSS:return q.DATA_LOSS;default:return _e(39323,{code:t})}}(Ze=Jt||(Jt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new Da([4294967295,4294967295],0);function FA(t){const e=Y$().encode(t),n=new RM;return n.update(e),new Uint8Array(n.digest())}function BA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Da([n,r],0),new Da([s,i],0)]}class TE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Da.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Da.fromNumber(r)));return s.compare(K$)===1&&(s=new Da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FA(e),[r,s]=BA(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new TE(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=FA(e),[r,s]=BA(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bg(Ie.min(),s,new Ft(Ge),Ri(),We())}}class Qf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qf(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class pP{constructor(e,n){this.targetId=e,this.Ce=n}}class gP{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zA{constructor(){this.ve=0,this.Fe=$A(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e(38017,{changeType:i})}}),new Qf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$A()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q${constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=em(),this.He=em(),this.Ye=new Ft(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Wb(i))if(r===0){const a=new ve(i.path);this.et(n,a,Vn.newNoDocument(a,Ie.min()))}else ot(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=za(r).toUint8Array()}catch(l){if(l instanceof BM)return jc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new TE(a,s,i)}catch(l){return jc(l instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const o=this.ot(a);if(o){if(i.current&&Wb(o.target)){const l=new ve(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Vn.newNoDocument(l,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=We();this.He.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Bg(e,n,this.Ye,this.je,r);return this.je=Ri(),this.Je=em(),this.He=em(),this.Ye=new Ft(Ge),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function em(){return new Ft(ve.comparator)}function $A(){return new Ft(ve.comparator)}const X$={asc:"ASCENDING",desc:"DESCENDING"},Z$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J$={and:"AND",or:"OR"};class eH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qb(t,e){return t.useProto3Json||Mg(e)?e:{value:e}}function Mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tH(t,e){return Mp(t,e.toTimestamp())}function ks(t){return ot(!!t,49232),Ie.fromTimestamp(function(n){const r=Ba(n);return new at(r.seconds,r.nanos)}(t))}function _E(t,e){return Xb(t,e).canonicalString()}function Xb(t,e){const n=function(s){return new At(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vP(t){const e=At.fromString(t);return ot(SP(e),10190,{key:e.toString()}),e}function Zb(t,e){return _E(t.databaseId,e.path)}function R0(t,e){const n=vP(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(wP(n))}function bP(t,e){return _E(t.databaseId,e)}function nH(t){const e=vP(t);return e.length===4?At.emptyPath():wP(e)}function Jb(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wP(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HA(t,e,n){return{name:Zb(t,e),fields:n.value.mapValue.fields}}function rH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ot(u===void 0||typeof u=="string",58123),Dn.fromBase64String(u||"")):(ot(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Dn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?q.UNKNOWN:mP(c.code);return new ee(u,c.message||"")}(a);n=new gP(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=R0(t,r.document.name),i=ks(r.document.updateTime),a=r.document.createTime?ks(r.document.createTime):Ie.min(),o=new ir({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Pm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=R0(t,r.document),i=r.readTime?ks(r.readTime):Ie.min(),a=Vn.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Pm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=R0(t,r.document),i=r.removedTargetIds||[];n=new Pm([],i,s,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new G$(s,i),o=r.targetId;n=new pP(o,a)}}return n}function sH(t,e){let n;if(e instanceof Kf)n={update:HA(t,e.key,e.value)};else if(e instanceof Fg)n={delete:Zb(t,e.key)};else if(e instanceof Za)n={update:HA(t,e.key,e.data),updateMask:hH(e.fieldMask)};else{if(!(e instanceof $$))return _e(16599,{Vt:e.type});n={verify:Zb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof uf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof df)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ff)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ip)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw _e(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e(27497)}(t,e.precondition)),n}function iH(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?ks(s.updateTime):ks(i);return a.isEqual(Ie.min())&&(a=ks(i)),new F$(a,s.transformResults||[])}(n,e))):[]}function aH(t,e){return{documents:[bP(t,e.path)]}}function oH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bP(t,s);const i=function(c){if(c.length!==0)return EP(ss.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Cl(h.field),direction:uH(h.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Qb(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function lH(t){let e=nH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ot(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=xP(d);return h instanceof ss&&XM(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(S){return new cf(Rl(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Mg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Np(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Np(p,h)}(n.endAt)),A$(e,s,a,i,o,"F",l,c)}function cH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Rl(n.unaryFilter.field);return tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rl(n.unaryFilter.field);return tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rl(n.unaryFilter.field);return tn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return tn.create(Rl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ss.create(n.compositeFilter.filters.map(r=>xP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function uH(t){return X$[t]}function dH(t){return Z$[t]}function fH(t){return J$[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function Rl(t){return Cn.fromServerFormat(t.fieldPath)}function EP(t){return t instanceof tn?function(n){if(n.op==="=="){if(NA(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(DA(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NA(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(DA(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:dH(n.op),value:n.value}}}(t):t instanceof ss?function(n){const r=n.getFilters().map(s=>EP(s));return r.length===1?r[0]:{compositeFilter:{op:fH(n.op),filters:r}}}(t):_e(54877,{filter:t})}function hH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r,s,i=Ie.min(),a=Ie.min(),o=Dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.yt=e}}function pH(t){const e=lH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.Cn=new yH}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Fa.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class yH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dn(At.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TP=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(TP,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fc(0)}static cr(){return new Fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="LruGarbageCollector",_P=1048576;function WA([t,e],[n,r]){const s=Ge(t,n);return s===0?Ge(e,r):s}class vH{constructor(e){this.Ir=e,this.buffer=new dn(WA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(GA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?ie(GA,"Ignoring IndexedDB error during garbage collection: ",n):await du(n)}await this.Vr(3e5)})}}class wH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ig.ce);const r=new vH(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(qA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,a=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Al()<=qe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function xH(t,e){return new wH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.changes=new ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kd(r.mutation,s,yr.empty(),at.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=To();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=ed();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,s){let i=Ri();const a=Ad(),o=function(){return Ad()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Za)?i=i.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),kd(u.mutation,c,u.mutation.getFieldMask(),at.now())):a.set(c.key,yr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>o.set(c,new SH(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Ad();let s=new Ft((a,o)=>a-o),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||yr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(s.get(o.batchId)||We()).add(l);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=aP();u.forEach(h=>{if(!i.has(h)){const p=fP(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return W.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(To());let o=rf,l=i;return a.next(c=>W.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?W.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,We())).next(u=>({batchId:o,changes:iP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let s=ed();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=ed();return this.indexManager.getCollectionParents(e,i).next(o=>W.forEach(o,l=>{const c=function(d,h){return new hu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Vn.newInvalidDocument(u)))});let o=ed();return a.forEach((l,c)=>{const u=i.get(l);u!==void 0&&kd(u.mutation,c,yr.empty(),at.now()),Lg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ks(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:pH(s.bundledQuery),readTime:ks(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this.overlays=new Ft(ve.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=To();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=To(),i=n.length+1,a=new ve(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ft((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=To(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=To(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=s)););return W.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new q$(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.Qr=new dn(vn.$r),this.Ur=new dn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ve(new At([])),r=new vn(n,e),s=new vn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new At([])),r=new vn(n,e),s=new vn(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(vn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new H$(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new vn(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return W.resolve(a)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?yE:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const o=this.Xr(a.Yr);i.push(o)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Ge);return n.forEach(s=>{const i=new vn(s,0),a=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],o=>{r=r.add(o.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ve.isDocumentKey(i)||(i=i.child(""));const a=new vn(new ve(i),0);let o=new dn(Ge);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Yr)),!0)},a),W.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,s=>{const i=new vn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vn(n,0),s=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.ri=e,this.docs=function(){return new Ft(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Ri();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ri();const a=n.path,o=new ve(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||s$(r$(u),r)<=0||(s.has(u.key)||Lg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DH(this)}getSize(e){return W.resolve(this.size)}}class DH extends EH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.persistence=e,this.si=new ll(n=>wE(n),xE),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new AE,this.targetCount=0,this.ai=Fc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ig(0),this.li=!1,this.li=!0,this.hi=new kH,this.referenceDelegate=e(this),this.Pi=new NH(this),this.indexManager=new gH,this.remoteDocumentCache=function(s){return new RH(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new mH(n),this.Ii=new _H(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new CH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const s=new IH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class IH extends a${constructor(e){super(),this.currentSequenceNumber=e}}class kE{constructor(e){this.persistence=e,this.Ri=new AE,this.Vi=null}static mi(e){return new kE(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const s=ve.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pp{constructor(e,n){this.persistence=e,this.pi=new ll(r=>c$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=xH(this,n)}static mi(e,n){return new Pp(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,i.removeEntry(a,Ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new CE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return k8()?8:o$($n())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new MH;return this.Ss(e,n,a).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Al()<=qe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Al()<=qe.DEBUG&&ie("QueryEngine","Query:",kl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Al()<=qe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):W.resolve())}ys(e,n){if(OA(n))return W.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kb(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=We(...i);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,Kb(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return OA(n)||s.isEqual(Ie.min())?W.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?W.resolve(null):(Al()<=qe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kl(n)),this.vs(e,a,n,n$(s,rf)).next(o=>o))})}Ds(e,n){let r=new dn(rP(e));return n.forEach((s,i)=>{Lg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Al()<=qe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LocalStore",OH=3e8;class jH{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ft(Ge),this.xs=new ll(i=>wE(i),xE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LH(t,e,n,r){return new jH(t,e,n,r)}async function kP(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=We();for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function VH(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=W.resolve();return h.forEach(S=>{p=p.next(()=>u.getEntry(l,S)).next(b=>{const T=c.docVersions.get(S);ot(T!==null,48541),b.version.compareTo(T)<0&&(d.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=We();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CP(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function UH(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;o.push(n.Pi.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(b,T,v){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=OH?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.Pi.updateTargetData(i,p))});let l=Ri(),c=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(FH(i,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Ie.min())){const u=n.Pi.getLastRemoteSnapshotVersion(i).next(d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(u)}return W.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function FH(t,e,n){let r=We(),s=We();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ri();return n.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ie(RE,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:s}})}function BH(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zH(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new ya(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ew(t,e,n){const r=Pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!fu(a))throw a;ie(RE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function YA(t,e,n){const r=Pe(t);let s=Ie.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=Pe(l),h=d.xs.get(u);return h!==void 0?W.resolve(d.Ms.get(h)):d.Pi.getTargetData(c,u)}(r,a,As(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ie.min(),n?i:We())).next(o=>($H(r,C$(e),o),{documents:o,Qs:i})))}function $H(t,e,n){let r=t.Os.get(e)||Ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class KA{constructor(){this.activeTargetIds=P$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HH{constructor(){this.Mo=new KA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="ConnectivityMonitor";class XA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(QA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(QA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm=null;function tw(){return tm===null?tm=function(){return 268435456+Math.round(2147483648*Math.random())}():tm++,"0x"+tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="RestConnection",GH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=tw(),o=this.zo(e,n.toUriEncodedString());ie(D0,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(o),u=ol(c);return this.Jo(e,o,l,r,u).then(d=>(ie(D0,`Received RPC '${e}' ${a}: `,d),d),d=>{throw jc(D0,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",r),d})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=GH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class KH extends WH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=tw();return new Promise((o,l)=>{const c=new DM;c.setWithCredentials(!0),c.listenOnce(NM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Dm.NO_ERROR:const d=c.getResponseJson();ie(Mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Dm.TIMEOUT:ie(Mn,`RPC '${e}' ${a} timed out`),l(new ee(q.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const h=c.getStatus();if(ie(Mn,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const b=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(g)>=0?g:q.UNKNOWN}(S.status);l(new ee(b,S.message))}else l(new ee(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee(q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ie(Mn,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(s);ie(Mn,`RPC '${e}' ${a} sending request:`,s),c.send(n,"POST",u,r,15)})}T_(e,n,r){const s=tw(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=PM(),o=MM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ie(Mn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=a.createWebChannel(u,l);this.I_(d);let h=!1,p=!1;const S=new YH({Yo:T=>{p?ie(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(h||(ie(Mn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),ie(Mn,`RPC '${e}' stream ${s} sending:`,T),d.send(T))},Zo:()=>d.close()}),b=(T,v,g)=>{T.listen(v,x=>{try{g(x)}catch(D){setTimeout(()=>{throw D},0)}})};return b(d,Ju.EventType.OPEN,()=>{p||(ie(Mn,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),b(d,Ju.EventType.CLOSE,()=>{p||(p=!0,ie(Mn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(d))}),b(d,Ju.EventType.ERROR,T=>{p||(p=!0,jc(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new ee(q.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ju.EventType.MESSAGE,T=>{var v;if(!p){const g=T.data[0];ot(!!g,16349);const x=g,D=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(D){ie(Mn,`RPC '${e}' stream ${s} received error:`,D);const C=D.status;let P=function(_){const R=Jt[_];if(R!==void 0)return mP(R)}(C),A=D.message;P===void 0&&(P=q.INTERNAL,A="Unknown error status: "+C+" with message "+D.message),p=!0,S.a_(new ee(P,A)),d.close()}else ie(Mn,`RPC '${e}' stream ${s} received:`,g),S.u_(g)}}),b(o,IM.STAT_EVENT,T=>{T.stat===zb.PROXY?ie(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===zb.NOPROXY&&ie(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function N0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return new eH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="PersistentStream";class DP{constructor(e,n,r,s,i,a,o,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ee(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(ZA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ie(ZA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QH extends DP{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rH(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ie.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ie.min():a.readTime?ks(a.readTime):Ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Jb(this.serializer),n.addTarget=function(i,a){let o;const l=a.target;if(o=Wb(l)?{documents:aH(i,l)}:{query:oH(i,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=yP(i,a.resumeToken);const c=Qb(i,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Ie.min())>0){o.readTime=Mp(i,a.snapshotVersion.toTimestamp());const c=Qb(i,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=cH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Jb(this.serializer),n.removeTarget=e,this.q_(n)}}class XH extends DP{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iH(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Jb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sH(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{}class JH extends ZH{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Xb(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(q.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Xb(n,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(q.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="RemoteStore";class tq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{cl(this)&&(ie(el,"Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.Ea.add(4),await Xf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await $g(c)}(this))})}),this.Ra=new eq(r,s)}}async function $g(t){if(cl(t))for(const e of t.da)await e(!0)}async function Xf(t){for(const e of t.da)await e(!1)}function NP(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ME(n)?IE(n):mu(n).O_()&&NE(n,e))}function DE(t,e){const n=Pe(t),r=mu(n);n.Ia.delete(e),r.O_()&&IP(n,e),n.Ia.size===0&&(r.O_()?r.L_():cl(n)&&n.Ra.set("Unknown"))}function NE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).Y_(e)}function IP(t,e){t.Va.Ue(e),mu(t).Z_(e)}function IE(t){t.Va=new Q$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.Ra.ua()}function ME(t){return cl(t)&&!mu(t).x_()&&t.Ia.size>0}function cl(t){return Pe(t).Ea.size===0}function MP(t){t.Va=void 0}async function nq(t){t.Ra.set("Online")}async function rq(t){t.Ia.forEach((e,n)=>{NE(t,e)})}async function sq(t,e){MP(t),ME(t)?(t.Ra.ha(e),IE(t)):t.Ra.set("Unknown")}async function iq(t,e,n){if(t.Ra.set("Online"),e instanceof gP&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))}(t,e)}catch(r){ie(el,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(t,r)}else if(e instanceof Pm?t.Va.Ze(e):e instanceof pP?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const r=await CP(t.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(Dn.EMPTY_BYTE_STRING,u.snapshotVersion)),IP(i,l);const d=new ya(u.target,l,c,u.sequenceNumber);NE(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ie(el,"Failed to raise snapshot:",r),await Op(t,r)}}async function Op(t,e,n){if(!fu(e))throw e;t.Ea.add(1),await Xf(t),t.Ra.set("Offline"),n||(n=()=>CP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(el,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $g(t)})}function PP(t,e){return e().catch(n=>Op(t,n,e))}async function Hg(t){const e=Pe(t),n=Ha(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yE;for(;aq(e);)try{const s=await BH(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,oq(e,s)}catch(s){await Op(e,s)}OP(e)&&jP(e)}function aq(t){return cl(t)&&t.Ta.length<10}function oq(t,e){t.Ta.push(e);const n=Ha(t);n.O_()&&n.X_&&n.ea(e.mutations)}function OP(t){return cl(t)&&!Ha(t).x_()&&t.Ta.length>0}function jP(t){Ha(t).start()}async function lq(t){Ha(t).ra()}async function cq(t){const e=Ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function uq(t,e,n){const r=t.Ta.shift(),s=SE.from(r,e,n);await PP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hg(t)}async function dq(t,e){e&&Ha(t).X_&&await async function(r,s){if(function(a){return W$(a)&&a!==q.ABORTED}(s.code)){const i=r.Ta.shift();Ha(r).B_(),await PP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Hg(r)}}(t,e),OP(t)&&jP(t)}async function JA(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ie(el,"RemoteStore received new credentials");const r=cl(n);n.Ea.add(3),await Xf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $g(n)}async function fq(t,e){const n=Pe(t);e?(n.Ea.delete(2),await $g(n)):e||(n.Ea.add(2),await Xf(n),n.Ra.set("Unknown"))}function mu(t){return t.ma||(t.ma=function(n,r,s){const i=Pe(n);return i.sa(),new QH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:nq.bind(null,t),t_:rq.bind(null,t),r_:sq.bind(null,t),H_:iq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ME(t)?IE(t):t.Ra.set("Unknown")):(await t.ma.stop(),MP(t))})),t.ma}function Ha(t){return t.fa||(t.fa=function(n,r,s){const i=Pe(n);return i.sa(),new XH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lq.bind(null,t),r_:dq.bind(null,t),ta:cq.bind(null,t),na:uq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Hg(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(el,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new PE(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OE(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),fu(t))return new ee(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.ga=new Ft(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bc{constructor(e,n,r,s,i,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Bc(e,n,oc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mq{constructor(){this.queries=tk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=tk(),i.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new ee(q.ABORTED,"Firestore shutting down"))}}function tk(){return new ll(t=>nP(t),jg)}async function jE(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new hq,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=OE(a,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&VE(n)}async function LE(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pq(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.Sa)o.Fa(s)&&(r=!0);a.wa=s}}r&&VE(n)}function gq(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function VE(t){t.Ca.forEach(e=>{e.next()})}var nw,nk;(nk=nw||(nw={})).Ma="default",nk.Cache="cache";class UE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.key=e}}class VP{constructor(e){this.key=e}}class yq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=rP(e),this.tu=new oc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ek,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=Lg(this.query,d)?d:null,S=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;h&&p?h.data.isEqual(p.data)?S!==b&&(r.track({type:3,doc:p}),T=!0):this.su(h,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),T=!0):h&&!p&&(r.track({type:1,doc:h}),T=!0,(l||c)&&(o=!0)),T&&(p?(a=a.add(p),i=b?i.add(u):i.delete(u)):(a=a.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,d)=>function(p,S){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:T})}};return b(p)-b(S)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Bc(this.query,e.tu,i,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ek,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new VP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new LP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const FE="SyncEngine";class vq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bq{constructor(e){this.key=e,this.hu=!1}}class wq{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ll(o=>nP(o),jg),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(ve.comparator),this.Au=new Map,this.Ru=new AE,this.Vu={},this.mu=new Map,this.fu=Fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xq(t,e,n=!0){const r=HP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await UP(r,e,n,!0),s}async function Eq(t,e){const n=HP(t);await UP(n,e,!0,!1)}async function UP(t,e,n,r){const s=await zH(t.localStore,As(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Sq(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&NP(t.remoteStore,s),o}async function Sq(t,e,n,r,s){t.pu=(d,h,p)=>async function(b,T,v,g){let x=T.view.ru(v);x.Cs&&(x=await YA(b.localStore,T.query,!1).then(({documents:A})=>T.view.ru(A,x)));const D=g&&g.targetChanges.get(T.targetId),C=g&&g.targetMismatches.get(T.targetId)!=null,P=T.view.applyChanges(x,b.isPrimaryClient,D,C);return sk(b,T.targetId,P.au),P.snapshot}(t,d,h,p);const i=await YA(t.localStore,e,!0),a=new yq(e,i.Qs),o=a.ru(i.documents),l=Qf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=a.applyChanges(o,t.isPrimaryClient,l);sk(t,n,c.au);const u=new vq(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Tq(t,e,n){const r=Pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!jg(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ew(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&DE(r.remoteStore,s.targetId),rw(r,s.targetId)}).catch(du)):(rw(r,s.targetId),await ew(r.localStore,s.targetId,!0))}async function _q(t,e){const n=Pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),DE(n.remoteStore,r.targetId))}async function Aq(t,e,n){const r=Mq(t);try{const s=await function(a,o){const l=Pe(a),c=at.now(),u=o.reduce((p,S)=>p.add(S.key),We());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=Ri(),b=We();return l.Ns.getEntries(p,u).next(T=>{S=T,S.forEach((v,g)=>{g.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(T=>{d=T;const v=[];for(const g of o){const x=z$(g,d.get(g.key).overlayedDocument);x!=null&&v.push(new Za(g.key,x,YM(x.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(T=>{h=T;const v=T.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(p,T.batchId,v)})}).then(()=>({batchId:h.batchId,changes:iP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ft(Ge)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(r,s.batchId,n),await Zf(r,s.changes),await Hg(r.remoteStore)}catch(s){const i=OE(s,"Failed to persist write");n.reject(i)}}async function FP(t,e){const n=Pe(t);try{const r=await UH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ot(a.hu,14607):s.removedDocuments.size>0&&(ot(a.hu,42227),a.hu=!1))}),await Zf(n,r,e)}catch(r){await du(r)}}function rk(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Pe(a);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Sa)h.va(o)&&(c=!0)}),c&&VE(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kq(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Ft(ve.comparator);a=a.insert(i,Vn.newNoDocument(i,Ie.min()));const o=We().add(i),l=new Bg(Ie.min(),new Map,new Ft(Ge),a,o);await FP(r,l),r.du=r.du.remove(i),r.Au.delete(e),BE(r)}else await ew(r.localStore,e,!1).then(()=>rw(r,e,n)).catch(du)}async function Cq(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await VH(n.localStore,e);zP(n,r,null),BP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zf(n,s)}catch(s){await du(s)}}async function Rq(t,e,n){const r=Pe(t);try{const s=await function(a,o){const l=Pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(ot(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);zP(r,e,n),BP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zf(r,s)}catch(s){await du(s)}}function BP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function zP(t,e,n){const r=Pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function rw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||$P(t,r)})}function $P(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(DE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),BE(t))}function sk(t,e,n){for(const r of n)r instanceof LP?(t.Ru.addReference(r.key,e),Dq(t,r)):r instanceof VP?(ie(FE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$P(t,r.key)):_e(19791,{wu:r})}function Dq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ie(FE,"New document in limbo: "+n),t.Eu.add(r),BE(t))}function BE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(At.fromString(e)),r=t.fu.next();t.Au.set(r,new bq(n)),t.du=t.du.insert(n,r),NP(t.remoteStore,new ya(As(Og(n.path)),r,"TargetPurposeLimboResolution",Ig.ce))}}async function Zf(t,e,n){const r=Pe(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=CE.As(l.targetId,c);i.push(d)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(l,c){const u=Pe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(c,h=>W.forEach(h.Es,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>W.forEach(h.ds,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!fu(d))throw d;ie(RE,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ms.get(h),S=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(S);u.Ms=u.Ms.insert(h,b)}}}(r.localStore,i))}async function Nq(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ie(FE,"User change. New user:",e.toKey());const r=await kP(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new ee(q.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zf(n,r.Ls)}}function Iq(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function HP(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kq.bind(null,e),e.Pu.H_=pq.bind(null,e.eventManager),e.Pu.yu=gq.bind(null,e.eventManager),e}function Mq(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rq.bind(null,e),e}class jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LH(this.persistence,new PH,e.initialUser,this.serializer)}Cu(e){return new AP(kE.mi,this.serializer)}Du(e){return new HH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jp.provider={build:()=>new jp};class Pq extends jp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Pp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new AP(r=>Pp.mi(r,n),this.serializer)}}class sw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nq.bind(null,this.syncEngine),await fq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mq}()}createDatastore(e){const n=zg(e.databaseInfo.databaseId),r=function(i){return new KH(i)}(e.databaseInfo);return function(i,a,o,l){return new JH(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,o){return new tq(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>rk(this.syncEngine,n,0),function(){return XA.v()?new XA:new qH}())}createSyncEngine(e,n){return function(s,i,a,o,l,c,u){const d=new wq(s,i,a,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);ie(el,"RemoteStore shutting down."),i.Ea.add(5),await Xf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}sw.provider={build:()=>new sw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class Oq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ie(qa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ie(qa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function I0(t,e){t.asyncQueue.verifyOperationInProgress(),ie(qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ik(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jq(t);ie(qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>JA(e.remoteStore,s)),t._onlineComponents=e}async function jq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(qa,"Using user provided OfflineComponentProvider");try{await I0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;jc("Error using user provided cache. Falling back to memory cache: "+n),await I0(t,new jp)}}else ie(qa,"Using default OfflineComponentProvider"),await I0(t,new Pq(void 0));return t._offlineComponents}async function qP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(qa,"Using user provided OnlineComponentProvider"),await ik(t,t._uninitializedComponentsProvider._online)):(ie(qa,"Using default OnlineComponentProvider"),await ik(t,new sw))),t._onlineComponents}function Lq(t){return qP(t).then(e=>e.syncEngine)}async function Lp(t){const e=await qP(t),n=e.eventManager;return n.onListen=xq.bind(null,e.syncEngine),n.onUnlisten=Tq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Eq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_q.bind(null,e.syncEngine),n}function Vq(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const u=new zE({next:h=>{u.Nu(),a.enqueueAndForget(()=>LE(i,d));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new ee(q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new UE(Og(o.path),u,{includeMetadataChanges:!0,qa:!0});return jE(i,d)}(await Lp(t),t.asyncQueue,e,n,r)),r.promise}function Uq(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const u=new zE({next:h=>{u.Nu(),a.enqueueAndForget(()=>LE(i,d)),h.fromCache&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new UE(o,u,{includeMetadataChanges:!0,qa:!0});return jE(i,d)}(await Lp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="firestore.googleapis.com",ok=!0;class lk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WP,this.ssl=ok}else this.host=e.host,this.ssl=e.ssl??ok;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q7;switch(r.type){case"firstParty":return new K7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ak.get(n);r&&(ie("ComponentProvider","Removing Datastore"),ak.delete(n),r.terminate())}(this),Promise.resolve()}}function Fq(t,e,n,r={}){var c;t=Qn(t,qg);const s=ol(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(fE(`https://${o}`),EM("Firestore",!0)),i.host!==WP&&i.host!==o&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:r};if(!Ua(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=jn.MOCK_USER;else{u=v8(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jn(h)}t._authCredentials=new G7(new jM(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yf(n,Gt._jsonSchema))return new Gt(e,r||null,new ve(At.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:nn("string",Gt._jsonSchemaVersion),referencePath:nn("string")};class Na extends Ja{constructor(e,n,r){super(e,n,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ve(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function ql(t,e,...n){if(t=Nt(t),LM("collection","path",e),t instanceof qg){const r=At.fromString(e,...n);return xA(r),new Na(t,null,r)}{if(!(t instanceof Gt||t instanceof Na))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return xA(r),new Na(t.firestore,null,r)}}function Tt(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=gE.newId()),LM("doc","path",e),t instanceof qg){const r=At.fromString(e,...n);return wA(r),new Gt(t,null,new ve(r))}{if(!(t instanceof Gt||t instanceof Na))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return wA(r),new Gt(t.firestore,t instanceof Na?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="AsyncQueue";class uk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RP(this,"async_queue_retry"),this._c=()=>{const r=N0();r&&ie(ck,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=N0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=N0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fu(e))throw e;ie(ck,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",dk(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=PE.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&_e(47125,{Pc:dk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class js extends qg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new uk,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uk(e),this._firestoreClient=void 0,await e}}}function Bq(t,e,n){n||(n=af);const r=Dg(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Ua(i,e))return s;throw new ee(q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ee(q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ol(e.host)&&fE(e.host),r.initialize({options:e,instanceIdentifier:n})}function zq(t,e){const n=typeof t=="object"?t:AM(),r=typeof t=="string"?t:af,s=Dg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=g8("firestore");i&&Fq(s,...i)}return s}function Jf(t){if(t._terminated)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$q(t),t._firestoreClient}function $q(t){var r,s,i;const e=t._freezeSettings(),n=function(o,l,c,u){return new f$(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GP(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Oq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(Dn.fromBase64String(e))}catch(n){throw new ee(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yf(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:nn("string",Ur._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(e){if(Yf(e,Cs._jsonSchema))return new Cs(e.latitude,e.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:nn("string",Cs._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yf(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rs(e.vectorValues);throw new ee(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:nn("string",Rs._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=/^__.*__$/;class qq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kf(e,this.data,n,this.fieldTransforms)}}class YP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class $E{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $E({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KP(this.Ac)&&Hq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zg(e)}Cc(e,n,r,s=!1){return new $E({Ac:e,methodName:n,Dc:r,path:Cn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function th(t){const e=t._freezeSettings(),n=zg(t._databaseId);return new Gq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HE(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);GE("Data must be an object, but it was:",a,r);const o=ZP(r,a);let l,c;if(i.merge)l=new yr(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=iw(e,d,n);if(!a.contains(h))throw new ee(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eO(u,h)||u.push(h)}l=new yr(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new qq(new ir(o),l,c)}class Wg extends Gg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wg}}class qE extends Gg{_toFieldTransform(e){return new V$(e.path,new uf)}isEqual(e){return e instanceof qE}}function QP(t,e,n,r){const s=t.Cc(1,e,n);GE("Data must be an object, but it was:",s,r);const i=[],a=ir.empty();Xa(r,(l,c)=>{const u=WE(e,l,n);c=Nt(c);const d=s.yc(u);if(c instanceof Wg)i.push(u);else{const h=nh(c,d);h!=null&&(i.push(u),a.set(u,h))}});const o=new yr(i);return new YP(a,o,s.fieldTransforms)}function XP(t,e,n,r,s,i){const a=t.Cc(1,e,n),o=[iw(e,r,n)],l=[s];if(i.length%2!=0)throw new ee(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(iw(e,i[h])),l.push(i[h+1]);const c=[],u=ir.empty();for(let h=o.length-1;h>=0;--h)if(!eO(c,o[h])){const p=o[h];let S=l[h];S=Nt(S);const b=a.yc(p);if(S instanceof Wg)c.push(p);else{const T=nh(S,b);T!=null&&(c.push(p),u.set(p,T))}}const d=new yr(c);return new YP(u,d,a.fieldTransforms)}function Wq(t,e,n,r=!1){return nh(n,t.Cc(r?4:3,e))}function nh(t,e){if(JP(t=Nt(t)))return GE("Unsupported field value:",e,t),ZP(t,e);if(t instanceof Gg)return function(r,s){if(!KP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=nh(o,s.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=at.fromDate(r);return{timestampValue:Mp(s.serializer,i)}}if(r instanceof at){const i=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mp(s.serializer,i)}}if(r instanceof Cs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:yP(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_E(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rs)return function(a,o){return{mapValue:{fields:{[GM]:{stringValue:WM},[Dp]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return EE(o.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ng(r)}`)}(t,e)}function ZP(t,e){const n={};return FM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(r,s)=>{const i=nh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function JP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Cs||t instanceof Ur||t instanceof Gt||t instanceof Gg||t instanceof Rs)}function GE(t,e,n){if(!JP(n)||!VM(n)){const r=Ng(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iw(t,e,n){if((e=Nt(e))instanceof eh)return e._internalPath;if(typeof e=="string")return WE(t,e);throw Vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yq=new RegExp("[~\\*/\\[\\]]");function WE(t,e,n){if(e.search(Yq)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vp(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new ee(q.INVALID_ARGUMENT,o+t+l)}function eO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kq extends tO{data(){return super.data()}}function Yg(t,e){return typeof e=="string"?WE(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YE{}class rO extends YE{}function M0(t,e,...n){let r=[];e instanceof YE&&r.push(e),r=r.concat(n),function(i){const a=i.filter(l=>l instanceof KE).length,o=i.filter(l=>l instanceof Kg).length;if(a>1||a>0&&o>0)throw new ee(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Kg extends rO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=this._parse(e);return sO(e._query,n),new Ja(e.firestore,e.converter,Yb(e._query,n))}_parse(e){const n=th(e.firestore);return function(i,a,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ee(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){mk(d,u);const S=[];for(const b of d)S.push(hk(l,i,b));h={arrayValue:{values:S}}}else h=hk(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||mk(d,u),h=Wq(o,a,d,u==="in"||u==="not-in");return tn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bu(t,e,n){const r=e,s=Yg("where",t);return Kg._create(s,r,n)}class KE extends YE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new KE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)sO(a,l),a=Yb(a,l)}(e._query,n),new Ja(e.firestore,e.converter,Yb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QE extends rO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QE(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cf(i,a)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new hu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function P0(t,e="asc"){const n=e,r=Yg("orderBy",t);return QE._create(r,n)}function hk(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ee(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tP(e)&&n.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!ve.isDocumentKey(r))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RA(t,new ve(r))}if(n instanceof Gt)return RA(t,n._key);throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ng(n)}.`)}function mk(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sO(t,e){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qq{convertValue(e,n="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Dp].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Xt(a.doubleValue));return new Rs(n)}convertGeoPoint(e){return new Cs(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ot(SP(r),9688,{name:e});const s=new of(r.get(1),r.get(3)),i=new ve(r.popFirst(5));return s.isEqual(n)||Ci(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends tO{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:nn("string",zo._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Om extends zo{data(e={}){return super.data(e)}}class $o{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Om(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Om(s._firestore,s._userDataWriter,o.doc.key,o.doc,new nd(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Om(s._firestore,s._userDataWriter,o.doc.key,o.doc,new nd(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Xq(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){t=Qn(t,Gt);const e=Qn(t.firestore,js);return Vq(Jf(e),t._key).then(n=>iO(e,t,n))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:nn("string",$o._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class ZE extends Qq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function pk(t){t=Qn(t,Ja);const e=Qn(t.firestore,js),n=Jf(e),r=new ZE(e);return nO(t._query),Uq(n,t._query).then(s=>new $o(e,r,t,s))}function Js(t,e,n){t=Qn(t,Gt);const r=Qn(t.firestore,js),s=XE(t.converter,e,n);return rh(r,[HE(th(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xn.none())])}function wo(t,e,n,...r){t=Qn(t,Gt);const s=Qn(t.firestore,js),i=th(s);let a;return a=typeof(e=Nt(e))=="string"||e instanceof eh?XP(i,"updateDoc",t._key,e,n,r):QP(i,"updateDoc",t._key,e),rh(s,[a.toMutation(t._key,Xn.exists(!0))])}function Zq(t){return rh(Qn(t.firestore,js),[new Fg(t._key,Xn.none())])}function Jq(t,e){const n=Qn(t.firestore,js),r=Tt(t),s=XE(t.converter,e);return rh(n,[HE(th(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Qg(t,...e){var l,c,u;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fk(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fk(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(u=d.complete)==null?void 0:u.bind(d)}let i,a,o;if(t instanceof Gt)a=Qn(t.firestore,js),o=Og(t._key.path),i={next:d=>{e[r]&&e[r](iO(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Qn(t,Ja);a=Qn(d.firestore,js),o=d._query;const h=new ZE(a);i={next:p=>{e[r]&&e[r](new $o(a,h,d,p))},error:e[r+1],complete:e[r+2]},nO(t._query)}return function(h,p,S,b){const T=new zE(b),v=new UE(p,T,S);return h.asyncQueue.enqueueAndForget(async()=>jE(await Lp(h),v)),()=>{T.Nu(),h.asyncQueue.enqueueAndForget(async()=>LE(await Lp(h),v))}}(Jf(a),o,s,i)}function rh(t,e){return function(r,s){const i=new yi;return r.asyncQueue.enqueueAndForget(async()=>Aq(await Lq(r),s,i)),i.promise}(Jf(t),e)}function iO(t,e,n){const r=n.docs.get(e._key),s=new ZE(t);return new zo(t,s,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=th(e)}set(e,n,r){this._verifyNotCommitted();const s=O0(e,this._firestore),i=XE(s.converter,n,r),a=HE(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,Xn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=O0(e,this._firestore);let a;return a=typeof(n=Nt(n))=="string"||n instanceof eh?XP(this._dataReader,"WriteBatch.update",i._key,n,r,s):QP(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=O0(e,this._firestore);return this._mutations=this._mutations.concat(new Fg(n._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function O0(t,e){if((t=Nt(t)).firestore!==e)throw new ee(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Kt(){return new qE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){return Jf(t=Qn(t,js)),new eG(t,e=>rh(t,e))}(function(e,n=!0){(function(s){uu=s})(cu),Oc(new Zo("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new js(new W7(r.getProvider("auth-internal")),new Q7(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(c.options.projectId,u)}(a,s),a);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ra(gA,yA,e),Ra(gA,yA,"esm2020")})();var tG="firebase",nG="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(tG,nG,"app");function aO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=aO,lO=new Gf("auth","Firebase",aO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new hE("@firebase/auth");function rG(t,...e){Up.logLevel<=qe.WARN&&Up.warn(`Auth (${cu}): ${t}`,...e)}function jm(t,...e){Up.logLevel<=qe.ERROR&&Up.error(`Auth (${cu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw tS(t,...e)}function Jr(t,...e){return tS(t,...e)}function JE(t,e,n){const r={...oO(),[e]:n};return new Gf("auth","Firebase",r).create(e,{appName:t.name})}function Ds(t){return JE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eS(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(t,"argument-error"),JE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lO.create(t,...e)}function Te(t,e,...n){if(!t)throw tS(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function Di(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function sG(){return yk()==="http:"||yk()==="https:"}function yk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sG()||T8()||"connection"in navigator)?navigator.onLine:!0}function aG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=x8()||_8()}get(){return iG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cG=new sh(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ji(t,e,n,r,s={}){return uO(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=Wf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return S8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ol(t.emulatorConfig.host)&&(c.credentials="include"),cO.fetch()(await dO(t,t.config.apiHost,n,o),c)})}async function uO(t,e,n){t._canInitEmulator=!1;const r={...oG,...e};try{const s=new dG(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw nm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw nm(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw nm(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JE(t,u,c);$r(t,u)}}catch(s){if(s instanceof rs)throw s;$r(t,"network-request-failed",{message:String(s)})}}async function ih(t,e,n,r,s={}){const i=await ji(t,e,n,r,s);return"mfaPendingCredential"in i&&$r(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?nS(t.config,s):`${t.config.apiScheme}://${s}`;return lG.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function uG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),cG.get())})}}function nm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function vk(t){return t!==void 0&&t.enterprise!==void 0}class fG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hG(t,e){return ji(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Fp(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=rS(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Cd(j0(s.auth_time)),issuedAtTime:Cd(j0(s.iat)),expirationTime:Cd(j0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function j0(t){return Number(t)*1e3}function rS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const s=vM(n);return s?JSON.parse(s):(jm("Failed to decode base64 JWT payload"),null)}catch(s){return jm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bk(t){const e=rS(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&pG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){var d;const e=t.auth,n=await t.getIdToken(),r=await hf(t,Fp(e,{idToken:n}));Te(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?mO(s.providerUserInfo):[],a=yG(t.providerData,i),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ow(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function hO(t){const e=Nt(t);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yG(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(t,e){const n=await uO(t,{},async()=>{const r=Wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await dO(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ol(t.emulatorConfig.host)&&(l.credentials="include"),cO.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bG(t,e){return ji(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=bk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vG(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new lc;return r&&(Te(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Te(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new gG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ow(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fO(this,e)}reload(){return hO(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await hf(this,mG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:S,stsTokenManager:b}=n;Te(d&&b,e,"internal-error");const T=lc.fromJSON(this.name,b);Te(typeof d=="string",e,"internal-error"),Wi(r,e.name),Wi(s,e.name),Te(typeof h=="boolean",e,"internal-error"),Te(typeof p=="boolean",e,"internal-error"),Wi(i,e.name),Wi(a,e.name),Wi(o,e.name),Wi(l,e.name),Wi(c,e.name),Wi(u,e.name);const v=new Qr({uid:d,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:T,createdAt:c,lastLoginAt:u});return S&&Array.isArray(S)&&(v.providerData=S.map(g=>({...g}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new Qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mO(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new lc;o.updateFromIdToken(r);const l=new Qr({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ow(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Map;function ci(t){Di(t instanceof Function,"Expected a class definition");let e=wk.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pO.type="NONE";const lw=pO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e,n){return`firebase:${t}:${e}:${n}`}class cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fp(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cc(ci(lw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ci(lw);const a=Lm(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const h=await Fp(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Qr._fromGetAccountInfoResponse(e,h,u)}else d=Qr._fromJSON(e,u);c!==i&&(o=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cc(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new cc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xO(e))return"Blackberry";if(EO(e))return"Webos";if(yO(e))return"Safari";if((e.includes("chrome/")||vO(e))&&!e.includes("edge/"))return"Chrome";if(wO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gO(t=$n()){return/firefox\//i.test(t)}function yO(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vO(t=$n()){return/crios\//i.test(t)}function bO(t=$n()){return/iemobile/i.test(t)}function wO(t=$n()){return/android/i.test(t)}function xO(t=$n()){return/blackberry/i.test(t)}function EO(t=$n()){return/webos/i.test(t)}function sS(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wG(t=$n()){var e;return sS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function xG(){return A8()&&document.documentMode===10}function SO(t=$n()){return sS(t)||wO(t)||EO(t)||xO(t)||/windows phone/i.test(t)||bO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e=[]){let n;switch(t){case"Browser":n=xk($n());break;case"Worker":n=`${xk($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(t,e={}){return ji(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=6;class _G{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ek(this),this.idTokenSubscription=new Ek(this),this.beforeStateQueue=new EG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await cc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fp(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ds(this));const n=e?Nt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SG(this),n=new _G(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&rG(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $s(t){return Nt(t)}class Ek{constructor(e){this.auth=e,this.observer=null,this.addObserver=P8(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kG(t){Xg=t}function _O(t){return Xg.loadJS(t)}function CG(){return Xg.recaptchaEnterpriseScript}function RG(){return Xg.gapiScript}function DG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NG{constructor(){this.enterprise=new IG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MG="recaptcha-enterprise",AO="NO_RECAPTCHA";class PG{constructor(e){this.type=MG,this.auth=$s(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{hG(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new fG(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;vk(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{a(c)}).catch(()=>{a(AO)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NG().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&vk(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CG();l.length!==0&&(l+=o),_O(l).then(()=>{s(o,i,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Sk(t,e,n,r=!1,s=!1){const i=new PG(t);let a;if(s)a=AO;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cw(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Sk(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Sk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ua(i,e??{}))return s;$r(s,"already-initialized")}return n.initialize({options:e})}function OG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CO(t,e,n){const r=$s(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=RO(e),{host:a,port:o}=jG(e),l=o===null?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Ua(c,r.config.emulator)&&Ua(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ol(a)?(fE(`${i}//${a}${l}`),EM("Auth",!0)):LG()}function RO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jG(t){const e=RO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Tk(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Tk(a)}}}function Tk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function VG(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UG(t,e){return ih(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}async function FG(t,e){return ji(t,"POST","/v1/accounts:sendOobCode",Oi(t,e))}async function BG(t,e){return FG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function $G(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Zg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,n,"signInWithPassword",UG);case"emailLink":return zG(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,r,"signUpPassword",VG);case"emailLink":return $G(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e){return ih(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="http://localhost";class Ga extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Ga(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return uc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uc(e,n)}buildRequest(){const e={requestUri:HG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GG(t){const e=Xu(Zu(t)).link,n=e?Xu(Zu(e)).deep_link_id:null,r=Xu(Zu(t)).deep_link_id;return(r?Xu(Zu(r)).link:null)||r||n||e||t}class Jg{constructor(e){const n=Xu(Zu(e)),r=n.apiKey??null,s=n.oobCode??null,i=qG(n.mode??null);Te(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GG(e);try{return new Jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jg.parseLink(n);return Te(r,"argument-error"),zc._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends oh{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends oh{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends oh{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WG(t,e){return ih(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qr._fromIdTokenResponse(e,r,s),a=_k(r);return new tl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_k(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends rs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Bp(e,n,r,s)}}function DO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function NO(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tl._forOperation(t,"link",r)}async function KG(t,e,n){await mf(e);const r=YG(e.providerData);Te(r.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QG(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Ds(r));const s="reauthenticate";try{const i=await hf(t,DO(r,s,e,t),n);Te(i.idToken,r,"internal-error");const a=rS(i.idToken);Te(a,r,"internal-error");const{sub:o}=a;return Te(t.uid===o,r,"user-mismatch"),tl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e,n=!1){if(sr(t.app))return Promise.reject(Ds(t));const r="signIn",s=await DO(t,r,e),i=await tl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function iS(t,e){return IO($s(t),e)}async function uw(t,e){const n=Nt(t);return await KG(!1,n,e.providerId),NO(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t){const e=$s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PO(t,e,n){if(sr(t.app))return Promise.reject(Ds(t));const r=$s(t),a=await cw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WG).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MO(t),l}),o=await tl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function OO(t,e,n){return sr(t.app)?Promise.reject(Ds(t)):iS(Nt(t),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MO(t),r})}async function dw(t,e){const n=Nt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await BG(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e){return Nt(t).setPersistence(e)}function LO(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function VO(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function ey(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function UO(t){return Nt(t).signOut()}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=1e3,ZG=10;class BO extends FO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);xG()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZG):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BO.type="LOCAL";const aS=BO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO extends FO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zO.type="SESSION";const oS=zO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ty(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,i)),l=await JG(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ty.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const c=lS("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function tW(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function nW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sW(){return $O()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebaseLocalStorageDb",iW=1,$p="firebaseLocalStorage",qO="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ny(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function aW(){const t=indexedDB.deleteDatabase(HO);return new lh(t).toPromise()}function fw(){const t=indexedDB.open(HO,iW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:qO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await aW(),e(await fw()))})})}async function Ak(t,e,n){const r=ny(t,!0).put({[qO]:e,value:n});return new lh(r).toPromise()}async function oW(t,e){const n=ny(t,!1).get(e),r=await new lh(n).toPromise();return r===void 0?null:r.value}function kk(t,e){const n=ny(t,!0).delete(e);return new lh(n).toPromise()}const lW=800,cW=3;class GO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $O()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ty._getInstance(sW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nW(),!this.activeServiceWorker)return;this.sender=new eW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fw();return await Ak(e,zp,"1"),await kk(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ak(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ny(s,!1).getAll();return new lh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GO.type="LOCAL";const WO=GO;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){return e?ci(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uW(t){return IO(t.auth,new cS(t),t.bypassAuthState)}function dW(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),QG(n,new cS(t),t.bypassAuthState)}async function fW(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),NO(n,new cS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uW;case"linkViaPopup":case"linkViaRedirect":return fW;case"reauthViaPopup":case"reauthViaRedirect":return dW;default:$r(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=new sh(2e3,1e4);async function KO(t,e,n){if(sr(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=$s(t);eS(t,e,ah);const s=ry(r,n);return new va(r,"signInViaPopup",e,s).executeNotNull()}async function QO(t,e,n){const r=Nt(t);eS(r.auth,e,ah);const s=ry(r.auth,n);return new va(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class va extends YO{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=lS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hW.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="pendingRedirect",Vm=new Map;class pW extends YO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const r=await gW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gW(t,e){const n=ZO(e),r=XO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function yW(t,e){return XO(t)._set(ZO(e),"true")}function vW(t,e){Vm.set(t._key(),e)}function XO(t){return ci(t._redirectPersistence)}function ZO(t){return Lm(mW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e,n){return bW(t,e,n)}async function bW(t,e,n){if(sr(t.app))return Promise.reject(Ds(t));const r=$s(t);eS(t,e,ah),await r._initializationPromise;const s=ry(r,n);return await yW(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function ej(t,e){return await $s(t)._initializationPromise,tj(t,e,!1)}async function tj(t,e,n=!1){if(sr(t.app))return Promise.reject(Ds(t));const r=$s(t),s=ry(r,e),a=await new pW(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=10*60*1e3;class xW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nj(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ck(e))}saveEventToCache(e){this.cachedEventUids.add(Ck(e)),this.lastProcessedEventTime=Date.now()}}function Ck(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_W=/^https?/;async function AW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SW(t);for(const n of e)try{if(kW(n))return}catch{}$r(t,"unauthorized-domain")}function kW(t){const e=aw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!_W.test(n))return!1;if(TW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=new sh(3e4,6e4);function Rk(){const t=Ns().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RW(t){return new Promise((e,n)=>{var s,i,a;function r(){Rk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rk(),n(Jr(t,"network-request-failed"))},timeout:CW.get()})}if((i=(s=Ns().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Ns().gapi)!=null&&a.load)r();else{const o=DG("iframefcb");return Ns()[o]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},_O(`${RG()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Um=null,e})}let Um=null;function DW(t){return Um=Um||RW(t),Um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=new sh(5e3,15e3),IW="__/auth/iframe",MW="emulator/auth/iframe",PW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jW(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nS(e,MW):`https://${t.config.authDomain}/${IW}`,r={apiKey:e.apiKey,appName:t.name,v:cu},s=OW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wf(r).slice(1)}`}async function LW(t){const e=await DW(t),n=Ns().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:jW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Jr(t,"network-request-failed"),o=Ns().setTimeout(()=>{i(a)},NW.get());function l(){Ns().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UW=500,FW=600,BW="_blank",zW="http://localhost";class Dk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $W(t,e,n,r=UW,s=FW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...VW,width:r.toString(),height:s.toString(),top:i,left:a},c=$n().toLowerCase();n&&(o=vO(c)?BW:n),gO(c)&&(e=e||zW,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,S])=>`${h}${p}=${S},`,"");if(wG(c)&&o!=="_self")return HW(e||"",o),new Dk(null);const d=window.open(e||"",o,u);Te(d,t,"popup-blocked");try{d.focus()}catch{}return new Dk(d)}function HW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="__/auth/handler",GW="emulator/auth/handler",WW=encodeURIComponent("fac");async function Nk(t,e,n,r,s,i){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cu,eventId:s};if(e instanceof ah){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",M8(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof oh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${WW}=${encodeURIComponent(l)}`:"";return`${YW(t)}?${Wf(o).slice(1)}${c}`}function YW({config:t}){return t.emulator?nS(t,GW):`https://${t.authDomain}/${qW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="webStorageSupport";class KW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=tj,this._overrideRedirectResult=vW}async _openPopup(e,n,r,s){var a;Di((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Nk(e,n,r,aw(),s);return $W(e,i,lS())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Nk(e,n,r,aw(),s);return tW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Di(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LW(e),r=new xW(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L0,{type:L0},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[L0];i!==void 0&&n(!!i),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SO()||yO()||sS()}}const rj=KW;var Ik="@firebase/auth",Mk="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZW(t){Oc(new Zo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Te(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TO(t)},c=new AG(r,s,i,l);return OG(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oc(new Zo("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(r=>new QW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(Ik,Mk,XW(t)),Ra(Ik,Mk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=5*60,eY=xM("authIdTokenMaxAge")||JW;let Pk=null;const tY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eY)return;const s=n==null?void 0:n.token;Pk!==s&&(Pk=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ia(t=AM()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kO(t,{popupRedirectResolver:rj,persistence:[WO,aS,oS]}),r=xM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=tY(i.toString());VO(n,a,()=>a(n.currentUser)),LO(n,o=>a(o))}}const s=bM("auth");return s&&CO(n,`http://${s}`),n}function nY(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}kG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZW("Browser");const rY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Jg,AuthCredential:Zg,EmailAuthCredential:zc,EmailAuthProvider:eo,FacebookAuthProvider:ei,GithubAuthProvider:ti,GoogleAuthProvider:gr,OAuthCredential:Ga,TwitterAuthProvider:ni,beforeAuthStateChanged:VO,browserLocalPersistence:aS,browserPopupRedirectResolver:rj,browserSessionPersistence:oS,connectAuthEmulator:CO,createUserWithEmailAndPassword:PO,getAuth:Ia,getIdTokenResult:fO,getRedirectResult:ej,inMemoryPersistence:lw,indexedDBLocalPersistence:WO,initializeAuth:kO,linkWithCredential:uw,linkWithPopup:QO,onAuthStateChanged:ey,onIdTokenChanged:LO,prodErrorMap:oO,reload:hO,sendEmailVerification:dw,setPersistence:jO,signInWithCredential:iS,signInWithEmailAndPassword:OO,signInWithPopup:KO,signInWithRedirect:JO,signOut:UO},Symbol.toStringTag,{value:"Module"})),sY=["auth/network-request-failed","firestore/unavailable","firestore/deadline-exceeded","firestore/cancelled","storage/retry-limit-exceeded","permission-denied","unauthenticated","permission-denied"],Ok=["net::ERR_ABORTED","net::ERR_NETWORK_CHANGED","net::ERR_INTERNET_DISCONNECTED","Failed to fetch","NetworkError","fetch is not defined","Missing or insufficient permissions","Cloud warning: operations require authentication","Actualizar tarea failed (offline mode)","failed (offline mode)","permission-denied"],na=class na{constructor(){on(this,"isDevelopment");on(this,"suppressedErrors",new Set);this.isDevelopment=!1,this.setupGlobalErrorHandling()}static getInstance(){return na.instance||(na.instance=new na),na.instance}setupGlobalErrorHandling(){if(!this.isDevelopment)return;const e=window.addEventListener;window.addEventListener=function(n,r,s){if(n==="unhandledrejection"){const i=a=>{var o;if(na.getInstance().shouldSuppressError(a.reason)){a.preventDefault(),console.warn(" Firebase error suppressed:",((o=a.reason)==null?void 0:o.message)||a.reason);return}return r(a)};return e.call(this,n,i,s)}return e.call(this,n,r,s)},this.setupConsoleFiltering()}setupConsoleFiltering(){const e=console.error;console.error=(...n)=>{const r=n.join(" ");if(this.shouldSuppressConsoleError(r)){console.warn(" Firebase connection issue (normal in development):",this.truncateMessage(r));return}e.apply(console,n)}}shouldSuppressError(e){if(!this.isDevelopment)return!1;if(e instanceof rs)return sY.includes(e.code);const n=(e==null?void 0:e.message)||String(e);return Ok.some(r=>n.includes(r))}shouldSuppressConsoleError(e){return this.isDevelopment?Ok.some(n=>e.includes(n))||e.includes("firestore.googleapis.com"):!1}truncateMessage(e,n=150){return e.length<=n?e:e.substring(0,n)+"..."}async handleFirebaseOperation(e,n="Firebase operation"){try{return await e()}catch(r){if(this.shouldSuppressError(r))return this.isDevelopment&&console.warn(` ${n} failed (offline mode):`,r instanceof rs?r.code:r),null;throw r}}logDevelopmentInfo(){this.isDevelopment&&(console.info(" Firebase Error Handler initialized"),console.info(" Network errors are suppressed in development"),console.info(" App works offline with local storage"))}};on(na,"instance");let hw=na;const pf=hw.getInstance(),ds=pf.handleFirebaseOperation.bind(pf);pf.shouldSuppressError.bind(pf);const Gl={apiKey:"AIzaSyBK5ZvLacIcP1PTKOJJZue1PoMyQrUtRLw",authDomain:"steeboriginal.firebaseapp.com",projectId:"steeboriginal",storageBucket:"steeboriginal.firebasestorage.app",messagingSenderId:"169523533903",appId:"1:169523533903:web:daa8f32c4e1c3b98aab23a",measurementId:"G-Z5GNT5NXSP"},ui=!!(Gl.apiKey&&Gl.authDomain&&Gl.projectId&&Gl.appId);let Dl,Xe,ke,Ho;const iY=async()=>ds(async()=>{if(Dl=ui?dA().length?dA()[0]:_M(Gl):void 0,Xe=ui?Ia(Dl):void 0,ui)try{ke=Bq(Dl,{experimentalAutoDetectLongPolling:!0,experimentalForceLongPolling:!0,useFetchStreams:!1,ignoreUndefinedProperties:!0})}catch{ke=zq(Dl)}else ke=void 0;Ho=ui?new gr:void 0;try{console.log("[Firebase] Initialized with projectId:",Gl.projectId)}catch{}return{app:Dl,auth:Xe,db:ke,googleProvider:Ho}},"Firebase initialization");iY().catch(()=>{Dl=void 0,Xe=void 0,ke=void 0,Ho=void 0});const aY=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Xe},get db(){return ke},get googleProvider(){return Ho},isFirebaseConfigured:ui},Symbol.toStringTag,{value:"Module"})),Ks="tasks";class gl{static async getTasks(e){return ds(async()=>{var o;if(!ke)throw new Error("Firestore no est inicializado");const n=(o=Xe.currentUser)==null?void 0:o.uid;if(!n)throw new Error("Necesits iniciar sesin");const r=ql(ke,Ks),s=M0(r,Bu("ownerUid","==",n),P0("createdAt","desc"));return(await pk(s)).docs.map(l=>{var c,u,d,h,p,S,b,T,v;return{id:l.id,...l.data(),createdAt:((d=(u=(c=l.data().createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:d.toISOString())||l.data().createdAt,updatedAt:((S=(p=(h=l.data().updatedAt)==null?void 0:h.toDate)==null?void 0:p.call(h))==null?void 0:S.toISOString())||l.data().updatedAt,dueDate:((v=(T=(b=l.data().dueDate)==null?void 0:b.toDate)==null?void 0:T.call(b))==null?void 0:v.toISOString())||l.data().dueDate}})},"Obtener tareas")}static async getTask(e){return ds(async()=>{var i,a,o,l,c,u,d,h,p;if(!ke)throw new Error("Firestore no est inicializado");const n=Tt(ke,Ks,e),r=await Kr(n);if(!r.exists())return null;const s=r.data();return{id:r.id,...s,createdAt:((o=(a=(i=s.createdAt)==null?void 0:i.toDate)==null?void 0:a.call(i))==null?void 0:o.toISOString())||s.createdAt,updatedAt:((u=(c=(l=s.updatedAt)==null?void 0:l.toDate)==null?void 0:c.call(l))==null?void 0:u.toISOString())||s.updatedAt,dueDate:((p=(h=(d=s.dueDate)==null?void 0:d.toDate)==null?void 0:h.call(d))==null?void 0:p.toISOString())||s.dueDate}},"Obtener tarea")}static async createTask(e){return ds(async()=>{var a;if(!ke)throw new Error("Firestore no est inicializado");const n=(a=Xe.currentUser)==null?void 0:a.uid;if(!n)throw new Error("Necesits iniciar sesin");const r={...e,ownerUid:n,createdAt:Kt(),updatedAt:Kt(),dueDate:e.dueDate?at.fromDate(new Date(e.dueDate)):null},s=ql(ke,Ks);return{id:(await Jq(s,r)).id,...e,ownerUid:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},"Crear tarea")}static async updateTask(e,n){return ds(async()=>{var l,c,u;if(!ke)throw new Error("Firestore no est inicializado");if(!((l=Xe.currentUser)==null?void 0:l.uid))throw new Error("Necesits iniciar sesin");const s=Tt(ke,Ks,e),{ownerUid:i,...a}=n,o={...a,updatedAt:Kt(),dueDate:a.dueDate?at.fromDate(new Date(a.dueDate)):void 0};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{await wo(s,o);const d=await this.getTask(e);if(!d)throw new Error("No se pudo obtener la tarea actualizada");return d}catch(d){if((c=d==null?void 0:d.message)!=null&&c.includes("ERR_ABORTED")||(u=d==null?void 0:d.message)!=null&&u.includes("net::ERR_")||(d==null?void 0:d.code)==="cancelled")return console.warn(" Operacin cancelada o error de red, continuando...",d.message),{id:e,...a,updatedAt:new Date().toISOString()};throw d}},"Actualizar tarea")}static async deleteTask(e){return ds(async()=>{var a;if(!ke)throw new Error("Firestore no est inicializado");const n=(a=Xe.currentUser)==null?void 0:a.uid;if(!n)throw new Error("Necesits iniciar sesin");const r=Tt(ke,Ks,e),s=await Kr(r);if(!s.exists())throw new Error("Tarea no encontrada");if(s.data().ownerUid!==n)throw new Error("No tienes permisos para eliminar esta tarea");await Zq(r)},"Eliminar tarea")}static async toggleTask(e){return ds(async()=>{const n=await this.getTask(e);if(!n)throw new Error("Tarea no encontrada");const r={completed:!n.completed,completedAt:n.completed?null:new Date().toISOString()};return await this.updateTask(e,r)},"Alternar estado de tarea")}static async getTasksForDate(e){return ds(async()=>{var c;if(!ke)throw new Error("Firestore no est inicializado");const n=(c=Xe.currentUser)==null?void 0:c.uid;if(!n)throw new Error("Necesits iniciar sesin");const r=new Date(e);r.setHours(0,0,0,0);const s=new Date(e);s.setHours(23,59,59,999);const i=ql(ke,Ks),a=M0(i,Bu("ownerUid","==",n),Bu("dueDate",">=",at.fromDate(r)),Bu("dueDate","<=",at.fromDate(s)),P0("dueDate","asc"));return(await pk(a)).docs.map(u=>{var d,h,p,S,b,T,v,g,x;return{id:u.id,...u.data(),createdAt:((p=(h=(d=u.data().createdAt)==null?void 0:d.toDate)==null?void 0:h.call(d))==null?void 0:p.toISOString())||u.data().createdAt,updatedAt:((T=(b=(S=u.data().updatedAt)==null?void 0:S.toDate)==null?void 0:b.call(S))==null?void 0:T.toISOString())||u.data().updatedAt,dueDate:((x=(g=(v=u.data().dueDate)==null?void 0:v.toDate)==null?void 0:g.call(v))==null?void 0:x.toISOString())||u.data().dueDate}})},"Obtener tareas por fecha")}static subscribeToTasks(e,n){var r;try{if(!ke)return console.warn(" Firestore no est inicializado - Modo offline"),n([]),()=>{};const s=(r=Xe.currentUser)==null?void 0:r.uid;if(!s)return console.warn(" Usuario no autenticado - Modo offline"),n([]),()=>{};const i=ql(ke,Ks);if(!i)return console.warn(" Coleccin de tareas no disponible - Modo offline"),n([]),()=>{};const a=M0(i,Bu("ownerUid","==",s),P0("createdAt","desc"));let o=null;try{o=Qg(a,l=>{try{const c=l.docs.map(u=>{var d,h,p,S,b,T,v,g,x;try{const D=u.data();return{id:u.id,...D,createdAt:((p=(h=(d=D.createdAt)==null?void 0:d.toDate)==null?void 0:h.call(d))==null?void 0:p.toISOString())||D.createdAt||new Date().toISOString(),updatedAt:((T=(b=(S=D.updatedAt)==null?void 0:S.toDate)==null?void 0:b.call(S))==null?void 0:T.toISOString())||D.updatedAt||new Date().toISOString(),dueDate:((x=(g=(v=D.dueDate)==null?void 0:v.toDate)==null?void 0:g.call(v))==null?void 0:x.toISOString())||D.dueDate}}catch(D){return console.warn(" Error procesando documento:",u.id,D),null}}).filter(Boolean);c.length,n(c)}catch(c){console.error(" Error procesando snapshot:",c),n([])}},l=>{var c,u,d;console.warn(" Error en listener de Firebase - Modo offline activado:",l),(c=l==null?void 0:l.message)!=null&&c.includes("permission-denied")||(l==null?void 0:l.code)==="permission-denied"?console.warn(" Permisos denegados - Modo offline"):(u=l==null?void 0:l.message)!=null&&u.includes("ERR_ABORTED")||(d=l==null?void 0:l.message)!=null&&d.includes("net::ERR_")||(l==null?void 0:l.code)==="cancelled"||(l==null?void 0:l.code)==="unavailable"?console.warn(" Error de conexin - Modo offline temporal"):console.warn(" Error desconocido - Activando modo offline:",l),n([])})}catch(l){return console.error(" Error creando snapshot:",l),n([]),()=>{}}return()=>{try{o&&o()}catch(l){console.warn(" Error en unsubscribe:",l)}}}catch(s){return console.error(" Error crtico en subscribeToTasks:",s),n([]),()=>{}}}static async bulkUpdateTasks(e){return ds(async()=>{if(!ke)throw new Error("Firestore no est inicializado");const n=gk(ke);e.forEach(({id:r,updates:s})=>{const i=Tt(ke,Ks,r),a={...s,updatedAt:at.now()};n.update(i,a)}),await n.commit()},"Actualizacin en lote")}static async bulkDeleteTasks(e){return ds(async()=>{if(!ke)throw new Error("Firestore no est inicializado");const n=gk(ke);e.forEach(r=>{const s=Tt(ke,Ks,r);n.delete(s)}),await n.commit()},"Eliminacin en lote")}}class oY{constructor(){on(this,"TASKS_KEY","steeb_tasks_backup");on(this,"TASKS_FILE_KEY","steeb_tasks_file")}saveTasks(e){try{const n={tasks:e,lastUpdated:new Date().toISOString(),version:"1.0"};localStorage.setItem(this.TASKS_KEY,JSON.stringify(n)),this.saveTasksAsText(e),e.length}catch(n){console.error(" Error al guardar tareas localmente:",n)}}loadTasks(){try{const e=localStorage.getItem(this.TASKS_KEY);return e?JSON.parse(e).tasks||[]:[]}catch(e){return console.error(" Error al cargar tareas locales:",e),[]}}saveTasksAsText(e){try{const n=this.formatTasksAsText(e);localStorage.setItem(this.TASKS_FILE_KEY,n),this.downloadTasksAsFile(n)}catch(n){console.error(" Error al crear archivo de texto:",n)}}formatTasksAsText(e){const n=`STEEB - Lista de Tareas
Generado: ${new Date().toLocaleString()}
${"=".repeat(50)}

`,r=e.reduce((a,o)=>{const l=o.type||"extra";return a[l]||(a[l]=[]),a[l].push(o),a},{});let s=n;Object.entries(r).forEach(([a,o])=>{s+=` ${a.toUpperCase()}
${"-".repeat(20)}
`,o.forEach((l,c)=>{const u=l.completed?"":"",d=l.priority?` [${l.priority}]`:"",h=l.scheduledDate?` (${l.scheduledDate})`:"";s+=`${c+1}. ${u} ${l.title}${d}${h}
`,l.description&&(s+=`    ${l.description}
`),l.notes&&(s+=`    ${l.notes}
`),s+=`
`}),s+=`
`});const i=this.calculateTaskStats(e);return s+=` ESTADSTICAS
${"-".repeat(20)}
`,s+=`Total de tareas: ${i.total}
`,s+=`Completadas: ${i.completed}
`,s+=`Pendientes: ${i.pending}
`,s+=`Porcentaje completado: ${i.completionRate}%
`,s}downloadTasksAsFile(e){try{const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`steeb-tareas-${new Date().toISOString().split("T")[0]}.txt`,URL.revokeObjectURL(r)}catch(n){console.error(" Error al crear archivo de descarga:",n)}}calculateTaskStats(e){const n=e.length,r=e.filter(a=>a.completed).length,s=n-r,i=n>0?Math.round(r/n*100):0;return{total:n,completed:r,pending:s,completionRate:i}}getTasksAsText(){return localStorage.getItem(this.TASKS_FILE_KEY)||"No hay tareas guardadas"}clearLocalStorage(){localStorage.removeItem(this.TASKS_KEY),localStorage.removeItem(this.TASKS_FILE_KEY)}exportTasks(){const e=this.loadTasks(),n=this.formatTasksAsText(e);this.downloadTasksAsFile(n)}}const zu=new oY,jk={type:void 0,priority:void 0,status:void 0,completed:void 0,dateRange:void 0,tags:void 0,search:void 0},lY={isOnline:navigator.onLine,lastSync:null,pendingChanges:0,syncInProgress:!1,hasError:!1},cY={totalTasks:0,completedTasks:0,completionRate:0,currentStreak:0,maxStreak:0,activeDays:0,averageTasksPerDay:0,averageCompletionTime:0,mostProductiveHour:9,mostProductiveDay:"Monday"},_r=Xz()(n8(o8(s8((t,e)=>({tasks:[],isLoading:!1,error:null,lastSync:null,syncStatus:lY,filters:jk,selectedTaskIds:[],viewMode:"list",stats:cY,setTasks:n=>{t({tasks:n}),e().calculateStats()},addTask:async n=>{var a,o,l;if(!n.title||!n.title.trim()){console.warn(" Intento de crear tarea con ttulo vaco bloqueado en el store"),t({error:"El ttulo de la tarea no puede estar vaco"});return}const r=(a=Xe.currentUser)==null?void 0:a.uid,s={id:`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:n.title.trim(),type:n.type||"extra",completed:n.completed??!1,status:n.status||"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...r&&{userId:r},...n.description&&{description:n.description},...n.subgroup&&{subgroup:n.subgroup},...n.priority&&{priority:n.priority},...n.scheduledDate&&{scheduledDate:n.scheduledDate},...n.scheduledTime&&{scheduledTime:n.scheduledTime},...n.notes&&{notes:n.notes},...n.tags&&n.tags.length>0&&{tags:n.tags},...n.estimatedDuration&&{estimatedDuration:n.estimatedDuration},...n.recurrence&&{recurrence:n.recurrence},...n.subtasks&&{subtasks:n.subtasks}};if(t(c=>({tasks:[...c.tasks,s],error:null})),n.recurrence&&n.recurrence.frequency!=="none"&&n.scheduledDate){const{generateMonthlyRecurrenceInstances:c}=await Bo(async()=>{const{generateMonthlyRecurrenceInstances:h}=await Promise.resolve().then(()=>Qie);return{generateMonthlyRecurrenceInstances:h}},void 0),u=c(n.scheduledDate,n.recurrence),d=[];for(const h of u)if(!e().tasks.find(S=>S.title===n.title.trim()&&S.type===n.type&&S.scheduledDate===h)){const S={...s,id:`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,scheduledDate:h,subtasks:((o=n.subtasks)==null?void 0:o.map(b=>({...b,completed:!1,id:`subtask-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})))||void 0};d.push(S)}if(d.length>0){`${d.length}`,t(p=>({tasks:[...p.tasks,...d]}));const h=(l=Xe.currentUser)==null?void 0:l.uid;for(const p of d)gl.createTask(p,h).then(()=>{p.scheduledDate}).catch(S=>{console.error(" Error al sincronizar instancia mensual:",S)})}}e().calculateStats();const i=e().tasks;zu.saveTasks(i),r&&gl.createTask(s,r).then(()=>{s.title}).catch(c=>{console.error(" Error al sincronizar con Firebase:",c),t(u=>({...u,error:"Tarea creada localmente. Error de sincronizacin: "+(c instanceof Error?c.message:"Error desconocido")}))})},updateTask:async(n,r)=>{var o;const s=e().tasks.find(l=>l.id===n);if(!s)throw console.error(" Tarea no encontrada para updateTask:",n),new Error("Tarea no encontrada");const i={...s,...r,updatedAt:new Date().toISOString()};if(t(l=>({tasks:l.tasks.map(c=>c.id===n?i:c),error:null})),e().calculateStats(),(o=Xe.currentUser)==null?void 0:o.uid)if(!navigator.onLine)t(l=>{var c;return{syncStatus:{...l.syncStatus,pendingChanges:(((c=l.syncStatus)==null?void 0:c.pendingChanges)??0)+1}}});else try{await gl.updateTask(n,r)}catch(l){console.warn(" Error de sincronizacin:",l)}},deleteTask:async n=>{var i;const r=e().tasks;if(t(a=>({tasks:a.tasks.filter(o=>o.id!==n),error:null})),e().calculateStats(),(i=Xe.currentUser)==null?void 0:i.uid)try{await gl.deleteTask(n)}catch(a){console.error(" Error eliminando tarea de Firestore:",a),navigator.onLine&&t({tasks:r,error:"Error al eliminar la tarea"})}},completeTask:async n=>{e().tasks.find(s=>s.id===n)&&await e().updateTask(n,{completed:!0,status:"completed",completedDate:new Date().toISOString()})},toggleSubtask:async(n,r)=>{const s=e().tasks.find(o=>o.id===n);if(!s||!s.subtasks)return;const i=s.subtasks.map(o=>o.id===r?{...o,completed:!o.completed}:o),a=i.every(o=>o.completed);e().updateTask(n,{subtasks:i,completed:a,status:a?"completed":s.status,completedDate:a?new Date().toISOString():s.completedDate})},addSubtask:async(n,r)=>{const s=e().tasks.find(o=>o.id===n);if(!s)return;const i={id:`subtask-${Date.now()}`,title:r,completed:!1,createdAt:new Date().toISOString()},a=[...s.subtasks||[],i];e().updateTask(n,{subtasks:a})},updateSubtask:async(n,r,s)=>{const i=e().tasks.find(o=>o.id===n);if(!i||!i.subtasks)return;const a=i.subtasks.map(o=>o.id===r?{...o,...s}:o);e().updateTask(n,{subtasks:a})},deleteSubtask:async(n,r)=>{const s=e().tasks.find(a=>a.id===n);if(!s||!s.subtasks)return;const i=s.subtasks.filter(a=>a.id!==r);e().updateTask(n,{subtasks:i})},loadTasks:async()=>{var n;try{t({isLoading:!0,error:null,syncStatus:"syncing"});const r=(n=Xe.currentUser)==null?void 0:n.uid;if(r&&`${r}`,!r){e().loadTasksFromLocal(),t({isLoading:!1,syncStatus:"offline",error:null});return}try{const s=await gl.getTasks(r);t({tasks:s||[],isLoading:!1,lastSync:new Date().toISOString(),syncStatus:"synced",error:null}),e().calculateStats(),s!=null&&s.length}catch(s){console.warn(" Error con Firestore, usando almacenamiento local:",s),e().loadTasksFromLocal(),t({isLoading:!1,syncStatus:"offline",error:null})}}catch(r){console.error(" Error general cargando tareas:",r),t({isLoading:!1,error:r instanceof Error?r.message:"Error al cargar las tareas",syncStatus:"error"})}},setupRealtimeListener:n=>{try{if(!n)return t({syncStatus:"offline"}),()=>{};const r=gl.subscribeToTasks(n,s=>{try{s.length,t({tasks:Array.isArray(s)?s:[],syncStatus:"online",error:null}),e().calculateStats()}catch(i){console.error(" Error en callback del listener:",i),t({syncStatus:"error",error:"Error al sincronizar tareas"})}});return t({syncStatus:"online"}),r}catch(r){return console.warn(" Error configurando listener, usando modo offline:",r),t({syncStatus:"offline",error:null}),()=>{}}},loadTasksInRange:async(n,r)=>{t({isLoading:!0,error:null});try{const i=(e().tasks||[]).filter(a=>{if(!a.scheduledFor)return!1;const o=a.scheduledFor.split("T")[0];return o>=n&&o<=r});t({tasks:i}),i.length}catch(s){t({error:s instanceof Error?s.message:"Failed to load tasks"})}finally{t({isLoading:!1}),e().calculateStats()}},loadTasksForDate:async n=>{t({isLoading:!0,error:null});try{const s=(e().tasks||[]).filter(i=>i.scheduledFor?i.scheduledFor.split("T")[0]===n:!1);t({tasks:s}),s.length}catch(r){t({error:r instanceof Error?r.message:"Failed to load tasks"})}finally{t({isLoading:!1}),e().calculateStats()}},setFilters:n=>{t(r=>({filters:{...r.filters,...n}})),e().loadTasks()},clearFilters:()=>{t({filters:jk}),e().loadTasks()},searchTasks:async n=>{t({isLoading:!0,error:null});try{const s=(e().tasks||[]).filter(i=>i.title.toLowerCase().includes(n.toLowerCase())||i.description&&i.description.toLowerCase().includes(n.toLowerCase()));t({tasks:s,filters:{...e().filters,search:n}}),s.length}catch(r){t({error:r instanceof Error?r.message:"Failed to search tasks"})}finally{t({isLoading:!1})}},selectTask:n=>{t(r=>({selectedTaskIds:[...r.selectedTaskIds,n]}))},deselectTask:n=>{t(r=>({selectedTaskIds:r.selectedTaskIds.filter(s=>s!==n)}))},selectAllTasks:()=>{t(n=>({selectedTaskIds:n.tasks.map(r=>r.id)}))},clearSelection:()=>{t({selectedTaskIds:[]})},toggleTaskSelection:n=>{e().selectedTaskIds.includes(n)?e().deselectTask(n):e().selectTask(n)},getPendingTasks:()=>e().tasks.filter(n=>!n.completed),getCompletedTasks:()=>e().tasks.filter(n=>n.completed),setViewMode:n=>{t({viewMode:n})},calculateStats:()=>{const{tasks:n}=e(),r=new Date;r.toISOString().split("T")[0];const s=n.length,i=n.filter(T=>T.completed).length,a=s>0?i/s*100:0;let o=0,l=0,c=0;const u=n.filter(T=>T.completed&&T.completedDate).map(T=>T.completedDate.split("T")[0]).sort();let d=new Date(r);for(;;){const T=d.toISOString().split("T")[0];if(u.includes(T))o++,d.setDate(d.getDate()-1);else break}for(let T=0;T<u.length;T++)if(T===0)c=1;else{const v=new Date(u[T-1]),g=new Date(u[T]),x=Math.abs(g.getTime()-v.getTime());Math.ceil(x/(1e3*60*60*24))===1?c++:(l=Math.max(l,c),c=1)}l=Math.max(l,c);const h=new Set(u).size,p=h>0?s/h:0,S=n.filter(T=>T.actualDuration&&T.actualDuration>0),b=S.length>0?S.reduce((T,v)=>T+(v.actualDuration||0),0)/S.length:0;t({stats:{totalTasks:s,completedTasks:i,completionRate:a,currentStreak:o,maxStreak:l,activeDays:h,averageTasksPerDay:p,averageCompletionTime:b,mostProductiveHour:9,mostProductiveDay:"Monday"}})},syncWithServer:async()=>{try{t({syncStatus:{...e().syncStatus,syncInProgress:!0}}),await e().loadTasks(),t({syncStatus:{...e().syncStatus,syncInProgress:!1,lastSync:new Date().toISOString()}})}catch(n){console.error(" Error en sincronizacin:",n),t({syncStatus:{...e().syncStatus,syncInProgress:!1,hasError:!0}})}},setSyncStatus:n=>{t(r=>({syncStatus:{...r.syncStatus,...n}}))},setError:n=>{t({error:n})},clearError:()=>{t({error:null})},setLoading:n=>{t({isLoading:n})},loadTasksFromLocal:()=>{try{const n=zu.loadTasks();n.length>0&&(t({tasks:n}),e().calculateStats(),n.length)}catch(n){console.error(" Error al cargar tareas locales:",n)}},exportTasksAsText:()=>{try{zu.exportTasks()}catch(n){console.error(" Error al exportar tareas:",n)}},getTasksAsText:()=>{try{return zu.getTasksAsText()}catch(n){return console.error(" Error al obtener tareas como texto:",n),"Error al obtener las tareas"}},clearLocalStorage:()=>{try{zu.clearLocalStorage()}catch(n){console.error(" Error al limpiar almacenamiento local:",n)}}})),{name:"task-store",partialize:t=>({tasks:t.tasks,filters:t.filters,viewMode:t.viewMode,lastSync:t.lastSync})}),{name:"task-store"}));window.addEventListener("online",()=>{_r.getState().setSyncStatus({isOnline:!0}),_r.getState().syncWithServer()});window.addEventListener("offline",()=>{_r.getState().setSyncStatus({isOnline:!1})});setInterval(()=>{const{syncStatus:t,syncWithServer:e}=_r.getState();t.isOnline&&!t.syncInProgress&&e()},5*60*1e3);const V0=768;function uY(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${V0-1}px)`),r=()=>{e(window.innerWidth<V0)};return n.addEventListener("change",r),e(window.innerWidth<V0),()=>n.removeEventListener("change",r)},[]),!!t}const dY=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(null);y.useEffect(()=>{if(!("serviceWorker"in navigator))return;(async()=>{try{const o=await navigator.serviceWorker.ready;console.log(" Service Worker listo:",o.scope),e(!0),o.onupdatefound=()=>{console.log(" Nueva versin de la app detectada");const l=o.installing;l&&l.addEventListener("statechange",()=>{l.state==="activated"&&(console.log(" Nueva versin activada"),s())})},o.waiting&&console.log(" Service Worker esperando activacin"),o.active&&console.log(" Service Worker activo")}catch(o){console.error(" Error al inicializar Service Worker:",o)}})()},[]);const s=y.useCallback(()=>new Promise((a,o)=>{if(!navigator.serviceWorker.controller){o(new Error("No hay Service Worker controlador activo"));return}const l=new MessageChannel;l.port1.onmessage=c=>{const u=c.data;u.success?(r(new Date),console.log(" Backup completado:",u.message)):console.error(" Error en backup:",u.message),a(u)},navigator.serviceWorker.controller.postMessage({type:"BACKUP_DATA"},[l.port2])}),[]),i=y.useCallback(()=>new Promise((a,o)=>{if(!navigator.serviceWorker.controller){o(new Error("No hay Service Worker controlador activo"));return}const l=new MessageChannel;l.port1.onmessage=c=>{const u=c.data;console.log(" Respuesta de restauracin:",u),a(u)},navigator.serviceWorker.controller.postMessage({type:"RESTORE_DATA"},[l.port2])}),[]);return y.useEffect(()=>{if(!t)return;const a=setInterval(()=>{console.log(" Auto-backup programado..."),s().catch(o=>{console.warn(" Auto-backup fall:",o)})},10*60*1e3);return()=>clearInterval(a)},[t,s]),y.useEffect(()=>{const a=()=>{document.visibilityState==="hidden"&&t&&(console.log(" Pgina oculta, creando backup..."),s().catch(o=>{console.warn(" Backup de visibilidad fall:",o)}))};return document.addEventListener("visibilitychange",a),()=>document.removeEventListener("visibilitychange",a)},[t,s]),y.useEffect(()=>{const a=()=>{var o;t&&((o=navigator.serviceWorker.controller)==null||o.postMessage({type:"BACKUP_DATA"}))};return window.addEventListener("beforeunload",a),()=>window.removeEventListener("beforeunload",a)},[t]),y.useEffect(()=>{if(!t)return;const o=setInterval(async()=>{try{const l=await navigator.serviceWorker.getRegistration();l&&await l.update()}catch(l){console.warn(" Error al verificar actualizaciones:",l)}},30*60*1e3);return()=>clearInterval(o)},[t]),{isServiceWorkerReady:t,lastBackup:n,triggerBackup:s,triggerRestore:i}},Eo=class Eo{constructor(){on(this,"notificationTimeouts",new Map)}static getInstance(){return Eo.instance||(Eo.instance=new Eo),Eo.instance}async requestPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(console.log("Notificaciones denegadas por el usuario"),!1):await Notification.requestPermission()==="granted":(console.log("Este navegador no soporta notificaciones"),!1)}scheduleTaskReminder(e,n,r,s){if(this.cancelTaskReminder(e),!r)return;const i=new Date;let a=new Date(r);if(s){const[l,c]=s.split(":").map(Number);a.setHours(l,c,0,0)}else a.setHours(9,0,0,0);const o=new Date(a.getTime()-10*60*1e3);if(o>i){const l=o.getTime()-i.getTime(),c=setTimeout(()=>{this.sendTaskReminder(n,a)},l);this.notificationTimeouts.set(e,c),console.log(` Recordatorio programado para ${n} a las ${o.toLocaleTimeString()}`)}if(a>i){const l=a.getTime()-i.getTime(),c=setTimeout(()=>{this.sendTaskDueNotification(n)},l);this.notificationTimeouts.set(`${e}-due`,c)}}scheduleBatchReminders(e){e.forEach(n=>{n.scheduledDate&&this.scheduleTaskReminder(n.id,n.title,n.scheduledDate,n.scheduledTime)})}cancelTaskReminder(e){const n=this.notificationTimeouts.get(e);n&&(clearTimeout(n),this.notificationTimeouts.delete(e));const r=this.notificationTimeouts.get(`${e}-due`);r&&(clearTimeout(r),this.notificationTimeouts.delete(`${e}-due`))}sendTaskReminder(e,n){if(Notification.permission==="granted"){const r=new Notification("STEBE - Recordatorio de Tarea",{body:`"${e}" est programada para las ${n.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`,icon:"/lovable-uploads/te obesrvo.png",badge:"/lovable-uploads/te obesrvo.png",tag:"task-reminder",requireInteraction:!0});r.onclick=()=>{window.focus(),window.location.href="/",r.close()},setTimeout(()=>{r.close()},1e4)}}sendTaskDueNotification(e){if(Notification.permission==="granted"){const n=new Notification("STEBE - Es hora!",{body:`Es hora de hacer: "${e}"`,icon:"/lovable-uploads/te obesrvo.png",badge:"/lovable-uploads/te obesrvo.png",tag:"task-due",requireInteraction:!0});n.onclick=()=>{window.focus(),window.location.href="/",n.close()},"navigator"in window&&"vibrate"in navigator&&navigator.vibrate([200,100,200]),setTimeout(()=>{n.close()},15e3)}}scheduleDailyMotivation(){const e=new Date,n=new Date;n.setHours(8,0,0,0),n<=e&&n.setDate(n.getDate()+1);const r=n.getTime()-e.getTime();setTimeout(()=>{this.sendDailyMotivation(),this.scheduleDailyMotivation()},r)}sendDailyMotivation(){const e=["Buenos das! STEBE aqu. Es momento de hacer que este da cuente.","Nuevo da, nuevas oportunidades. Qu vas a lograr hoy?","La innovacin distingue entre un lder y un seguidor. Lidera tu da!","Tu tiempo es limitado, no lo desperdicies. Haz que importe!","La calidad nunca es un accidente. Haz todo con excelencia hoy!"],n=e[Math.floor(Math.random()*e.length)];if(Notification.permission==="granted"){const r=new Notification("STEBE - Motivacin Diaria",{body:n,icon:"/lovable-uploads/te obesrvo.png",badge:"/lovable-uploads/te obesrvo.png",tag:"daily-motivation"});r.onclick=()=>{window.focus(),window.location.href="/chat",r.close()},setTimeout(()=>{r.close()},8e3)}}scheduleProductivityReminders(){const e=()=>{const n=new Date,r=new Date;if(r.setHours(r.getHours()+2),r.getHours()>=9&&r.getHours()<=18){const s=r.getTime()-n.getTime();setTimeout(()=>{this.sendProductivityReminder(),e()},s)}else{r.setDate(r.getDate()+1),r.setHours(9,0,0,0);const s=r.getTime()-n.getTime();setTimeout(()=>{this.sendProductivityReminder(),e()},s)}};e()}sendProductivityReminder(){const e=["Cmo vas con tus tareas? STEBE est aqu si necesitas motivacin.","Pausa de productividad: Ests enfocado en lo que realmente importa?","Recordatorio: Los detalles hacen la perfeccin. Cmo van los detalles?","Check-in de STEBE: Ests siendo productivo o solo ests ocupado?","Tiempo de reflexin: Ests ms cerca de tus metas que hace 2 horas?"],n=e[Math.floor(Math.random()*e.length)];if(Notification.permission==="granted"){const r=new Notification("STEBE - Check de Productividad",{body:n,icon:"/lovable-uploads/te obesrvo.png",badge:"/lovable-uploads/te obesrvo.png",tag:"productivity-check"});r.onclick=()=>{window.focus(),window.location.href="/chat",r.close()},setTimeout(()=>{r.close()},6e3)}}async initialize(){return await this.requestPermission()?(console.log(" Servicio de notificaciones STEBE inicializado"),this.scheduleDailyMotivation(),this.scheduleProductivityReminders(),!0):(console.log(" Permisos de notificacin no otorgados"),!1)}};on(Eo,"instance");let mw=Eo;const Nl=mw.getInstance(),fY=t=>(y.useEffect(()=>(t.forEach(r=>{!r.completed&&r.scheduledDate?Nl.scheduleTaskReminder(r.id,r.title,r.scheduledDate,r.scheduledTime):r.completed&&Nl.cancelTaskReminder(r.id)}),()=>{t.forEach(r=>{Nl.cancelTaskReminder(r.id)})}),[t]),{scheduleTaskNotification:r=>{!r.completed&&r.scheduledDate&&Nl.scheduleTaskReminder(r.id,r.title,r.scheduledDate,r.scheduledTime)},cancelTaskNotification:r=>{Nl.cancelTaskReminder(r)}}),hY=t=>{const[e,n]=y.useState(!1),[r,s]=y.useState("");y.useEffect(()=>{const o=()=>{const l=new Date,c=new Date(l);c.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0],d=c.toISOString().split("T")[0];if(localStorage.getItem("stebe-last-reminder-date")===u)return;const p=t.filter(b=>b.completed&&b.completedDate&&b.completedDate.startsWith(d));t.filter(b=>!b.completed).length>0&&p.length===0&&(s(d),n(!0))};if(t.length>0){const l=setTimeout(o,2e3);return()=>clearTimeout(l)}},[t]);const i=()=>{const o=new Date().toISOString().split("T")[0];localStorage.setItem("stebe-last-reminder-date",o),n(!1)};return{showReminder:e,yesterdayDate:r,skipReminder:()=>{i()},markReminderShown:i}},So=class So{constructor(){on(this,"diagnostics",[]);on(this,"maxDiagnostics",10)}static getInstance(){return So.instance||(So.instance=new So),So.instance}runDiagnostics(){const e=document.documentElement,n=document.body,r=localStorage.getItem("stebe-theme"),s=e.classList.contains("dark"),i=e.classList.contains("shiny");let a="light";i?a="shiny":s&&(a="dark");const o={};["--background","--foreground","--card","--primary","--secondary","--muted","--accent","--border"].forEach(d=>{o[d]=getComputedStyle(e).getPropertyValue(d).trim()});const c=getComputedStyle(e);getComputedStyle(n);const u={timestamp:new Date().toISOString(),localStorage:r,domClasses:{hasDark:s,hasShiny:i,className:e.className},cssVariables:o,computedStyles:{backgroundColor:c.backgroundColor,color:c.color,background:c.background},inconsistencies:[],recommendations:[]};return r&&r!==a&&u.inconsistencies.push(`localStorage theme (${r})  DOM theme (${a})`),s&&i&&u.inconsistencies.push("CRITICAL: Both dark and shiny classes are present simultaneously!"),Object.entries(o).forEach(([d,h])=>{(!h||h==="")&&u.inconsistencies.push(`CSS variable ${d} is empty or invalid`)}),u.inconsistencies.length>0&&u.recommendations.push("Run theme correction: themeDebugger.fixInconsistencies()"),r||u.recommendations.push("Consider setting a default theme in localStorage"),this.diagnostics.push(u),this.diagnostics.length>this.maxDiagnostics&&this.diagnostics.shift(),u}fixInconsistencies(){const e=this.runDiagnostics(),n=document.documentElement;if(e.inconsistencies.length===0)return console.log(" No inconsistencies detected"),!0;const r=document.querySelectorAll('[data-custom-color="true"], [style*="border-color"]:not([style*="auto"]), [style*="color"]:not([style*="auto"])'),s=[];r.forEach(a=>{const o=a;s.push({element:a,borderColor:o.style.borderColor,color:o.style.color})}),n.classList.remove("dark","shiny");const i=e.localStorage||"light";return i==="dark"?n.classList.add("dark"):i==="shiny"&&n.classList.add("shiny"),setTimeout(()=>{s.forEach(({element:o,borderColor:l,color:c})=>{const u=o;l&&(u.style.borderColor=l),c&&(u.style.color=c)});const a=this.runDiagnostics();a.inconsistencies.length===0||console.error(" Some inconsistencies could not be fixed:",a.inconsistencies)},100),!0}getDiagnosticsHistory(){return[...this.diagnostics]}clearHistory(){this.diagnostics=[]}checkSystemHealth(){const n=this.runDiagnostics().inconsistencies;let r=100;return n.includes("CRITICAL: Both dark and shiny classes are present simultaneously!")&&(r-=50),r-=n.length*10,r=Math.max(0,Math.min(100,r)),{isHealthy:r>=80&&n.length===0,score:r,issues:n}}exportReport(){const e=this.checkSystemHealth(),n=this.diagnostics[this.diagnostics.length-1];return`
THEME SYSTEM HEALTH REPORT
Generated: ${new Date().toISOString()}
Health Score: ${e.score}/100
System Healthy: ${e.isHealthy?"YES":"NO"}

CURRENT STATE:
- localStorage Theme: ${(n==null?void 0:n.localStorage)||"NOT SET"}
- DOM Classes: ${(n==null?void 0:n.domClasses.className)||"EMPTY"}
- Dark Class Present: ${n!=null&&n.domClasses.hasDark?"YES":"NO"}
- Shiny Class Present: ${n!=null&&n.domClasses.hasShiny?"YES":"NO"}

INCONSISTENCIES DETECTED:
${e.issues.length>0?e.issues.map(s=>`- ${s}`).join(`
`):"NONE"}

RECOMMENDATIONS:
${(n==null?void 0:n.recommendations.length)>0?n.recommendations.map(s=>`- ${s}`).join(`
`):"NONE"}

CSS VARIABLES:
${n?Object.entries(n.cssVariables).map(([s,i])=>`- ${s}: ${i||"EMPTY"}`).join(`
`):"NO DATA"}

RECENT DIAGNOSTICS:
${this.diagnostics.slice(-3).map((s,i)=>`
${i+1}. ${s.timestamp}
   Inconsistencies: ${s.inconsistencies.length}
   Theme: ${s.localStorage||"NOT SET"}
`).join(`
`)}
    `.trim()}};on(So,"instance");let pw=So;const hr=pw.getInstance(),mY=()=>hr.runDiagnostics(),pY=()=>hr.fixInconsistencies(),gY=()=>hr.checkSystemHealth(),yY=()=>(console.log(hr.exportReport()),hr.exportReport());typeof window<"u"&&(window.__themeDebugger=hr,window.__debugTheme=mY,window.__fixTheme=pY,window.__themeHealth=gY,window.__exportThemeReport=yY,console.log(" Theme debugging tools available globally:"),console.log("- __debugTheme() - Run theme diagnostics"),console.log("- __fixTheme() - Fix detected inconsistencies"),console.log("- __themeHealth() - Check system health"),console.log("- __exportThemeReport() - Generate full report"));const U0=new Set,Cr=()=>{const t=y.useCallback(()=>{if(typeof window>"u")return"light";const i=document.documentElement,a=i.classList.contains("dark"),o=i.classList.contains("shiny"),l=localStorage.getItem("stebe-theme");return o?"shiny":a?"dark":l&&["light","dark","shiny"].includes(l)?l:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},[]),[e,n]=y.useState(()=>t()),r=y.useCallback(i=>{if(typeof window>"u")return;const a=document.documentElement,o=document.body;a.classList.add("theme-transitioning"),a.classList.remove("dark","shiny");const l=document.querySelectorAll('[data-custom-color="true"], [style*="border-color"], [style*="color"]');["background","background-color","color","border-color","box-shadow","text-shadow","filter","backdrop-filter","background-image","border-image"].forEach(d=>{a.style.removeProperty(d),o.style.removeProperty(d)}),l.forEach(d=>{const h=d.style.borderColor,p=d.style.color;h&&(d.style.borderColor=h),p&&(d.style.color=p)}),["--background","--foreground","--card","--card-foreground","--popover","--popover-foreground","--primary","--primary-foreground","--secondary","--secondary-foreground","--muted","--muted-foreground","--accent","--accent-foreground","--destructive","--destructive-foreground","--border","--input","--ring","--sidebar-background","--sidebar-foreground","--sidebar-primary","--sidebar-primary-foreground","--sidebar-accent","--sidebar-accent-foreground","--sidebar-border","--sidebar-ring"].forEach(d=>{a.style.removeProperty(d)}),a.removeAttribute("style"),o.removeAttribute("style"),i==="dark"?a.classList.add("dark"):i==="shiny"&&a.classList.add("shiny"),a.offsetHeight,localStorage.setItem("stebe-theme",i),n(i),U0.forEach(d=>d(i)),setTimeout(()=>{a.classList.remove("theme-transitioning")},50)},[]);y.useEffect(()=>{r(e);const i=setTimeout(()=>{const o=hr.runDiagnostics();o.inconsistencies.length>0&&(console.warn(" Theme inconsistency detected!",o.inconsistencies),hr.checkSystemHealth().isHealthy||hr.fixInconsistencies())},100),a=()=>{const o=localStorage.getItem("stebe-theme");if(!o||o==="auto"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches;r(l?"dark":"light")}};return window.addEventListener("system-theme-change",a),()=>{clearTimeout(i),window.removeEventListener("system-theme-change",a)}},[e,r]);const s=y.useCallback(i=>{if(!["light","dark","shiny"].includes(i)){console.error("Invalid theme:",i);return}r(i)},[r]);return y.useEffect(()=>{const i=a=>{a!==e&&n(a)};return U0.add(i),()=>{U0.delete(i)}},[e]),{currentTheme:e,toggleTheme:s,isDark:e==="dark",isShiny:e==="shiny",isLight:e==="light",validateTheme:()=>{const i=document.documentElement,a=localStorage.getItem("stebe-theme"),o=i.classList.contains("dark"),l=i.classList.contains("shiny");let c="light";return l?c="shiny":o&&(c="dark"),{stored:a,actual:c,current:e,consistent:a===c&&c===e}},getDiagnostics:()=>hr.runDiagnostics(),fixInconsistencies:()=>hr.fixInconsistencies(),getHealthScore:()=>hr.checkSystemHealth(),exportReport:()=>hr.exportReport()}};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Lk=t=>{const e=bY(t);return e.charAt(0).toUpperCase()+e.slice(1)},sj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),wY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>y.createElement("svg",{ref:l,...xY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sj("lucide",s),...!i&&!wY(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>y.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(EY,{ref:i,iconNode:e,className:sj(`lucide-${vY(Lk(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Lk(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vk=Me("arrow-left",SY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_Y=Me("arrow-right",TY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],kY=Me("book",AY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],RY=Me("brain",CY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],NY=Me("briefcase",DY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uS=Me("calendar",IY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ij=Me("chevron-left",MY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dS=Me("chevron-right",PY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sy=Me("circle-check-big",OY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],LY=Me("circle-check",jY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uk=Me("circle-play",VY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FY=Me("circle-x",UY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zY=Me("circle",BY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aj=Me("clock",$Y);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],qY=Me("credit-card",HY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WY=Me("download",GY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fS=Me("eye-off",YY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hS=Me("eye",KY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fk=Me("file-text",QY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ZY=Me("gamepad-2",XY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],eK=Me("github",JY);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nK=Me("globe",tK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Bk=Me("hard-drive",rK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Rd=Me("heart",sK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oj=Me("info",iK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],oK=Me("lightbulb",aK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],F0=Me("loader-circle",lK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uK=Me("log-out",cK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fK=Me("mail",dK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zk=Me("pen-line",hK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qo=Me("plus",mK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gK=Me("refresh-cw",pK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lj=Me("save",yK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bK=Me("send",vK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mS=Me("settings",wK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$k=Me("shield",xK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SK=Me("smartphone",EK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gw=Me("sparkles",TK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AK=Me("star",_K);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CK=Me("target",kK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$c=Me("trash-2",RK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],NK=Me("trending-up",DK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yw=Me("user",IK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PK=Me("users",MK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ch=Me("x",OK),Hk="dailySummaries",cj={generateSummary:async t=>{const n=t.filter(r=>r.role==="user").slice(-5).map(r=>r.content);return`Resumen del ${new Date().toLocaleDateString("es-ES")}: ${n.join(", ")}`},saveDailySummary:async(t,e,n,r=[])=>{var l;const s=new Date().toISOString().split("T")[0],i=(l=Xe.currentUser)==null?void 0:l.uid,a={date:s,summary:t,tasksCompleted:e,tasksPending:n,keyPoints:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...i&&{userId:i}},o=`steeb_summary_${s}`;if(localStorage.setItem(o,JSON.stringify(a)),!!i)try{const c=ql(ke,Hk),u=Tt(c,`${i}_${s}`);await Js(u,{...a,ownerUid:i})}catch(c){c.message}},getTodaySummary:async()=>{var s;const t=new Date().toISOString().split("T")[0],e=`steeb_summary_${t}`,n=localStorage.getItem(e);if(n)return JSON.parse(n);const r=(s=Xe.currentUser)==null?void 0:s.uid;if(!r)return null;try{const i=ql(ke,Hk),a=Tt(i,`${r}_${t}`),o=await Kr(a);if(o.exists()){const l=o.data();return localStorage.setItem(e,JSON.stringify(l)),l}}catch(i){console.error("Error obteniendo resumen de Firebase:",i)}return null},getLastSummaries:async(t=7)=>{var n;if(!((n=Xe.currentUser)==null?void 0:n.uid))return[];try{const r=[],s=new Date;for(let i=0;i<t;i++){const a=new Date(s);a.setDate(a.getDate()-i);const l=`steeb_summary_${a.toISOString().split("T")[0]}`,c=localStorage.getItem(l);c&&r.push(JSON.parse(c))}return r}catch(r){return console.error("Error obteniendo resmenes:",r),[]}},getContextFromPreviousDays:async(t=3)=>{const e=await cj.getLastSummaries(t);if(e.length===0)return"";let n=`CONTEXTO DE DAS ANTERIORES:
`;return e.forEach(r=>{n+=`
 ${r.date}:
`,n+=`- ${r.summary}
`,r.keyPoints.length>0&&(n+=`- Puntos clave: ${r.keyPoints.join(", ")}
`)}),n}},iy="https://v0-steeb-api-backend-production.up.railway.app/api",qk=`${iy}/steeb`,jK=`${iy}/shiny-game`,LK=`${iy}/users/shiny-status`,Gk=`${iy}/shiny-stats`,Wk="steeb-user-id",VK=["OPEN_CALENDAR","OPEN_TASKS","OPEN_PROGRESS","CREATE_TASK","BUY_DARK_MODE","BUY_SHINY_ROLLS","PLAY_SHINY_GAME","SHOW_MOTIVATION","GET_SHINY_STATS"],UK=t=>Array.isArray(t)?t.map(e=>{if(!e||typeof e!="object")return null;const n=typeof e.type=="string"?e.type.toUpperCase():"",r=VK.find(i=>i===n);if(!r)return null;const s=e.payload&&typeof e.payload=="object"?e.payload:{};return{type:r,payload:s}}).filter(Boolean):[],Yk=()=>`steeb-${Date.now()}-${Math.floor(Math.random()*1e6)}`,pS=async()=>{if(typeof window>"u"||typeof window.localStorage>"u")return Yk();let t=window.localStorage.getItem(Wk);if(!t){t=Yk();try{window.localStorage.setItem(Wk,t)}catch{}}return t};async function uj(t){var o,l;const e=await pS();console.log(" STEEB  Endpoint usado:",qk),console.log(" STEEB  Enviando mensaje:",t);let n;try{n=await fetch(qk,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,userId:e})})}catch{throw new Error("No pudimos contactar al servidor de STEEB. Revisa tu conexin e intenta nuevamente.")}const r=await n.text();console.log(" STEEB  Status:",n.status),console.log(" STEEB  Raw:",r.slice(0,200));let s;try{s=r?JSON.parse(r):null}catch{throw new Error(`STEEB devolvi una respuesta invlida. (status ${n.status})`)}if(!n.ok||(s==null?void 0:s.success)===!1){const c=(s==null?void 0:s.error)??`Error ${n.status}`;throw new Error(typeof c=="string"?c:"Hubo un problema hablando con STEEB.")}const i=typeof((o=s==null?void 0:s.data)==null?void 0:o.reply)=="string"&&s.data.reply.trim().length>0?s.data.reply.trim():typeof(s==null?void 0:s.message)=="string"?s.message:"Listo, hacelo ahora.",a=UK((l=s==null?void 0:s.data)==null?void 0:l.actions);return{reply:i,actions:a}}async function FK(t,e){const n=e||await pS();console.log(" SHINY GAME  Jugando con nmero:",t,"User:",n);try{const r=await fetch(jK,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,guess:t})});let s=null;try{s=await r.json()}catch(i){return console.error("Error parseando respuesta de shiny-game:",i),{success:!1,message:"Respuesta invlida del servidor de juego."}}return r.ok?s:r.status===429?{success:!1,message:(s==null?void 0:s.message)||"Lmite diario alcanzado",nextAttemptIn:s==null?void 0:s.nextAttemptIn}:{success:!1,message:(s==null?void 0:s.message)||"Error al jugar Shiny Game"}}catch(r){return console.error("Error en playShinyGame:",r),{success:!1,message:r instanceof Error?r.message:"No pudimos contactar al servidor de juego. Revisa tu conexin."}}}async function BK(t){const e=t||await pS();try{const n=await fetch(`${LK}?userId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Error fetching shiny status");return await n.json()}catch(n){throw console.error("Error getting shiny status:",n),n}}async function dj(t){try{const e=t?`${Gk}?userId=${encodeURIComponent(t)}`:Gk,n=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await n.json();if(!n.ok||(r==null?void 0:r.success)===!1){const s=(r==null?void 0:r.message)||"No se pudieron obtener las estadsticas shiny.";throw new Error(s)}return r.data}catch(e){throw console.error("Error getting global shiny stats:",e),e}}const B0=Object.freeze(Object.defineProperty({__proto__:null,getGlobalShinyStats:dj,getShinyStatus:BK,playShinyGame:FK,sendMessageToSteeb:uj},Symbol.toStringTag,{value:"Module"})),fj=y.createContext(void 0),zK=async t=>{var i,a,o;const e=Tt(ke,"users",t.uid),n=await Kr(e),r=n.exists()?n.data():{},s=r.role||"white";return{id:t.uid,email:t.email||"",name:r.name||r.nombre||"",nickname:r.nickname||r.apodo||"",avatar:t.photoURL||r.avatar,provider:(i=t.providerData)!=null&&i.some(l=>((l==null?void 0:l.providerId)||"").includes("google"))?"google":"manual",createdAt:(((o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))||new Date).toISOString(),emailVerified:!!t.emailVerified,role:s,shinyRolls:r.shinyRolls||0}},$K=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0),{setupRealtimeListener:i,loadTasks:a}=_r();y.useEffect(()=>{(async()=>{if(ui)try{await jO(Xe,aS)}catch(x){console.warn(" Error configurando persistencia:",x)}})()},[]),y.useEffect(()=>{let g=null;if(!ui){n(null),s(!1);return}const x=ey(Xe,async D=>{var C;if(!D){n(null),s(!1),g&&(g(),g=null);return}n({id:D.uid,email:D.email||"",name:"",nickname:"",avatar:D.photoURL||void 0,provider:(C=D.providerData)!=null&&C.some(P=>((P==null?void 0:P.providerId)||"").includes("google"))?"google":"manual",createdAt:new Date().toISOString(),emailVerified:!!D.emailVerified}),s(!1),D.uid,g=i(D.uid);try{await a()}catch(P){console.error(" Error cargando tareas iniciales:",P)}try{const P=await zK(D);n(P)}catch{}});return()=>{x(),g&&g()}},[i,a]),y.useEffect(()=>{ui&&(async()=>{try{const g=await ej(Xe);if(g!=null&&g.user){const x=g.user.uid;try{const D=Tt(ke,"users",x);(await Kr(D)).exists()||await Js(D,{email:g.user.email,name:"",nickname:"",avatar:g.user.photoURL,provider:"google",ownerUid:x,createdAt:Kt(),updatedAt:Kt()})}catch(D){console.warn(" Error creando documento de usuario, continuando offline:",D)}}}catch{}})()},[]);const o=()=>{if(!ui)throw new Error("Firebase no est configurado. Completa .env y reinicia el servidor.")},l=async(g,x)=>{o(),await OO(Xe,g,x)},c=async(g=!1)=>{var E,_,R,N,I;if(o(),gi.isNativePlatform())try{const M=((_=(E=globalThis==null?void 0:globalThis.Capacitor)==null?void 0:E.Plugins)==null?void 0:_.GoogleAuth)||((N=(R=globalThis==null?void 0:globalThis.Capacitor)==null?void 0:R.Plugins)==null?void 0:N.Google);if(M!=null&&M.signIn){console.log("[GoogleAuth] Plugin disponible, iniciando signIn...");try{await M.initialize()}catch{}const V=await M.signIn();console.log("[GoogleAuth] Respuesta signIn:",JSON.stringify(V));const z=((I=V==null?void 0:V.authentication)==null?void 0:I.idToken)||(V==null?void 0:V.idToken);if(!z)throw console.error("[GoogleAuth] No se obtuvo idToken:",V),new Error("No se obtuvo idToken de Google");const L=gr.credential(z),U=await iS(Xe,L);console.log("[GoogleAuth] signInWithCredential completado");const j=U.user.uid,K=Tt(ke,"users",j);(await Kr(K)).exists()||await Js(K,{email:U.user.email,name:"",nickname:"",avatar:U.user.photoURL,provider:"google",ownerUid:j,createdAt:Kt(),updatedAt:Kt()});return}if(gi.getPlatform()==="ios"){await JO(Xe,Ho);return}throw new Error("Google Sign-In nativo no est disponible en esta instalacin. Reinstal la app o us Email/Contrasea.")}catch(M){console.error(" Error en autenticacin nativa:",M);const V=document.createElement("div");throw V.style.position="fixed",V.style.top="0",V.style.left="0",V.style.width="100%",V.style.height="100%",V.style.backgroundColor="rgba(0,0,0,0.9)",V.style.color="white",V.style.zIndex="99999",V.style.padding="20px",V.style.overflow="auto",V.innerHTML=`
          <h2>Error Google Sign-In</h2>
          <pre>${JSON.stringify(M,null,2)}</pre>
          <br/>
          <p>${String(M)}</p>
          <button onclick="this.parentElement.remove()" style="padding: 10px; background: white; color: black; margin-top: 20px;">Cerrar</button>
        `,document.body.appendChild(V),new Error("No se pudo usar el inicio de sesin nativo de Google. Actualiz STEEB o inicia con Email/Contrasea.")}const x=g?new gr:Ho;g&&x.setCustomParameters({prompt:"select_account"});const D=await KO(Xe,x),C=D.user.uid,P=Tt(ke,"users",C);(await Kr(P)).exists()||await Js(P,{email:D.user.email,name:"",nickname:"",avatar:D.user.photoURL,provider:"google",ownerUid:C,createdAt:Kt(),updatedAt:Kt()})},u=async(g,x,D,C)=>{o();const P=await PO(Xe,g,x),A=P.user.uid,E=Tt(ke,"users",A);try{await Js(E,{email:g,name:D,nombre:D,nickname:C,apodo:C,avatar:P.user.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(D)}&background=random`,provider:"manual",ownerUid:A,createdAt:Kt(),updatedAt:Kt()})}catch(_){console.warn("No se pudo crear el perfil en Firestore, pero el usuario fue creado en Auth.",_)}try{await dw(P.user)}catch(_){console.warn("No se pudo enviar el email de verificacin.",_)}},d=async()=>{o(),await UO(Xe)},h=async(g,x)=>{if(o(),!Xe.currentUser)return;const D=Xe.currentUser.uid;n(C=>C&&{...C,name:g,nickname:x}),(async()=>{try{const C=Tt(ke,"users",D);await wo(C,{name:g,nombre:g,nickname:x,apodo:x,updatedAt:Kt()})}catch(C){console.warn("No se pudo guardar el perfil en Firestore ahora mismo.",C)}})()},p=()=>{var x;return(((x=Xe.currentUser)==null?void 0:x.providerData)||[]).some(D=>D.providerId==="password")},v={user:e,isLoading:r,isAuthenticated:!!e,login:l,loginWithGoogle:c,register:u,logout:d,updateProfile:h,hasPasswordProvider:p,linkEmailPassword:async g=>{o();const x=Xe.currentUser;if(!x)throw new Error("No hay usuario autenticado");const D=x.email;if(!D)throw new Error("Tu cuenta de Google no tiene email disponible");if(p())return;const C=eo.credential(D,g);await uw(x,C)},resendEmailVerification:async()=>{if(o(),!Xe.currentUser)throw new Error("No hay usuario autenticado");await dw(Xe.currentUser)},linkGoogleAccount:async()=>{var E,_,R,N,I,M,V;o();const g=Xe.currentUser;if(!g)throw new Error("No hay usuario autenticado");if((E=g.providerData)==null?void 0:E.some(z=>((z==null?void 0:z.providerId)||"").includes("google")))return;if(gi.isNativePlatform())try{const z=((R=(_=globalThis==null?void 0:globalThis.Capacitor)==null?void 0:_.Plugins)==null?void 0:R.GoogleAuth)||((I=(N=globalThis==null?void 0:globalThis.Capacitor)==null?void 0:N.Plugins)==null?void 0:I.Google);if(z!=null&&z.signIn){try{await((M=z.initialize)==null?void 0:M.call(z))}catch{}const L=await z.signIn(),U=((V=L==null?void 0:L.authentication)==null?void 0:V.idToken)||(L==null?void 0:L.idToken);if(!U)throw new Error("No se obtuvo idToken de Google");const j=gr.credential(U);await uw(g,j)}else throw new Error("Plugin de Google no disponible")}catch(z){throw z}else await QO(g,Ho);const D=Xe.currentUser,C=D.uid,P=Tt(ke,"users",C);(await Kr(P)).exists()||await Js(P,{email:D.email,name:"",nickname:"",avatar:D.photoURL,provider:"google",ownerUid:C,createdAt:Kt(),updatedAt:Kt()}),n(z=>z&&{...z,provider:"google"})}};return Z.createElement(fj.Provider,{value:v},t)},Li=()=>{const t=y.useContext(fj);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},hj=()=>{const[t,e]=y.useState("free"),[n,r]=y.useState("white"),[s,i]=y.useState(!1),[a,o]=y.useState(null),[l,c]=y.useState(null),u=y.useCallback(async()=>{const p=Ia().currentUser;if(!p)return console.log(" No hay usuario autenticado"),e("free"),"free";i(!0),o(null);try{const S=Tt(ke,"users",p.uid),b=await Kr(S);if(b.exists()){const T=b.data(),v=(T==null?void 0:T.role)||"free",g=(T==null?void 0:T.tipoUsuario)||"white";return e(v),r(g),i(!1),v}else return e("free"),r("white"),i(!1),"free"}catch(S){return console.error(" Error verificando rol en Firebase:",S),o("Error al verificar el rol del usuario"),e("free"),r("white"),i(!1),"free"}},[]);y.useEffect(()=>{const h=Ia(),p=ey(h,S=>{if(c(S),S){const b=Tt(ke,"users",S.uid),T=Qg(b,v=>{if(v.exists()){const g=v.data(),x=(g==null?void 0:g.role)||"free",D=(g==null?void 0:g.tipoUsuario)||"white";x!==t&&(e(x),window.dispatchEvent(new CustomEvent("role-changed",{detail:{userId:S.uid,oldRole:t,newRole:x,timestamp:new Date}}))),D!==n&&r(D)}},v=>{console.error(" Error escuchando cambios de rol:",v)});return()=>{T()}}else e("free"),r("white")});return()=>{p()}},[t,n]);const d=y.useCallback(()=>(console.log(" Forzando verificacin manual..."),u()),[u]);return{userRole:t,tipoUsuario:n,isLoading:s,error:a,user:l,isPremium:t==="premium",checkUserRole:u,forceCheck:d}},$u={WHITE:"white",DARK:"dark",SHINY:"shiny"},z0={white:{canUseWhiteMode:!0,canUseDarkMode:!1,canUseShinyMode:!1,canBuyShinyRolls:!1},dark:{canUseWhiteMode:!0,canUseDarkMode:!0,canUseShinyMode:!1,canBuyShinyRolls:!0},shiny:{canUseWhiteMode:!0,canUseDarkMode:!0,canUseShinyMode:!0,canBuyShinyRolls:!0}},mj=()=>{const{user:t}=Li(),[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>{if(!t){n(null),s(!1);return}const p=Tt(ke,"users",t.id),S=Qg(p,async b=>{var T,v;try{if(b.exists()){const g=b.data();n({uid:t.id,email:t.email||"",name:g.name||t.name||"",nickname:g.nickname||"",role:g.role||$u.WHITE,avatar:g.avatar||t.avatar||"",shinyRolls:g.shinyRolls||0,createdAt:(T=g.createdAt)!=null&&T.toDate?g.createdAt.toDate():new Date,lastLoginAt:(v=g.lastLoginAt)!=null&&v.toDate?g.lastLoginAt.toDate():new Date})}else{const g={uid:t.id,email:t.email||"",name:t.name||"",nickname:t.nickname||t.name||"",role:$u.WHITE,avatar:t.avatar||"",shinyRolls:0,createdAt:new Date,lastLoginAt:new Date};await Js(p,{...g,createdAt:Kt(),lastLoginAt:Kt()}),n(g)}}catch(g){console.error("Error processing user profile snapshot:",g)}finally{s(!1)}},b=>{console.error("Error listening to user profile:",b),s(!1)});return()=>S()},[t]);const i=async()=>{if(!(!t||!e))try{const p=Tt(ke,"users",t.id);await wo(p,{lastLoginAt:Kt()})}catch(p){console.error("Error updating last login:",p)}},a=()=>e?z0[e.role]:z0[$u.WHITE],o=p=>{const S=a();switch(p){case"white":return S.canUseWhiteMode;case"dark":return S.canUseDarkMode;case"shiny":return S.canUseShinyMode;default:return!1}},l=()=>a().canBuyShinyRolls;return{userProfile:e,isLoading:r,getPermissions:a,canUseMode:o,canBuyShinyRolls:l,buyShinyRoll:async()=>{if(!e||!l())throw new Error("No tienes permisos para comprar tiradas shiny");try{const p=Tt(ke,"users",t.id),S=Tt(ke,"shinyRolls",`${t.id}_${Date.now()}`);await Js(S,{userId:t.id,purchasedAt:Kt(),used:!1,price:500});const b=(e.shinyRolls||0)+1;return await wo(p,{shinyRolls:b}),!0}catch(p){throw console.error("Error buying shiny roll:",p),p}},useShinyRoll:async()=>{if(!e||(e.shinyRolls||0)===0)throw new Error("No tienes tiradas shiny disponibles");try{const p=Tt(ke,"users",t.id),S=await Kr(Tt(ke,"shinyRolls",`${t.id}_unused`));if(S.exists())await wo(S.ref,{used:!0,usedAt:Kt()});else{const T=Tt(ke,"shinyRolls",`${t.id}_${Date.now()}`);await Js(T,{userId:t.id,purchasedAt:Kt(),used:!0,usedAt:Kt(),price:0})}const b=Math.max((e.shinyRolls||0)-1,0);return await wo(p,{shinyRolls:b}),!0}catch(p){throw console.error("Error using shiny roll:",p),p}},updateUserRole:async p=>{if(!e)throw new Error("No hay perfil de usuario");try{const S=Tt(ke,"users",t.id);return await wo(S,{role:p}),!0}catch(S){throw console.error("Error updating user role:",S),S}},getRoleInfo:()=>{if(!e)return null;const p=e.role,S=z0[p];return{role:p,permissions:S,canUpgradeToDark:p===$u.WHITE,canUpgradeToShiny:p!==$u.SHINY,shinyRollsAvailable:e.shinyRolls||0}},updateLastLogin:i}},pj=t=>t?`steeb-profile-${t}`:null,vw=t=>{if(typeof window>"u")return null;const e=pj(t);if(!e)return null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch{return null}},Kk=(t,e)=>{if(typeof window>"u")return null;const n=pj(t);if(!n)return null;try{const s={...vw(t)||{},...e,lastUpdated:new Date().toISOString()};return window.localStorage.setItem(n,JSON.stringify(s)),s}catch{return null}},_o="__steebPendingMessages",gj=()=>{if(!(typeof window>"u"))return window},HK=(t,e="steeb-message")=>{if(!(typeof window>"u")){try{const n=gj();n&&(Array.isArray(n[_o])||(n[_o]=[]),n[_o].push({channel:e,detail:t}))}catch{}window.dispatchEvent(new CustomEvent(e,{detail:t}))}},qK=t=>{const e=gj();if(!(!e||!Array.isArray(e[_o])||!e[_o].length))try{const n=[...e[_o]];e[_o].length=0,n.forEach(({channel:r,detail:s})=>t(s,r))}catch{}},yj=t=>t?`steeb-dark-welcome-${t}`:"steeb-dark-welcome",vj=(t,e)=>{const n=e!=null&&e.trim().length?e.trim():"Che",r=t?`sos el usuario BLACK #${t}`:"ya sos usuario BLACK";return`${n}, ${r}. Bienvenido al club: el botn de Dark Mode est arriba a la derecha para que no te quemes los ojos. Adems te regalo una tirada SHINY; cuando quieras usarla escribime jugar "shiny".`},bj=(t,e)=>{HK({type:"payment-success",content:vj(t,e),timestamp:new Date})},$0=({isOpen:t,onClose:e,children:n,onHeightChange:r,minHeight:s=400})=>{const{currentTheme:i}=Cr(),a=i==="dark",l=a||i==="shiny",c=Math.max(s,window.innerHeight*.5);return y.useEffect(()=>{r&&t&&r(c)},[t,r,c]),m.jsx(m.Fragment,{children:t&&m.jsxs("div",{className:`fixed left-0 right-0 transition-all duration-300 ease-out ${l?"bg-black text-white":"bg-white text-black"}`,style:{zIndex:30,bottom:0,height:`${c}px`,borderTop:"1px solid rgba(128, 128, 128, 0.2)",pointerEvents:"auto",boxShadow:"0 -4px 20px rgba(0,0,0,0.1)"},children:[m.jsx("button",{"data-custom-color":"true",onClick:e,className:`fixed-panel-close-btn absolute top-3 left-3 z-50 p-1 transition-colors border-0 outline-none focus:outline-none focus:border-none focus:ring-0 ring-0 ${l?"text-white":"text-black"}`,style:{border:a?"1px solid #000000":"none",outline:"none !important",boxShadow:"none !important",background:a?"#000000":"transparent",borderWidth:a?"1px":"0px",borderColor:a?"#000000":"transparent"},title:"Cerrar panel",children:m.jsx(ch,{className:"w-4 h-4"})}),m.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2",children:m.jsx("div",{className:`w-8 h-1 rounded-full opacity-20 ${l?"bg-gray-500":"bg-gray-400"}`})}),m.jsx("div",{className:"h-full overflow-hidden pt-1",children:n})]})})},Qk=["#ff0000","#ff4000","#ff8000","#ffc000","#ffff00","#00ff00","#00ff80","#00c0ff","#0000ff","#4000ff","#c000ff","#ff00ff"],GK=({onClose:t})=>{const{currentTheme:e}=Cr(),{tasks:n,toggleTask:r,deleteTask:s}=_r(),i=e==="dark",a=e==="shiny",o=!i&&!a,[l,c]=y.useState(!1),u=80,d=160,[h,p]=y.useState({}),[S,b]=y.useState({}),T=y.useRef(null),v=y.useRef(0),g=N=>I=>{var M,V;(V=(M=I.currentTarget).setPointerCapture)==null||V.call(M,I.pointerId),T.current=N,v.current=I.clientX,document.body.style.userSelect="none"},x=N=>I=>{if(T.current!==N)return;const M=v.current-I.clientX;if(M>0){I.preventDefault();const V=Math.min(M,d);p(z=>({...z,[N]:V}))}else if(M<0){const V=Math.max(0,(h[N]??0)+M);p(z=>({...z,[N]:V}))}},D=N=>{(h[N]||0)>u?(b(M=>({...M,[N]:!0})),setTimeout(()=>{s(N),p(M=>{if(!(N in M))return M;const V={...M};return delete V[N],V}),b(M=>({...M,[N]:!1}))},300)):setTimeout(()=>{p(M=>({...M,[N]:0}))},50),T.current=null,document.body.style.userSelect=""},C=N=>I=>{I.stopPropagation(),D(N)},P=n.filter(N=>!N.completed),A=n.filter(N=>N.completed),E=A.length>0,_=N=>Qk[N%Qk.length],R=(N,I)=>{if(a){const V=_(I);return{"--simple-checkbox-border":V,borderColor:V,backgroundColor:N?V:"transparent"}}const M=i?"#ffffff":"#000000";return{"--simple-checkbox-border":M,borderColor:M,backgroundColor:N?M:"transparent"}};return m.jsxs("div",{className:`h-full flex flex-col ${o?"bg-white text-black":"bg-black text-white"}`,children:[m.jsx("div",{className:`p-1 pt-2 flex items-center justify-center ${o?"border-b-2 border-white":""}`,children:m.jsx("h2",{className:"text-3xl font-bold",children:"Tareas"})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2 pt-3 space-y-6",children:[P.length>0?m.jsx("div",{className:"space-y-0",children:P.map((N,I)=>{const M=S[N.id]||!1,V=a?_(I):void 0;return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`absolute inset-0 rounded-lg flex items-center justify-end pr-3 transition-all duration-300 ease-out ${(h[N.id]||0)>10?"opacity-100":"opacity-0"} ${a?"bg-black":i?"bg-gray-800":"bg-gray-200"}`,children:m.jsx($c,{className:`w-4 h-4 ${a||i?"text-white":"text-black"}`})}),m.jsxs("div",{className:`simple-task-card flex items-center gap-3 p-3 rounded-lg transition-all duration-300 mb-6 ${M?"bg-black dark:bg-white animate-pulse":a?"bg-black border border-black":i?"bg-black border border-white":"bg-gray-50 border border-white"}`,style:{...a?{borderLeft:`4px solid ${V}`}:o?{borderLeft:"3px solid black"}:{},transform:`translateX(-${h[N.id]||0}px)`,transition:T.current===N.id?"none":"transform 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",touchAction:"pan-y",userSelect:(h[N.id]||0)>0?"none":void 0,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",marginTop:"24px"},onPointerDown:g(N.id),onPointerMove:x(N.id),onPointerUp:C(N.id),onPointerCancel:C(N.id),onContextMenu:z=>z.preventDefault(),children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:`text-sm font-bold break-words leading-tight ${M?"text-white dark:text-black":""}`,children:N.title}),m.jsx("p",{className:`text-xs opacity-70 mt-1 ${M?"text-white dark:text-black":""}`,children:N.category||"Sin categoria"})]}),m.jsx("button",{onClick:z=>{z.stopPropagation(),r(N.id).catch(L=>{console.error("Error al completar tarea:",L)})},className:"simple-task-checkbox flex-shrink-0 w-4 h-4 rounded-full transition-all duration-200 border-2",title:"Completar tarea",style:R(N.completed,I)})]})]},N.id)})}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-2",children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${o?"bg-gray-200":"bg-gray-800"}`,children:m.jsx(sy,{className:`w-6 h-6 ${o?"text-gray-400":"text-gray-600"}`})}),m.jsx("p",{className:`text-sm font-medium ${o?"text-black":"text-white"}`,children:"No hay tareas pendientes"}),m.jsx("p",{className:`text-xs ${o?"text-gray-600":"text-gray-400"}`,children:"Todas tus tareas estan completadas"})]}),m.jsx("div",{className:"px-1",children:m.jsx("button",{onClick:()=>c(N=>!N),disabled:!E,className:`task-eye-toggle w-full py-2 flex items-center justify-center ${E?"":"cursor-not-allowed"}`,children:l?m.jsx(fS,{className:"w-5 h-5"}):m.jsx(hS,{className:"w-5 h-5"})})}),l&&A.length>0&&m.jsx("div",{className:"space-y-4 pb-6",children:A.map((N,I)=>{const M=a?_(I):void 0;return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`absolute inset-0 rounded-lg flex items-center justify-end pr-3 transition-all duration-300 ease-out ${(h[N.id]||0)>10?"opacity-100":"opacity-0"} ${a?"bg-black":"bg-gray-800"}`,children:m.jsx($c,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{className:`simple-task-card flex items-center gap-3 p-3 rounded-lg transition-all duration-300 ${a?"bg-black border border-black text-white":i?"bg-black border border-white text-white":"bg-white border border-white text-black"}`,style:{...a?{borderLeft:`4px solid ${M}`}:o?{borderLeft:"4px solid #000000"}:{},transform:`translateX(-${h[N.id]||0}px)`,transition:T.current===N.id?"none":"transform 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},onPointerDown:g(N.id),onPointerMove:x(N.id),onPointerUp:C(N.id),onPointerCancel:C(N.id),onContextMenu:V=>V.preventDefault(),children:[m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("p",{className:`text-sm font-bold break-words leading-tight line-through opacity-70 ${o?"text-black":""}`,children:N.title})}),m.jsx("button",{onClick:V=>{V.stopPropagation(),r(N.id).catch(z=>{console.error("Error al completar tarea:",z)})},className:"simple-task-checkbox flex-shrink-0 w-4 h-4 rounded-full transition-all duration-200 border-2",title:"Marcar como pendiente",style:R(N.completed,I)})]})]},N.id)})})]})]})},WK=({onClose:t})=>{const{currentTheme:e}=Cr(),{tasks:n}=_r(),[r,s]=y.useState("week"),i=e==="dark",a=e==="shiny",o=i||a,l=["#ff0000","#ff4000","#ff8000","#ffc000","#ffff00","#00ff00","#00ff80","#00c0ff","#0000ff","#4000ff","#c000ff","#ff00ff"],c=["#ff004c","#ff7a00","#ffe600","#00ff66","#00c2ff","#8b00ff","#ff00ff"],u=["#ff004c","#ff7a00","#ffe600","#00ff66","#00c2ff","#8b00ff","#ff00ff"],d=[l[0],l[1],l[2],l[3]],h=y.useRef(null),[p,S]=y.useState(250),[b,T]=y.useState(!1);y.useEffect(()=>{T(!0);const _=setTimeout(()=>T(!1),100);return()=>clearTimeout(_)},[r]),y.useEffect(()=>{if(!h.current)return;const _=new ResizeObserver(R=>{for(const N of R){const I=N.contentRect.height;Math.abs(I-p)>5&&S(I)}});return _.observe(h.current),()=>_.disconnect()},[]);const v=()=>["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][new Date().getMonth()],g=()=>{const R=new Date().getDate(),N=v().toLowerCase();let I;return R<=7?I=1:R<=14?I=2:R<=21?I=3:I=4,`${["Primera","Segunda","Tercera","Cuarta"][I-1]} semana de ${N}`},x=y.useMemo(()=>{const _=new Date,R=new Date(_.getTime()-7*24*60*60*1e3),N=n.filter(L=>new Date(L.completedAt||L.createdAt)>=R&&L.completed),I=_.getMonth(),M=_.getFullYear(),V=n.filter(L=>{const U=new Date(L.completedAt||L.createdAt);return U.getMonth()===I&&U.getFullYear()===M&&L.completed}),z=n.filter(L=>new Date(L.completedAt||L.createdAt).getFullYear()===M&&L.completed);return{weekCompleted:N.length,monthCompleted:V.length,yearCompleted:z.length}},[n]),D=y.useMemo(()=>{const _=new Date;let R=n;switch(r){case"week":const L=new Date(_.getTime()-6048e5);R=n.filter(K=>new Date(K.createdAt)>=L);break;case"month":const U=new Date(_.getTime()-30*24*60*60*1e3);R=n.filter(K=>new Date(K.createdAt)>=U);break;case"year":const j=_.getFullYear();R=n.filter(K=>new Date(K.createdAt).getFullYear()===j);break}const N=R.length,I=R.filter(L=>L.completed).length,M=N>0?Math.round(I/N*100):0;let V=0,z=new Date(_);for(;V<30&&n.filter(U=>new Date(U.completedAt||U.createdAt).toDateString()===z.toDateString()&&U.completed).length>0;)V++,z.setDate(z.getDate()-1);return{total:N,completed:I,pending:N-I,completionRate:M,streak:V,averagePerDay:(I/(r==="week"?7:r==="month"?30:365)).toFixed(1)}},[n,r]),C=y.useMemo(()=>(_,R,N)=>{const M=Math.max(80,N-50),V=Math.max(6,M*.06);if(_===0)return V;const z=R/_*M*.9;return Math.max(z,V)},[]),P=y.useMemo(()=>{const R=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"].map((I,M)=>{const V=n.filter(z=>new Date(z.completedAt||z.createdAt).getDay()===M&&z.completed);return{day:I.charAt(0).toUpperCase(),completed:V.length,total:V.length}}),N=Math.max(...R.map(I=>I.completed),1);return R.map(I=>({...I,scaledHeight:C(N,I.completed,p)}))},[n,p,C]),A=y.useMemo(()=>{const _=new Date,R=_.getMonth(),N=_.getFullYear(),I=[];for(let V=1;V<=4;V++){const z=n.filter(L=>{const U=new Date(L.completedAt||L.createdAt),j=U.getMonth(),K=U.getFullYear(),Q=U.getDate();if(j!==R||K!==N||!L.completed)return!1;let pe=(V-1)*7+1,ae=Math.min(V*7,new Date(N,R+1,0).getDate());return Q>=pe&&Q<=ae});I.push({week:`Sem ${V}`,completed:z.length,total:z.length})}const M=Math.max(...I.map(V=>V.completed),1);return I.map(V=>({...V,scaledHeight:C(M,V.completed,p)}))},[n,p,C]),E=y.useMemo(()=>{const _=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],N=new Date().getFullYear(),I=_.map((V,z)=>{const L=n.filter(U=>{const j=new Date(U.completedAt||U.createdAt);return j.getMonth()===z&&j.getFullYear()===N&&U.completed});return{month:V,completed:L.length,total:L.length}}),M=Math.max(...I.map(V=>V.completed),1);return I.map(V=>({...V,scaledHeight:C(M,V.completed,p)}))},[n,p,C]);return m.jsxs("div",{className:`simple-progress-panel h-full flex flex-col ${o?"bg-black text-white":"bg-white text-black"}`,children:[m.jsx("div",{className:`p-2 flex items-center justify-center ${!i&&!a?"border-b-2 border-white":""} ${a?"bg-black border-b-2 border-black":""}`,children:m.jsx("h2",{className:`text-xl font-bold ${a?"text-white":""}`,style:a?{color:"#ffffff"}:void 0,children:r==="year"?new Date().getFullYear():r==="week"?g():v()})}),m.jsxs("div",{className:"flex-1 flex flex-col",style:{minHeight:"250px"},children:[m.jsx("div",{className:"text-center py-0 px-2",children:m.jsx("div",{className:`inline-block px-2 py-0.5 rounded-lg border-0 ${a?"bg-black text-white":i?"bg-black/80 text-white":"bg-white/80 text-black"} backdrop-blur-sm`,style:a?{backgroundColor:"#000000",color:"#ffffff",border:"1px solid #000000"}:void 0,children:m.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[90px]",children:[m.jsx("div",{className:`text-4xl font-black leading-none w-full text-center ${a?"text-white":""}`,style:a?{color:"#ffffff"}:void 0,children:r==="week"?x.weekCompleted:r==="month"?x.monthCompleted:x.yearCompleted}),m.jsx("div",{className:`text-sm font-medium opacity-90 mt-0 w-full text-center ${a?"text-white":""}`,style:a?{color:"#ffffff"}:void 0,children:r==="week"?"tareas hiciste esta semana":r==="month"?"tareas hiciste este mes":"tareas hiciste este ao"})]})})}),m.jsx("div",{className:"absolute top-2 right-2 z-10",children:m.jsx("button",{onClick:()=>{const _=[],R=new Date,N=R.getFullYear(),I=R.getMonth();if(r==="year")for(let V=0;V<12;V++){const z=Math.floor(Math.random()*6)+3;for(let L=0;L<z;L++){const U=new Date(N,V+1,0).getDate(),j=Math.floor(Math.random()*U)+1,K=new Date(N,V,j),Q=Math.random()>.2;_.push({id:`test-y-${V}-${L}`,title:`Test Task ${V+1}-${L+1}`,completed:Q,createdAt:K.toISOString(),completedAt:Q?K.toISOString():null})}}else if(r==="month"){const V=new Date(N,I,1);for(let z=1;z<=4;z++){let L=(z-1)*7+1,U=Math.min(z*7,new Date(N,I+1,0).getDate());const j=V.getDay();L=Math.max(1,L-j),U=Math.min(new Date(N,I+1,0).getDate(),U-j+(z===1?j+1:0));const K=Math.floor(Math.random()*6)+3;for(let Q=0;Q<K;Q++){const pe=Math.floor(Math.random()*(U-L+1))+L,ae=new Date(N,I,pe),re=Math.random()>.2;_.push({id:`test-m-w${z}-${Q}`,title:`Test Task M${z}-${Q+1}`,completed:re,createdAt:ae.toISOString(),completedAt:re?ae.toISOString():null})}}}else{const V=new Date(R.getTime()-6048e5),z=7;for(let L=0;L<z;L++){const U=new Date(V.getTime()+L*24*60*60*1e3),j=Math.floor(Math.random()*3)+1;for(let K=0;K<j;K++){const Q=Math.random()>.2;_.push({id:`test-w-day${L}-${K}`,title:`Test Task Day${L}-${K+1}`,completed:Q,createdAt:U.toISOString(),completedAt:Q?U.toISOString():null})}}}const{setTasks:M}=_r.getState();M(_)},className:"w-6 h-6 bg-white rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors shadow-sm opacity-20 hover:opacity-100",children:m.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),m.jsxs("div",{ref:h,className:`p-1 rounded-lg flex flex-col relative ${o?"bg-black border-0":"bg-gray-50 border border-white"}`,style:{height:"auto",minHeight:"230px",maxHeight:"none",minWidth:r==="year"?"280px":"auto",flex:"1",overflow:"hidden",marginBottom:"24px",marginTop:"0px"},children:[m.jsx("div",{className:"flex items-end justify-center px-1",style:{gap:r==="month"?"1.5rem":r==="year"?"0.1rem":"0.4rem",height:"calc(100% - 8px)",minHeight:"80px",maxHeight:"calc(100% - 8px)"},children:r==="week"?P.map((_,R)=>m.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[m.jsx("div",{className:"chart-bar w-8 rounded flex items-center justify-center relative overflow-hidden",style:{height:b?"0px":`${_.scaledHeight}px`,backgroundColor:a?c[R]??"#000000":i?"#FFFFFF":"#000000",background:a?c[R]??"#000000":i?"#FFFFFF":"#000000",backgroundClip:"padding-box",WebkitAppearance:"none",transition:`height 800ms cubic-bezier(0.34, 1.56, 0.64, 1) ${R*50}ms`,willChange:"height",transformOrigin:"bottom",transform:"translateZ(0)"},children:_.completed>0&&m.jsx("span",{className:"chart-bar-value font-bold flex items-center justify-center text-white",style:{fontSize:`${Math.min(12,Math.max(8,_.scaledHeight/3))}px`,lineHeight:1,padding:"2px"},children:_.completed})}),m.jsx("div",{className:"flex items-center justify-center mt-0 text-xs",style:{fontSize:"11px"},children:m.jsx("span",{className:`font-medium ${a?"":o?"text-white":"text-black"}`,style:a?{color:u[R]??"#ffffff"}:void 0,children:_.day})})]},R)):r==="month"?A.map((_,R)=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"chart-bar w-16 rounded flex items-center justify-center relative overflow-hidden",style:{height:b?"0px":`${_.scaledHeight}px`,backgroundColor:a?d[R%d.length]:i?"#FFFFFF":"#000000",background:a?d[R%d.length]:i?"#FFFFFF":"#000000",backgroundClip:"padding-box",WebkitAppearance:"none",transition:`height 800ms cubic-bezier(0.34, 1.56, 0.64, 1) ${R*100}ms`,willChange:"height",transformOrigin:"bottom",transform:"translateZ(0)"},children:_.completed>0&&m.jsx("span",{className:"chart-bar-value font-bold flex items-center justify-center text-white",style:{fontSize:`${Math.min(14,Math.max(9,_.scaledHeight/3))}px`,lineHeight:1,padding:"3px"},children:_.completed})}),m.jsx("div",{className:"flex items-center justify-center mt-1 text-xs",style:{fontSize:"10px"},children:m.jsx("span",{className:`font-medium ${o?"text-white":"text-black"}`,children:_.week})})]},R)):E.map((_,R)=>m.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[m.jsx("div",{className:"chart-bar w-7 rounded flex items-center justify-center relative overflow-hidden",style:{height:b?"0px":`${_.scaledHeight}px`,backgroundColor:a?l[R%l.length]:i?"#FFFFFF":"#000000",background:a?l[R%l.length]:i?"#FFFFFF":"#000000",backgroundClip:"padding-box",WebkitAppearance:"none",transition:`height 800ms cubic-bezier(0.34, 1.56, 0.64, 1) ${R*30}ms`,willChange:"height",transformOrigin:"bottom",transform:"translateZ(0)"},children:_.completed>0&&m.jsx("span",{className:"chart-bar-value font-bold flex items-center justify-center text-white",style:{fontSize:`${Math.min(9,Math.max(6,_.scaledHeight/4))}px`,lineHeight:1,padding:"1px"},children:_.completed})}),m.jsx("div",{className:"flex items-center justify-center mt-1 text-xs",style:{fontSize:"10px"},children:m.jsx("span",{className:`font-medium ${a?"":o?"text-white":"text-black"}`,style:a?{color:l[R%l.length]}:void 0,children:_.month})})]},R))}),m.jsxs("div",{className:`px-1.5 py-0.5 rounded-lg border mx-2 mb-1 ${o?"bg-black border-0":"bg-gray-50 border-white"}`,children:[m.jsx("div",{className:`progress-track w-full h-2 rounded-full overflow-hidden relative ${o?"bg-gray-600":""}`,style:{backgroundColor:o?"#4B5563":"#E5E7EB"},children:m.jsx("div",{className:`progress-fill h-full transition-all duration-500 ease-out ${o?"bg-white":""}`,style:{backgroundColor:o?"#FFFFFF":"#000000",width:`${D.completionRate}%`,willChange:"width",minWidth:D.completionRate>0?"20px":"0px",mixBlendMode:o?"normal":void 0}})}),m.jsx("div",{className:"flex justify-center items-center mt-1",children:m.jsxs("span",{className:`text-sm font-medium opacity-70 no-underline ${o?"":"text-gray-700"}`,style:{textDecoration:"none",color:a?"#ffffff":o?"#000000":void 0},children:[D.completed," de ",D.total]})})]}),m.jsx("div",{className:"h-2 w-full"})]})]}),m.jsx("div",{className:`pb-4 px-5 flex justify-center ${!i&&!a?"border-t border-white":""} ${a?"bg-black border-t border-black":""}`,children:m.jsx("div",{className:`relative flex rounded-full px-4 py-2 w-full ${a||i?"bg-black border border-transparent":"bg-gray-100"}`,children:[{value:"week",label:"Semana"},{value:"month",label:"Mes"},{value:"year",label:"Ao"}].map((_,R)=>{const N=r===_.value,I=i?N?"bg-white text-black shadow-none":"bg-black text-white shadow-none":a?N?"bg-black text-white shadow-none":"bg-white text-black hover:bg-white":N?"bg-black text-white shadow-none":"bg-transparent text-black hover:bg-gray-200";return m.jsx("button",{"data-custom-color":"true",onClick:()=>s(_.value),className:`view-mode-btn ${I} relative flex-1 py-1.5 text-base font-sans font-medium transition-all duration-200 ease-in-out ${R===0?"rounded-l-full":""} ${R===2?"rounded-r-full":""} ${R===1?"-mx-px":""}`,style:{fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:m.jsx("span",{children:_.label})},_.value)})})})]})},YK={productividad:CK,organizacion:NY,aprendizaje:kY,creatividad:oK,salud:Rd,social:PK,entretenimiento:ZY,extra:qo},H0=["#ff004c","#ff7a00","#ffe600","#00ff66","#00c2ff","#8b00ff","#ff00ff"],KK=({onClose:t})=>{const{currentTheme:e}=Cr(),{tasks:n,toggleTask:r,deleteTask:s}=_r(),[i,a]=y.useState(new Date),[o,l]=y.useState(null),c=e==="dark",u=e==="shiny",d=c||u,h=80,p=160,[S,b]=y.useState({}),[T,v]=y.useState({}),g=y.useRef(null),x=y.useRef(0),D=y.useMemo(()=>{const I=i.getFullYear(),M=i.getMonth(),V=new Date(I,M,1),z=new Date(I,M+1,0),L=(V.getDay()+6)%7,U=[];for(let j=0;j<L;j++)U.push(null);for(let j=1;j<=z.getDate();j++){const K=new Date(I,M,j),Q=K.toISOString().split("T")[0],pe=n.filter(se=>{let Ne;if(se.scheduledDate)Ne=new Date(se.scheduledDate);else if(se.createdAt)Ne=new Date(se.createdAt);else if(se.completedAt)Ne=new Date(se.completedAt);else return!1;return Ne.toISOString().split("T")[0]===Q}),ae=pe.filter(se=>se.completed),re=pe.filter(se=>!se.completed),de={};pe.forEach(se=>{const Ne=se.type||"extra";de[Ne]||(de[Ne]={total:0,completed:0}),de[Ne].total++,se.completed&&de[Ne].completed++}),U.push({date:K,day:j,tasks:pe,completedTasks:ae,pendingTasks:re,total:pe.length,completed:ae.length,pending:re.length,tasksByType:de})}return U},[n,i]);y.useMemo(()=>{const I=D.filter(U=>U!==null),M=I.reduce((U,j)=>U+j.total,0),V=I.reduce((U,j)=>U+j.completed,0),z=M>0?Math.round(V/M*100):0,L={};return I.forEach(U=>{Object.entries(U.tasksByType).forEach(([j,K])=>{L[j]||(L[j]={total:0,completed:0}),L[j].total+=K.total,L[j].completed+=K.completed})}),{total:M,completed:V,pending:M-V,completionRate:z,typeStats:L}},[D]);const C=I=>{a(M=>{const V=new Date(M);return I==="prev"?V.setMonth(M.getMonth()-1):V.setMonth(M.getMonth()+1),V}),l(null)},P=i.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),A=o?D.find(I=>I&&I.date.toDateString()===o.toDateString()):null,E=I=>M=>{var V,z;(z=(V=M.currentTarget).setPointerCapture)==null||z.call(V,M.pointerId),g.current=I,x.current=M.clientX,document.body.style.userSelect="none"},_=I=>M=>{if(g.current!==I)return;const V=x.current-M.clientX;if(V>0){M.preventDefault();const z=Math.min(V,p);b(L=>({...L,[I]:z}))}else if(V<0){const z=Math.max(0,(S[I]||0)+V);b(L=>({...L,[I]:z}))}},R=async I=>{if((S[I]||0)>h){v(V=>({...V,[I]:!0})),b(V=>({...V,[I]:p}));try{await s(I)}catch(V){console.error("Error al eliminar tarea del calendario:",V)}finally{b(V=>{if(!(I in V))return V;const z={...V};return delete z[I],z}),v(V=>({...V,[I]:!1}))}}else b(V=>({...V,[I]:0}));g.current=null,document.body.style.userSelect=""},N=I=>M=>{M.stopPropagation(),R(I)};return m.jsxs("div",{className:`h-full flex flex-col ${d?"bg-black text-white":"bg-white text-black"}`,style:{transform:"scale(0.9)",transformOrigin:"top center"},children:[m.jsx("div",{className:"p-4 flex items-center justify-center",children:m.jsx("h2",{className:"text-xl font-bold flex items-center",style:u?{color:"#ffffff"}:void 0})}),m.jsxs("div",{className:"p-2 flex items-center justify-between",children:[m.jsx("button",{onClick:()=>C("prev"),className:"p-1 rounded transition-colors border-0 bg-transparent",children:m.jsx(ij,{className:"w-4 h-4"})}),m.jsx("h3",{className:"text-2xl font-bold capitalize",style:u?{color:"#ffffff"}:void 0,children:P}),m.jsx("button",{onClick:()=>C("next"),className:"p-1 rounded transition-colors border-0 bg-transparent",children:m.jsx(dS,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[m.jsxs("div",{className:`rounded-lg mb-2 ${c||u?"bg-black":"bg-gray-50"}`,children:[m.jsx("div",{className:`grid grid-cols-7 gap-2 mb-1 ${u?"text-white":""}`,children:["L","M","M","J","V","S","D"].map((I,M)=>m.jsx("div",{className:`text-center text-base font-medium opacity-70 ${u?"text-white":""}`,children:I},`weekday-${M}`))}),m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-1",children:D.map((I,M)=>{if(I===null)return m.jsx("div",{className:"h-10"},`empty-${M}`);const V=I.date.toDateString()===new Date().toDateString(),z=(o==null?void 0:o.toDateString())===I.date.toDateString(),L=I.total>0,U=I.total>0&&I.completed===I.total,j=u?`bg-black text-white ${z?"shadow-lg scale-110 border border-white":""}`:c?z?"bg-white text-black border border-white shadow-lg scale-110":V?"bg-black text-white border border-white":U||L?"bg-black text-white":"bg-black text-white border border-transparent":z?"bg-black text-white shadow-lg scale-110":V?"bg-gray-300":U||L?"bg-white":"bg-gray-100";return m.jsxs("div",{onClick:()=>l(I.date),className:`flex flex-col items-center justify-center rounded-lg text-base relative cursor-pointer transition-all hover:scale-105 ${j}`,title:`${I.day} - ${I.completed}/${I.total} tareas`,children:[m.jsx("span",{className:`font-medium ${u?"text-white":""} ${c&&z?"text-black":""}`,children:I.day}),I.total>0&&m.jsx("div",{className:"w-1/2 mt-1 mx-auto",children:m.jsx("div",{className:`simple-calendar-progress-track w-full h-1 rounded-full overflow-hidden ${u?"bg-white/30":c?"bg-gray-700":"bg-gray-300"}`,children:m.jsx("div",{className:"simple-calendar-progress-fill h-full transition-all duration-300",style:{width:`${I.completed/I.total*100}%`,backgroundColor:u?H0[(I.date.getDay()+6)%7]??"#ffffff":"#000000"}})})})]},I.day)})})]}),A&&m.jsxs("div",{className:`p-3 rounded-lg mb-3 ${u?"bg-black text-white border border-black":c?"bg-black text-white":"bg-gray-50"}`,children:[m.jsx("div",{className:"flex justify-center items-center mb-2",children:m.jsxs("h4",{className:"text-xl font-bold text-center",children:[A.day," de ",i.toLocaleDateString("es-ES",{month:"long"})]})}),A.tasks.length>0?m.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:A.tasks.map((I,M)=>{const V=YK[I.type||"extra"]||qo,z=H0[M%H0.length]||"#ffffff",L=T[I.id]||!1;return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`absolute inset-0 rounded-lg flex items-center justify-end pr-3 transition-opacity duration-200 ${(S[I.id]||0)>10?"opacity-100":"opacity-0"} ${d?"bg-gray-900":"bg-gray-200"}`,children:m.jsx($c,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{className:`flex items-center space-x-3 text-base p-4 rounded-lg ${u?"bg-black text-white border border-black":c?"bg-black text-white border border-transparent":"bg-gray-100"} ${L?"opacity-50":""}`,style:{...u?{borderLeft:`4px solid ${z}`}:c?{borderLeft:"4px solid #ffffff"}:void 0,transform:`translateX(-${S[I.id]||0}px)`,transition:g.current===I.id?"none":"transform 200ms ease"},onPointerDown:E(I.id),onPointerMove:_(I.id),onPointerUp:N(I.id),onPointerCancel:N(I.id),children:[m.jsx(V,{className:"w-4 h-4 flex-shrink-0",style:u?{color:z}:void 0}),m.jsx("span",{className:`flex-1 truncate ${I.completed?"line-through opacity-60":""}`,children:I.title}),m.jsx("button",{onPointerDown:U=>U.stopPropagation(),onClick:U=>{U.stopPropagation(),r(I.id).catch(j=>console.error("Error al actualizar tarea del calendario:",j))},className:"flex items-center justify-center w-6 h-6 rounded-full",title:I.completed?"Marcar como pendiente":"Completar tarea",style:{border:"none",background:"transparent"},children:I.completed?m.jsx(sy,{className:"w-4 h-4",style:u?{color:z}:c?{color:"#ffffff"}:{color:"#000000"}}):m.jsx(zY,{className:"w-4 h-4",style:u?{color:z}:c?{color:"#ffffff"}:{color:"#9CA3AF"}})})]})]},I.id)})}):m.jsx("p",{className:"text-base opacity-70 text-center mb-6",children:"No hay tareas para este da"})]})]})]})},q0=t=>!t||t<1?"primer":{1:"primer",2:"segundo",3:"tercer",4:"cuarto",5:"quinto",6:"sexto",7:"sptimo",8:"octavo",9:"noveno",10:"dcimo"}[t]||`${t}`,QK=()=>{const[t,e]=y.useState(""),{currentTheme:n}=Cr(),r=n==="dark",s=n==="shiny",i=["#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"],{tasks:a,addTask:o,toggleTask:l,deleteTask:c}=_r(),{user:u,updateProfile:d}=Li(),{tipoUsuario:h}=hj(),{userProfile:p}=mj(),[S,b]=y.useState("idle"),T=y.useRef(""),[v,g]=y.useState("idle"),[x,D]=y.useState(null),C=y.useCallback((...G)=>{const oe=G.filter(be=>typeof be=="number"&&!Number.isNaN(be));return oe.length?Math.max(...oe):0},[]);y.useEffect(()=>{typeof(p==null?void 0:p.shinyRolls)=="number"&&D(G=>C(G,p.shinyRolls))},[C,p==null?void 0:p.shinyRolls]);const P=G=>G.split(/(Shiny|\*\*BLACK\*\*|BLACK)/i).map((be,je)=>{const wt=be.toLowerCase();return wt==="shiny"?m.jsx("span",{className:"shiny-word",style:{background:"linear-gradient(90deg, #ff004c, #ff7a00, #ffe600, #00ff66, #00c2ff, #8b00ff, #ff00ff)",backgroundSize:"500% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"shinyShift 4s ease-in-out infinite",fontWeight:700,textTransform:"uppercase"},children:"SHINY"},`shiny-${je}`):wt==="black"||wt==="**black**"?m.jsx("span",{style:{fontFamily:'"Reverie", cursive',fontWeight:400,fontStyle:"normal",textTransform:"none",letterSpacing:"0.05em",fontSize:"2.0em",lineHeight:"0.8",verticalAlign:"middle",margin:"0 8px",color:r||s?"#ffffff":"#000000",textShadow:r||s?"0 0 10px rgba(255,255,255,0.5)":"0 0 1px rgba(0,0,0,0.1)"},children:"Black"},`black-${je}`):be}),A={hola:"Hola! Qu tareitas tenemos para hoy?","buenos das":"Buenos das!  Empecemos el da con energa.","buenas tardes":"Buenas tardes! Cmo va tu productividad hoy?","buenas noches":"Buenas noches!  Terminemos el da fuerte.","cmo ests":"Estoy listo para ayudarte! Qu necesitamos hacer?",ayuda:'Puedo crear tareas, mostrar tu progreso y motivarte. Escribe "tareas" para ver! Los paneles de progreso y calendario se abren sin mensajes.',tareas:"SPECIAL_COMMAND:OPEN_TASKS",tarea:"SPECIAL_COMMAND:OPEN_TASKS","mis tareas":"SPECIAL_COMMAND:OPEN_TASKS","ver tareas":"SPECIAL_COMMAND:OPEN_TASKS","lista de tareas":"SPECIAL_COMMAND:OPEN_TASKS","que tengo que hacer":"SPECIAL_COMMAND:OPEN_TASKS",pendientes:"SPECIAL_COMMAND:OPEN_TASKS",progreso:"SPECIAL_COMMAND:OPEN_PROGRESS","ver progreso":"SPECIAL_COMMAND:OPEN_PROGRESS","mis estadsticas":"SPECIAL_COMMAND:OPEN_PROGRESS","estadsticas":"SPECIAL_COMMAND:OPEN_PROGRESS","mtricas":"SPECIAL_COMMAND:OPEN_PROGRESS",rendimiento:"SPECIAL_COMMAND:OPEN_PROGRESS",avance:"SPECIAL_COMMAND:OPEN_PROGRESS",estadisticas:"SPECIAL_COMMAND:OPEN_PROGRESS",metricas:"SPECIAL_COMMAND:OPEN_PROGRESS",calendario:"SPECIAL_COMMAND:OPEN_CALENDAR",agenda:"SPECIAL_COMMAND:OPEN_CALENDAR","mi calendario":"SPECIAL_COMMAND:OPEN_CALENDAR",fechas:"SPECIAL_COMMAND:OPEN_CALENDAR",eventos:"SPECIAL_COMMAND:OPEN_CALENDAR",mes:"SPECIAL_COMMAND:OPEN_CALENDAR","motrame":"T puedes!  Cada tarea completada te acerca a tu meta.",gracias:"De nada! Estoy aqu para ayudarte a lograr tus metas.","adis":"Hasta luego! Termina bien tus tareas.",ok:"Perfecto! Vamos por ello.","estoy cansado":"Descansa un poco, pero no te rindas! ","no s qu hacer":"Empecemos con algo pequeo. Cul es la tarea ms sencilla que puedes hacer ahora?","estoy aburrido":"Perfecto momento para avanzar en esas tareas pendientes! ",feliz:"Me encanta tu energa! Canalzala en una tarea y vers resultados. ",triste:"No te preocupes! Una pequea tarea puede mejorar tu estado de nimo. ","comprar dark mode":"SPECIAL_COMMAND:BUY_DARK_MODE","comprar modo dark":"SPECIAL_COMMAND:BUY_DARK_MODE","quiero dark mode":"SPECIAL_COMMAND:BUY_DARK_MODE","quiero modo dark":"SPECIAL_COMMAND:BUY_DARK_MODE"},E=()=>'Hola, soy STEEB. Te recuerdo: si mandas "calendario", "tareas" o "progreso" por el chat, se abrir la ventana de cada una para que organices tu da conmigo.',[_,R]=y.useState([{id:"1",role:"assistant",content:E(),timestamp:new Date}]),[N,I]=y.useState(!1),[M,V]=y.useState(!1),[z,L]=y.useState(!1),[U,j]=y.useState(!1),[K,Q]=y.useState(0),pe=y.useRef(null);y.useEffect(()=>{T.current=(u==null?void 0:u.name)||"",b("idle")},[u==null?void 0:u.id]),y.useEffect(()=>{const G="shiny-shift-keyframes";if(!document.getElementById(G)){const oe=document.createElement("style");oe.id=G,oe.textContent=`
        @keyframes shinyShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        .shiny .shiny-option-btn {
          background: #000 !important;
          border: none !important;
          box-shadow: none !important;
          filter: none !important;
          opacity: 1 !important;
        }
        .dark .shiny-option-btn {
          background: #000 !important;
          border: none !important;
          box-shadow: none !important;
          filter: none !important;
          opacity: 1 !important;
        }
      `,document.head.appendChild(oe)}},[]),y.useEffect(()=>{const G=async()=>{const oe=new Date().toISOString().split("T")[0],be=localStorage.getItem("steeb_last_summary_date");if(be!==oe){if(be){const je=_.filter(mt=>mt.role==="user").slice(-10).map(mt=>mt.content.substring(0,50)),wt=a.filter(mt=>mt.completed).length,rt=a.filter(mt=>!mt.completed).length;await cj.saveDailySummary(`Progreso: ${wt} tareas completadas, ${rt} pendientes`,wt,rt,je).catch(mt=>console.error("Error guardando resumen:",mt))}localStorage.setItem("steeb_last_summary_date",oe)}};_.length>0&&G()},[_,a]);const ae=y.useCallback(()=>{var G;(G=pe.current)==null||G.scrollIntoView({behavior:"smooth"})},[]),re=y.useCallback(G=>{!G||!G.trim()||(R(oe=>[...oe,{id:`msg_${Date.now()}_${Math.random().toString(36).slice(2)}`,role:"assistant",content:G.trim(),timestamp:new Date,category:"general"}]),setTimeout(()=>ae(),50))},[ae]);y.useEffect(()=>{if(!u||S!=="idle")return;const G=vw(u.id),oe=(u.name||(G==null?void 0:G.name)||"").trim(),be=(u.nickname||(G==null?void 0:G.nickname)||"").trim();if(!oe){b("asking-name"),setTimeout(()=>{re("Me llamo Steeb, cmo es tu nombre?")},400);return}T.current=oe,be?b("completed"):(b("asking-nickname"),setTimeout(()=>{re("Ese es tu nombre, buen nombre. Pero a todos nos gustan los apodos. Cmo te gusta que te digan?")},400))},[u,S,re]);const de=y.useCallback(G=>{if(!G)return;const{type:oe,content:be,timestamp:je,showMercadoPagoButton:wt,paymentOptions:rt}=G||{};if(oe==="theme-info"||oe==="theme-info-with-button"||oe==="theme-info-with-options"){const xt={id:`msg_${Date.now()}`,role:"assistant",content:be,timestamp:je||new Date,category:"general",showMercadoPagoButton:wt||!1,paymentOptions:rt||void 0};R(et=>[...et,xt]),ae()}else typeof be=="string"&&be.trim().length&&re(be)},[re,ae]),se=y.useCallback(async(G=[])=>{var oe,be,je,wt,rt,mt,xt,et,It;if(G.length){for(const Le of G)if(Le!=null&&Le.type)try{switch(Le.type){case"OPEN_CALENDAR":{j(!0),V(!1),L(!1);const te=Array.isArray((oe=Le.payload)==null?void 0:oe.plan)?Le.payload.plan:[];if(te.length){const Ce=te.map((ne,pt)=>{const mn=typeof(ne==null?void 0:ne.label)=="string"&&ne.label.trim().length?ne.label.trim():`Bloque ${pt+1}`,lt=typeof(ne==null?void 0:ne.duration)=="number"&&ne.duration>0?` (${ne.duration} min)`:"";return`${pt+1}. ${mn}${lt}`}).join(`
`),fe=typeof((be=Le.payload)==null?void 0:be.notes)=="string"&&Le.payload.notes.trim().length?`
Notas: ${Le.payload.notes.trim()}`:"";re(`Plan listo:
${Ce}${fe}`)}break}case"OPEN_TASKS":V(!0),j(!1),L(!1);break;case"OPEN_PROGRESS":L(!0),V(!1);break;case"CREATE_TASK":{const te=typeof((je=Le.payload)==null?void 0:je.title)=="string"&&Le.payload.title.trim().length?Le.payload.title.trim():"Tarea sugerida por Steeb";await o({title:te,description:typeof((wt=Le.payload)==null?void 0:wt.description)=="string"?Le.payload.description:void 0,type:"extra",status:"pending",completed:!1,scheduledDate:typeof((rt=Le.payload)==null?void 0:rt.date)=="string"?Le.payload.date:void 0,scheduledTime:typeof((mt=Le.payload)==null?void 0:mt.time)=="string"?Le.payload.time:void 0}),re(`Tarea creada: ${te}`);break}case"BUY_DARK_MODE":window.dispatchEvent(new CustomEvent("buy-dark-mode",{detail:{source:"steeb-ai",...Le.payload||{}}}));break;case"BUY_SHINY_ROLLS":{const te=typeof((xt=Le.payload)==null?void 0:xt.planId)=="string"&&Le.payload.planId.trim().length?Le.payload.planId:"shiny-roll-1";window.dispatchEvent(new CustomEvent("buy-shiny-rolls",{detail:{source:"steeb-ai",planId:te}}));break}case"PLAY_SHINY_GAME":g("confirming");break;case"SHOW_MOTIVATION":{const te=typeof((et=Le.payload)==null?void 0:et.note)=="string"&&Le.payload.note.trim().length?Le.payload.note.trim():"";te&&re(te);break}case"GET_SHINY_STATS":{try{const te=await dj(u==null?void 0:u.id),Ce=te.totalShinyUsers;let fe=Ce===0?"Todava nadie desbloque el modo SHINY. Pods ser el primer usuario en lograrlo.":`Solo ${Ce} personas tienen el modo SHINY.`;(It=te.userStats)!=null&&It.isShiny?fe+=` Vos sos el ${q0(te.userStats.position)} usuario en conseguirlo.`:fe+=` Podras ser el ${q0(Ce+1)} si gans.`,re(fe)}catch(te){console.error("Error consultando stats shiny:",te),re("No pude consultar las estadsticas shiny ahora mismo.")}break}default:break}}catch(te){console.error("Error ejecutando accion de STEEB:",Le,te)}}},[o,re,j,L,V,g,u==null?void 0:u.id]);y.useEffect(()=>{ae()},[_,ae]),y.useEffect(()=>{if(typeof window>"u")return;const G=oe=>{de(oe.detail)};return window.addEventListener("steeb-message",G),window.addEventListener("steeb-message-with-button",G),window.addEventListener("steeb-message-with-options",G),qK(oe=>{de(oe)}),()=>{window.removeEventListener("steeb-message",G),window.removeEventListener("steeb-message-with-button",G),window.removeEventListener("steeb-message-with-options",G)}},[de]);const Ne=G=>{Q(G),ae()};y.useEffect(()=>{!M&&!z&&!U&&Q(0)},[M,z,U,ae]),y.useEffect(()=>{const G=setTimeout(()=>{ae()},300);return()=>clearTimeout(G)},[M,z,U,ae]);const Oe=G=>{const oe=G.toLowerCase().trim();if(console.log(" Debug - Mensaje normalizado:",`"${oe}"`),console.log(" Debug - Respuestas disponibles:",Object.keys(A)),A[oe])return console.log(" Debug - Coincidencia exacta encontrada:",oe),A[oe];for(const[be,je]of Object.entries(A))if(oe.includes(be)||be.includes(oe))return console.log(" Debug - Coincidencia parcial encontrada:",be,"->",je),je;return console.log(" Debug - No se encontr respuesta predefinida para:",oe),null},nt=async()=>{if(!t.trim())return;const G=t.trim();e("");const oe=()=>{const te={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(Ce=>[...Ce,te])},be=u!=null&&u.id?vw(u.id):null;if(S==="asking-name"){oe();const te=G.trim();if(!te)setTimeout(()=>{re("Necesito tu nombre para registrarte. Cmo te llams?")},400);else{if(T.current=te,u!=null&&u.id){Kk(u.id,{name:te});try{const Ce=u.nickname||(be==null?void 0:be.nickname)||"";await d(te,Ce)}catch(Ce){console.error("Error guardando nombre del usuario:",Ce)}}b("asking-nickname"),setTimeout(()=>{re("Ese es tu nombre, buen nombre. Pero a todos nos gustan los apodos. Cmo te gusta que te digan?")},500)}return}if(S==="asking-nickname"){oe();const te=G.trim();if(!te)setTimeout(()=>{re("Necesito tu apodo para llamarte como corresponde. Cmo te dicen?")},400);else{if(u!=null&&u.id){Kk(u.id,{nickname:te});try{const Ce=T.current||u.name||(be==null?void 0:be.name)||te;await d(Ce,te)}catch(Ce){console.error("Error guardando apodo del usuario:",Ce)}}b("completed"),setTimeout(()=>{re(`Perfecto ${te}, lo anoto. Desde ahora te voy a decir as.`)},500)}return}if(v==="confirming"){const te=G.toLowerCase();if(te.includes("si")||te.includes("s")||te.includes("dale")||te.includes("ok")){g("playing");const Ce={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(fe=>[...fe,Ce]),setTimeout(()=>{const fe={id:`msg_${Date.now()+1}`,role:"assistant",content:`Excelente! Estoy pensando en un nmero del 1 al 100...

Cul crees que es? Escribe tu nmero!`,timestamp:new Date,category:"general"};R(ne=>[...ne,fe])},500);return}else{g("idle");const Ce={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(fe=>[...fe,Ce]),setTimeout(()=>{const fe={id:`msg_${Date.now()+1}`,role:"assistant",content:"Entendido. Avisame cuando quieras intentar desbloquear el modo SHINY.",timestamp:new Date,category:"general"};R(ne=>[...ne,fe])},500);return}}if(v==="playing"){const te=parseInt(G),Ce={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};if(R(fe=>[...fe,Ce]),isNaN(te)||te<1||te>100){setTimeout(()=>{const fe={id:`msg_${Date.now()+1}`,role:"assistant",content:"Eso no parece un nmero vlido entre 1 y 100. Intenta de nuevo. ",timestamp:new Date,category:"general"};R(ne=>[...ne,fe])},500);return}I(!0);try{const{playShinyGame:fe}=await Bo(async()=>{const{playShinyGame:pt}=await Promise.resolve().then(()=>B0);return{playShinyGame:pt}},void 0),ne=await fe(te,u==null?void 0:u.id);if(I(!1),ne.success){const pt=ne.won||ne.alreadyWon;if(!pt){const lt={id:`msg_${Date.now()+1}`,role:"assistant",content:ne.message,timestamp:new Date,category:"general"};R(Et=>[...Et,lt])}if(typeof ne.remainingRolls=="number"&&D(ne.remainingRolls),pt){const lt=(u==null?void 0:u.nickname)||(u==null?void 0:u.name)||"Campen",Et=ne.shinyStats?q0(ne.shinyStats.position).toUpperCase():null,ct=Et?`WOWOWOWO SHINY!! Sos el ${Et} usuario en desbloquear el modo SHINY. Que suerte la tuya ${lt}.`:`WOWOWOWO SHINY!! Desbloqueaste el modo SHINY. Que suerte la tuya ${lt}.`;if(re(ct),g("idle"),ne.won)try{window.dispatchEvent(new CustomEvent("steeb-refresh-role"))}catch{}}else ne.remainingRolls!==void 0&&ne.remainingRolls>0?setTimeout(()=>{const lt={id:`msg_${Date.now()+2}`,role:"assistant",content:`Te quedan ${ne.remainingRolls} tiradas. Quers intentar de nuevo?`,timestamp:new Date,category:"general"};R(Et=>[...Et,lt]),g("confirming")},1e3):(g("idle"),setTimeout(()=>{const lt={id:`msg_${Date.now()+2}`,role:"assistant",content:"Te quedaste sin tiradas por hoy. Pods comprar ms para seguir intentando! ",timestamp:new Date,category:"general",showMercadoPagoButton:!0};R(Et=>[...Et,lt])},1e3))}else{g("idle");const pt={id:`msg_${Date.now()+1}`,role:"assistant",content:ne.message||"Hubo un problema procesando tu intento.",timestamp:new Date,category:"general"};R(mn=>[...mn,pt])}}catch(fe){I(!1),g("idle"),console.error("Error jugando Shiny:",fe);const ne={id:`msg_${Date.now()+1}`,role:"assistant",content:fe instanceof Error&&fe.message?`No pude completar la tirada: ${fe.message}`:"Ocurri un error de conexin. Intenta ms tarde.",timestamp:new Date,category:"general"};R(pt=>[...pt,ne])}return}const je=G.toLowerCase();if(je.includes("shiny")||je.includes("tirada")&&je.includes("jugar")){const te=(h||"white").toLowerCase();if(te==="shiny"){const ct={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(gt=>[...gt,ct]),setTimeout(()=>{const gt={id:`msg_${Date.now()+1}`,role:"assistant",content:"Wowowow amigo!  Ya sos usuario SHINY! No necesitas jugar ms, ya sos parte de la lite.",timestamp:new Date,category:"general"};R($=>[...$,gt])},500);return}if(te==="white"){const ct={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(gt=>[...gt,ct]),setTimeout(()=>{const gt={id:`msg_${Date.now()+1}`,role:"assistant",content:"Para acceder al modo SHINY, primero necesitas ser usuario **Black**.",timestamp:new Date,category:"general"};R($=>[...$,gt])},500);return}g("confirming");const Ce=typeof(p==null?void 0:p.shinyRolls)=="number"?p.shinyRolls:null;let fe=C(x,Ce),ne=null;try{const{getShinyStatus:ct}=await Bo(async()=>{const{getShinyStatus:J}=await Promise.resolve().then(()=>B0);return{getShinyStatus:J}},void 0),gt=await ct(u==null?void 0:u.id);ne=gt;const $=typeof(gt==null?void 0:gt.totalAvailable)=="number"?gt.totalAvailable:void 0,le=C($,typeof Ce=="number"?Ce+(gt.dailyAttemptAvailable?1:0):void 0,fe);fe=le,D(le)}catch(ct){console.error("Error obteniendo estado shiny:",ct),fe=C(fe,Ce),D(fe)}const pt={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(ct=>[...ct,pt]);const mn=!!(ne!=null&&ne.dailyAttemptAvailable),lt=typeof(ne==null?void 0:ne.extraRolls)=="number"?ne.extraRolls:void 0;let Et=`Quers gastar tus tiradas para desbloquear el modo SHINY?

Actualmente tens ${fe} tiradas disponibles.`;if(ne)if(mn)Et=`Tens un intento diario gratis disponible.${lt&&lt>0?` Adems tens ${lt} tiradas extra guardadas en tu cuenta.`:""}

Quers usarlo para intentar desbloquear el modo SHINY?`;else{const ct=typeof lt=="number"?lt:fe;if(ct<=0){g("idle"),setTimeout(()=>{const gt={id:`msg_${Date.now()+1}`,role:"assistant",content:"Te quedaste sin tiradas por hoy. Pods comprar ms para seguir intentando.",timestamp:new Date,category:"general",showMercadoPagoButton:!0};R($=>[...$,gt])},500);return}Et=`Quers gastar tus tiradas para desbloquear el modo SHINY?

Actualmente tens ${ct} tiradas disponibles.`}else Et=`Quers intentar desbloquear el modo SHINY?

Detecto ${fe} intentos disponibles (incluyendo el diario si todava no lo usaste).`;setTimeout(()=>{const ct={id:`msg_${Date.now()+1}`,role:"assistant",content:Et,timestamp:new Date,category:"general"};R(gt=>[...gt,ct])},500);return}if(["cuantas tiradas","cuntas tiradas","mis tiradas","tengo tiradas","intentos me quedan","intentos quedan"].some(te=>je.includes(te))){if((h||"white").toLowerCase()==="white"){const fe={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(ne=>[...ne,fe]),setTimeout(()=>{const ne={id:`msg_${Date.now()+1}`,role:"assistant",content:"Para tener tiradas del modo SHINY, primero necesitas ser usuario **Black**.",timestamp:new Date,category:"general"};R(pt=>[...pt,ne])},500);return}const Ce={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};R(fe=>[...fe,Ce]),I(!0);try{const{getShinyStatus:fe}=await Bo(async()=>{const{getShinyStatus:Et}=await Promise.resolve().then(()=>B0);return{getShinyStatus:Et}},void 0),ne=await fe(u==null?void 0:u.id),pt=typeof(p==null?void 0:p.shinyRolls)=="number"?p.shinyRolls:null,mn=ne.extraRolls>0?ne.extraRolls:pt??0,lt=C(ne.totalAvailable,mn+(ne.dailyAttemptAvailable?1:0),x,pt);if(D(lt),I(!1),ne.isShiny){const Et={id:`msg_${Date.now()+1}`,role:"assistant",content:"Ya sos usuario Shiny!  No necesitas ms tiradas, ya tens acceso ilimitado.",timestamp:new Date,category:"general"};R(ct=>[...ct,Et])}else{const Et=ne.dailyAttemptAvailable?" 1 intento diario disponible":" Intento diario usado",ct=mn>0?` ${mn} tiradas extra compradas`:"0 tiradas extra",gt={id:`msg_${Date.now()+1}`,role:"assistant",content:`Estado de tus tiradas Shiny:

${Et}
${ct}

Total disponible ahora: ${lt} intentos. `,timestamp:new Date,category:"general",showMercadoPagoButton:lt===0};R($=>[...$,gt])}}catch{I(!1);const ne={id:`msg_${Date.now()+1}`,role:"assistant",content:"No pude verificar tus tiradas en este momento. Intenta ms tarde.",timestamp:new Date,category:"general"};R(pt=>[...pt,ne])}return}const xt=Oe(G);if(xt==="SPECIAL_COMMAND:OPEN_PROGRESS"){console.log(" Abriendo panel de progreso sin mensajes..."),L(!0);return}if(xt==="SPECIAL_COMMAND:OPEN_CALENDAR"){console.log(" Abriendo panel de calendario sin mensajes..."),j(!0);return}if(xt==="SPECIAL_COMMAND:OPEN_TASKS"){console.log(" Abriendo panel de tareas sin mensajes..."),V(!0);return}if(xt==="SPECIAL_COMMAND:BUY_DARK_MODE"){console.log(" Comprando Dark Mode...");const te=new CustomEvent("buy-dark-mode",{detail:{source:"chat",timestamp:new Date}});window.dispatchEvent(te);const Ce={id:`msg_${Date.now()}`,role:"assistant",content:"Excelente decisin! Estoy abriendo el proceso de compra para el Dark Mode por $3000 ARS. Te dar acceso inmediato + 1 intento gratis para Shiny. ",timestamp:new Date,category:"general"};R(fe=>[...fe,Ce]),setTimeout(()=>{const fe={id:`msg_${Date.now()+1}`,role:"assistant",content:`# $3000 ARS

### 1 intento gratis del modo SHINY`,timestamp:new Date,category:"general",showMercadoPagoButton:!0};R(ne=>[...ne,fe]),ae()},1e3);return}const et={id:`msg_${Date.now()}`,role:"user",content:G,timestamp:new Date};if(R(te=>[...te,et]),xt&&xt!=="SPECIAL_COMMAND:OPEN_PROGRESS"&&xt!=="SPECIAL_COMMAND:OPEN_CALENDAR"){const te={id:`msg_${Date.now()+1}`,role:"assistant",content:xt,timestamp:new Date,category:"general"};R(Ce=>[...Ce,te]);return}const It=/crea\s+tarea\s+(.+)/i,Le=G.match(It);if(Le){const te=Le[1].trim();o({title:te,completed:!1,type:"extra",status:"pending"}).catch(fe=>console.error("Error sincronizando tarea:",fe));const Ce={id:`msg_${Date.now()+1}`,role:"assistant",content:` "${te}" creada`,timestamp:new Date};R(fe=>[...fe,Ce]),V(!0);return}I(!0);try{const{reply:te,actions:Ce}=await uj(G),fe={id:`msg_${Date.now()+1}`,role:"assistant",content:te.trim(),timestamp:new Date};R(ne=>[...ne,fe]),await se(Ce)}catch(te){console.error(" Error comunicando con STEEB:",te);const Ce={id:`msg_${Date.now()+1}`,role:"assistant",content:"STEEB no te quiere escuchar            *frota sus lentes*",timestamp:new Date};R(fe=>[...fe,Ce])}finally{I(!1)}},ye=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),nt())};let Ye=0;return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
      `}}),m.jsx("div",{className:`flex h-full ${r||s?"bg-black text-white":"bg-white text-black"} flex-col`,children:m.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[m.jsxs("div",{className:`overflow-y-auto px-4 pt-4 pb-8 transition-all duration-300 absolute left-0 right-0 ${s||r?"bg-black":"bg-white"}`,style:{zIndex:100,top:"0px",bottom:K>0?`${K+12}px`:"32px"},children:[_.map((G,oe)=>{const be=_[oe+1],je=!be||be.role!==G.role;return m.jsx("div",{className:`flex ${G.role==="assistant"?"justify-start":"justify-end"} ${je?"mb-4":"mb-1"}`,children:m.jsx("div",{className:`flex items-end space-x-2 max-w-[85%] ${G.role==="assistant"?"flex-row":"flex-row-reverse"}`,children:(()=>{let wt;return G.role==="assistant"&&(s?wt={borderColor:i[Ye++%i.length],borderWidth:"2px"}:wt={borderColor:void 0,borderWidth:void 0}),m.jsxs("div",{className:`px-4 py-3 rounded-2xl relative group ${G.role==="assistant"?s?"bg-black text-white border border-white shadow-md":`${r?"bg-black text-white border-2 border-white":"bg-white text-black border border-gray-300"} shadow-md`:s?"bg-white text-black border border-white shadow-md":r?"bg-gray-400 text-black border border-black shadow-md":"bg-gray-300 border border-gray-300 text-black shadow-md"}`,style:wt,children:[m.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",style:{color:G.role==="assistant"&&(r||s)?"#FFFFFF !important":"#000000 !important",backgroundColor:"transparent",opacity:1,WebkitTextFillColor:G.role==="assistant"&&(r||s)?"#FFFFFF":"#000000"},children:P(G.content)}),m.jsxs("div",{className:`text-xs mt-2 flex items-center space-x-1 ${G.role==="assistant"?s?"text-white !important":r?"text-gray-300":"text-gray-500":s?"text-black !important":"text-white"}`,children:[m.jsx(aj,{className:`w-3 h-3 ${s?G.role==="assistant"?"text-white !important":"text-black !important":""}`}),m.jsx("span",{className:s?G.role==="assistant"?"text-white !important":"text-black !important":"",children:G.timestamp.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),G.showMercadoPagoButton&&m.jsxs("button",{onClick:()=>{const rt=new CustomEvent("buy-dark-mode",{detail:{source:"chat-button",timestamp:new Date}});window.dispatchEvent(rt)},className:`w-full mt-3 py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all duration-200 shadow-md border-2 ${s||r?"bg-white text-black border-white hover:bg-gray-100":"bg-black text-white border-black hover:bg-gray-800"}`,children:[m.jsx(qY,{className:"w-4 h-4"}),"Pagar con Mercado Pago"]}),G.paymentOptions&&m.jsx("div",{className:"mt-3 space-y-2",children:G.paymentOptions.map(rt=>m.jsxs("button",{onClick:()=>{const mt=new CustomEvent(rt.action,{detail:{planId:rt.planId,timestamp:new Date}});window.dispatchEvent(mt)},className:`shiny-option-btn w-full py-2 px-3 rounded-xl font-medium flex items-center justify-between transition-all duration-200 ${s||r?"bg-black text-white border-0":"bg-white text-black border-0"}`,style:s||r?{backgroundColor:"#000000"}:void 0,children:[m.jsx("span",{children:rt.label}),m.jsx("span",{className:`font-bold ${s||r?"text-white":"text-black"}`,children:rt.price})]},rt.id))})]})})()})},G.id)}),N&&m.jsx("div",{className:"flex justify-start mb-4",children:m.jsx("div",{className:"flex items-end space-x-2",children:m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce",style:{animationDelay:"150ms"}}),m.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),m.jsx("div",{ref:pe})]}),m.jsx($0,{isOpen:M,onClose:()=>V(!1),onHeightChange:Ne,minHeight:400,children:m.jsx(GK,{onClose:()=>V(!1)})}),m.jsx($0,{isOpen:z,onClose:()=>L(!1),onHeightChange:Ne,minHeight:400,children:m.jsx(WK,{onClose:()=>L(!1)})}),m.jsx($0,{isOpen:U,onClose:()=>j(!1),onHeightChange:Ne,children:m.jsx(KK,{onClose:()=>j(!1)})}),m.jsx("div",{className:`${s||r?"bg-black":"bg-gray-100"} backdrop-blur-sm px-3 pb-2 pt-0 absolute left-0 right-0`,style:{zIndex:100,bottom:K>0?`${Math.max(K-10,12)}px`:"16px",backgroundColor:s?"#000000":void 0},children:m.jsxs("div",{className:"flex items-end space-x-2",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx("input",{type:"text",value:t,onChange:G=>e(G.target.value),onKeyPress:ye,placeholder:"",className:`w-full py-2 pr-10 border rounded-full leading-relaxed focus:outline-none focus:border-2 focus:shadow-lg transition-all duration-200 shadow-sm steeb-chat-input steeb-nuclear-input ${s?"bg-white text-black border-white focus:!border-white":r?"bg-black text-white border-gray-600 focus:!border-gray-400":"bg-white text-black border-gray-300 focus:!border-black"} ${t?"pl-3":"pl-10"}`,style:{fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontWeight:"400",fontSize:"16px"}}),!t&&m.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:m.jsx("div",{className:`w-0.5 h-4 ${s?"bg-black":r?"bg-white":"bg-black"}`,style:{animation:"blink 1s step-end infinite"}})}),t.length>0&&m.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.jsx("span",{className:`text-xs ${t.length>100?"text-red-500":"text-gray-400 dark:text-gray-500"}`,children:t.length})})]}),m.jsx("button",{"data-custom-color":"true",onClick:nt,disabled:!t.trim()||N,className:`steeb-chat-send-button w-10 h-10 rounded-full flex items-center justify-center disabled:cursor-not-allowed transition-all duration-200 border-2 ${s?"bg-black border-white hover:bg-black":r?"bg-black border-gray-700 hover:bg-gray-800":"bg-white border-white hover:bg-gray-100"}`,children:s?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"url(#shiny-arrow-gradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"shiny-arrow-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#ff004c",children:m.jsx("animate",{attributeName:"stop-color",values:"#ff004c;#ff7a00;#ffe600;#00ff66;#00c2ff;#8b00ff;#ff00ff;#ff004c",dur:"4s",repeatCount:"indefinite"})}),m.jsx("stop",{offset:"100%",stopColor:"#ff00ff",children:m.jsx("animate",{attributeName:"stop-color",values:"#ff00ff;#ff004c;#ff7a00;#ffe600;#00ff66;#00c2ff;#8b00ff;#ff00ff",dur:"4s",repeatCount:"indefinite"})})]})}),m.jsx("path",{d:"m5 12 7-7 7 7"}),m.jsx("path",{d:"M12 19V5"})]}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${r?"text-white":"text-black"}`,children:m.jsx("path",{d:"m5 12 7-7 7 7"})})})]})})]})})]})},Xk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zk=PI,wj=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const h=Xk(u)||Xk(d);return s[c][h]}),o=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(S=>{let[b,T]=S;return Array.isArray(T)?T.includes({...i,...o}[b]):{...i,...o}[b]===T})?[...c,d,h]:c},[]);return Zk(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},bw=wj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Kn=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?P5:"button",l=typeof document<"u"&&document.documentElement.classList.contains("shiny")&&e==="default"?"bg-white text-black hover:bg-white/90 border border-black":"";return m.jsx(a,{className:he(bw({variant:e,size:n,className:t}),l),ref:i,...s})});Kn.displayName="Button";const gS=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));gS.displayName="Card";const xj=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));xj.displayName="CardHeader";const Ej=y.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ej.displayName="CardTitle";const Sj=y.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));Sj.displayName="CardDescription";const Tj=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));Tj.displayName="CardContent";const XK=y.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));XK.displayName="CardFooter";const Ln=({variant:t,className:e,title:n,color:r})=>m.jsxs("svg",{viewBox:"0 0 24 24",className:`${e??"w-6 h-6"} shape-outline shape-${t}`,role:"img","aria-label":n??t,xmlns:"http://www.w3.org/2000/svg",style:r?{color:r}:void 0,children:[m.jsxs("defs",{children:[m.jsxs("filter",{id:"whiteGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[m.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.6",result:"blur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"blur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),m.jsxs("linearGradient",{id:"steebVertical9",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#ff004c"}),"      ",m.jsx("stop",{offset:"12.5%",stopColor:"#ff7a00"}),"   ",m.jsx("stop",{offset:"25%",stopColor:"#ffe600"}),"     ",m.jsx("stop",{offset:"37.5%",stopColor:"#00ff66"}),"   ",m.jsx("stop",{offset:"50%",stopColor:"#00c2ff"}),"     ",m.jsx("stop",{offset:"62.5%",stopColor:"#0000ff"}),"   ",m.jsx("stop",{offset:"75%",stopColor:"#8b00ff"}),"     ",m.jsx("stop",{offset:"87.5%",stopColor:"#4b0082"}),"   ",m.jsx("stop",{offset:"100%",stopColor:"#ff00ff"}),"    "]}),m.jsxs("linearGradient",{id:"steebGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientUnits:"objectBoundingBox",children:[m.jsx("stop",{offset:"0%",stopColor:"#ff004c"}),m.jsx("stop",{offset:"14.2857%",stopColor:"#ff7a00"}),m.jsx("stop",{offset:"28.5714%",stopColor:"#ffe600"}),m.jsx("stop",{offset:"42.8571%",stopColor:"#00ff66"}),m.jsx("stop",{offset:"57.1429%",stopColor:"#00c2ff"}),m.jsx("stop",{offset:"71.4286%",stopColor:"#ffffff"}),m.jsx("stop",{offset:"85.7143%",stopColor:"#ffffff"}),m.jsx("stop",{offset:"100%",stopColor:"#ff004c"}),m.jsx("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"0 0; 1 0; 0 0",keyTimes:"0; 0.5; 1",dur:"4s",repeatCount:"indefinite"})]})]}),t==="triangle"&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M12 3 L22 20 H2 Z",fill:"currentColor",stroke:"none"}),m.jsx("path",{d:"M12 3 L22 20 H2 Z",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("path",{d:"M12 3 L22 20 H2 Z",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",strokeLinejoin:"round",className:"steeb-stroke"})]}),t==="square"&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M4 4 H20 V20 H4 Z",fill:"currentColor",stroke:"none"}),m.jsx("path",{d:"M4 4 H20 V20 H4 Z",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("path",{d:"M4 4 H20 V20 H4 Z",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",className:"steeb-stroke"})]}),t==="circle"&&m.jsxs(m.Fragment,{children:[m.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"currentColor",stroke:"none"}),m.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",className:"steeb-stroke"})]}),t==="diamond"&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M12 2 L20 12 L12 22 L4 12 Z",fill:"currentColor",stroke:"none"}),m.jsx("path",{d:"M12 2 L20 12 L12 22 L4 12 Z",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("path",{d:"M12 2 L20 12 L12 22 L4 12 Z",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",strokeLinejoin:"round",className:"steeb-stroke"})]}),t==="hexagon"&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M7 4 h10 l5 8 -5 8 H7 L2 12 Z",fill:"currentColor",stroke:"none"}),m.jsx("path",{d:"M7 4 h10 l5 8 -5 8 H7 L2 12 Z",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("path",{d:"M7 4 h10 l5 8 -5 8 H7 L2 12 Z",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",strokeLinejoin:"round",className:"steeb-stroke"})]}),t==="question"&&m.jsx(m.Fragment,{children:m.jsx("text",{x:"12",y:"14",textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fontWeight:"700",fill:"currentColor",children:"?"})}),t==="dollar"&&m.jsx(m.Fragment,{children:m.jsx("text",{x:"12",y:"14",textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fontWeight:"700",fill:"currentColor",children:"$"})}),t==="heart"&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.936 0-3.597 1.126-4.312 2.733C11.285 4.876 9.624 3.75 7.688 3.75 5.099 3.75 3 5.765 3 8.25c0 7.063 9 11.25 9 11.25s9-4.187 9-11.25z",fill:"currentColor",stroke:"none"}),m.jsx("path",{d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.936 0-3.597 1.126-4.312 2.733C11.285 4.876 9.624 3.75 7.688 3.75 5.099 3.75 3 5.765 3 8.25c0 7.063 9 11.25 9 11.25s9-4.187 9-11.25z",fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9"}),m.jsx("path",{d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.936 0-3.597 1.126-4.312 2.733C11.285 4.876 9.624 3.75 7.688 3.75 5.099 3.75 3 5.765 3 8.25c0 7.063 9 11.25 9 11.25s9-4.187 9-11.25z",fill:"none",stroke:"url(#steebGradient)",strokeWidth:"1.5",strokeLinejoin:"round",className:"steeb-stroke"})]}),t==="spade"&&m.jsxs(m.Fragment,{children:[m.jsxs("g",{fill:"currentColor",stroke:"none",className:"shape-fill-current",children:[m.jsx("path",{d:"M12 4 C10 7 6 8.7 6 11.2 C6 13.2 7.7 14.8 9.6 14.8 C10.9 14.8 11.7 14.1 12 13.0 C12.3 14.1 13.1 14.8 14.4 14.8 C16.3 14.8 18 13.2 18 11.2 C18 8.7 14 7 12 4 Z"}),m.jsx("rect",{x:"10.6",y:"15.1",width:"2.8",height:"4.2",rx:"1.2"}),m.jsx("path",{d:"M9.2 20.1 H14.8 L12 22 Z"})]}),m.jsxs("g",{fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9",children:[m.jsx("path",{d:"M12 4 C10 7 6 8.7 6 11.2 C6 13.2 7.7 14.8 9.6 14.8 C10.9 14.8 11.7 14.1 12 13.0 C12.3 14.1 13.1 14.8 14.4 14.8 C16.3 14.8 18 13.2 18 11.2 C18 8.7 14 7 12 4 Z"}),m.jsx("rect",{x:"10.6",y:"15.1",width:"2.8",height:"4.2",rx:"1.2"}),m.jsx("path",{d:"M9.2 20.1 H14.8 L12 22 Z"})]}),m.jsxs("g",{fill:"none",stroke:"url(#steebGradient)",className:"steeb-stroke",strokeWidth:"1.5",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 4 C10 7 6 8.7 6 11.2 C6 13.2 7.7 14.8 9.6 14.8 C10.9 14.8 11.7 14.1 12 13.0 C12.3 14.1 13.1 14.8 14.4 14.8 C16.3 14.8 18 13.2 18 11.2 C18 8.7 14 7 12 4 Z"}),m.jsx("rect",{x:"10.6",y:"15.1",width:"2.8",height:"4.2",rx:"1.2"}),m.jsx("path",{d:"M9.2 20.1 H14.8 L12 22 Z"})]})]}),t==="club"&&m.jsxs(m.Fragment,{children:[m.jsxs("g",{fill:"currentColor",stroke:"none",className:"shape-fill-current",children:[m.jsx("circle",{cx:"12",cy:"8.2",r:"3.3"}),m.jsx("circle",{cx:"8.2",cy:"12.6",r:"3.3"}),m.jsx("circle",{cx:"15.8",cy:"12.6",r:"3.3"}),m.jsx("rect",{x:"10.7",y:"12.6",width:"2.6",height:"5.2",rx:"1.2"}),m.jsx("path",{d:"M9.5 17.8 H14.5 L12 20 Z"})]}),m.jsxs("g",{fill:"url(#steebVertical9)",stroke:"none",className:"shape-fill-rainbow9",children:[m.jsx("circle",{cx:"12",cy:"8.2",r:"3.3"}),m.jsx("circle",{cx:"8.2",cy:"12.6",r:"3.3"}),m.jsx("circle",{cx:"15.8",cy:"12.6",r:"3.3"}),m.jsx("rect",{x:"10.7",y:"12.6",width:"2.6",height:"5.2",rx:"1.2"}),m.jsx("path",{d:"M9.5 17.8 H14.5 L12 20 Z"})]}),m.jsxs("g",{fill:"none",stroke:"url(#steebGradient)",className:"steeb-stroke",strokeWidth:"1.5",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"8.2",r:"3.3"}),m.jsx("circle",{cx:"8.2",cy:"12.6",r:"3.3"}),m.jsx("circle",{cx:"15.8",cy:"12.6",r:"3.3"}),m.jsx("rect",{x:"10.7",y:"12.6",width:"2.6",height:"5.2",rx:"1.2"}),m.jsx("path",{d:"M9.5 17.8 H14.5 L12 20 Z"})]})]})]}),ZK=({task:t,isOpen:e,onClose:n,onToggle:r,onToggleSubtask:s,onEdit:i})=>{var d,h;if(!e||!t)return null;const a=p=>p?new Date(p).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",o=p=>{switch(p){case"productividad":return"Productividad";case"creatividad":return"Creatividad";case"aprendizaje":return"Aprendizaje";case"organizacion":return"Organizacin";case"salud":return"Salud";case"social":return"Social";case"entretenimiento":return"Entretenimiento";case"extra":return"Extra";case"personal":return"Personal";case"work":return"Trabajo";case"meditation":return"Meditacin";default:return String(p)}},l=p=>{const S=document.documentElement.classList.contains("shiny"),T=(()=>{if(S)switch(p){case"productividad":return"#FF0088";case"salud":return"#8800FF";case"social":return"#4444FF";default:return"#FFFFFF"}return"#000000"})();switch(p){case"productividad":return m.jsx(Ln,{variant:"square",className:"w-6 h-6 mr-1",title:"Cuadrado",color:T});case"creatividad":return m.jsx(Ln,{variant:"triangle",className:"w-6 h-6 mr-1",title:"Creatividad",color:T});case"salud":return m.jsx(Ln,{variant:"heart",className:"w-6 h-6 mr-1",title:"Salud",color:T});case"organizacion":return m.jsx(Ln,{variant:"diamond",className:"w-6 h-6 mr-1",title:"Diamante",color:T});case"social":return m.jsx(Ln,{variant:"triangle",className:"w-6 h-6 mr-1",title:"Social",color:T});case"aprendizaje":return m.jsx(Ln,{variant:"triangle",className:"w-6 h-6 mr-1",title:"Aprendizaje",color:T});case"entretenimiento":return m.jsx(Ln,{variant:"triangle",className:"w-6 h-6 mr-1",title:"Entretenimiento",color:T});case"extra":return m.jsx(Ln,{variant:"diamond",className:"w-6 h-6 mr-1",title:"Diamante",color:T});default:return null}},c=((d=t.subtasks)==null?void 0:d.filter(p=>p.completed).length)||0,u=((h=t.subtasks)==null?void 0:h.length)||0;return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx(gS,{className:"w-full max-w-lg bg-white rounded-lg shadow-xl border-2 border-gray-200",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:t.title}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium bg-gray-100 border border-gray-300 flex items-center ${t.type==="productividad"?"text-[#FF0088]":t.type==="salud"?"text-[#8800FF]":t.type==="social"?"text-[#4444FF]":"text-black"}`,children:[l(t.type),o(t.type)]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.completed?"bg-black text-white":"bg-gray-100 text-black border border-gray-300"}`,children:t.completed?"Completada":"Pendiente"})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[i&&m.jsx(Kn,{variant:"ghost",size:"sm",onClick:()=>i(t),className:"p-2 hover:bg-gray-100 rounded-full text-black",title:"Editar tarea",children:m.jsx(mS,{size:18})}),m.jsx(Kn,{variant:"ghost",size:"sm",onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-black",children:m.jsx(ch,{size:20})})]})]}),t.notes&&m.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[m.jsx("h3",{className:"font-medium text-black mb-2",children:"Notas:"}),m.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed",children:t.notes})]}),(t.scheduledDate||t.scheduledTime)&&m.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[m.jsx("h3",{className:"font-medium text-black mb-2",children:"Programada para:"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[t.scheduledDate&&m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(uS,{size:16,className:"text-gray-700"}),m.jsx("span",{className:"text-sm text-gray-800",children:a(t.scheduledDate)})]}),t.scheduledTime&&m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(aj,{size:16,className:"text-gray-700"}),m.jsx("span",{className:"text-sm text-gray-800",children:t.scheduledTime})]})]})]}),t.subtasks&&t.subtasks.length>0&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"font-medium text-black",children:"Subtareas"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[c," de ",u," completadas"]})]}),m.jsx("div",{className:"space-y-2",children:t.subtasks.map(p=>m.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors border border-gray-200",onClick:()=>s==null?void 0:s(t.id,p.id),children:[p.completed?m.jsx(Rd,{size:18,className:"text-black",fill:"currentColor"}):m.jsx(Rd,{size:18,className:"text-gray-400"}),m.jsx("span",{className:`flex-1 ${p.completed?"line-through text-gray-500":"text-black"}`,children:p.title})]},p.id))})]}),m.jsx("div",{className:"flex justify-end space-x-2",children:m.jsx(Kn,{variant:t.completed?"default":"outline",onClick:()=>r(t.id),className:`flex items-center ${t.completed?"bg-black text-white":""}`,children:t.completed?m.jsxs(m.Fragment,{children:[m.jsx(sy,{className:"mr-2",size:18}),"Marcar como pendiente"]}):m.jsxs(m.Fragment,{children:[m.jsx(Rd,{className:"mr-2",size:18}),"Marcar como completada"]})})})]})})})},ww=y.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm cursor-text",t),ref:r,...n}));ww.displayName="Input";const xw=[{title:"Ejercicio matutino",type:"personal",subtasks:["Hacer 20 flexiones","30 segundos de plancha","Estiramientos bsicos"],scheduledTime:"07:00",notes:"Comenzar el da con energa. Asegrate de hacer cada ejercicio lentamente y con buena forma. Si sientes dolor, detente."},{title:"Revisar emails y agenda",type:"work",subtasks:["Revisar emails importantes","Planificar el da","Revisar reuniones pendientes"],scheduledTime:"08:00",notes:"Priorizar emails urgentes. Marcar en rojo las reuniones importantes del da y preparar materiales necesarios."},{title:"Desayuno saludable",type:"personal",subtasks:["Preparar caf/t","Comer frutas","Tomar vitaminas"],scheduledTime:"08:30",notes:"El desayuno es la comida ms importante del da. Incluir protenas, carbohidratos complejos y grasas saludables."},{title:"Trabajo principal",type:"work",subtasks:["Enfocarse en tareas prioritarias","Tomar descansos cada 25 minutos","Actualizar progreso"],scheduledTime:"09:00",notes:"Usar tcnica Pomodoro. Eliminar distracciones del telfono y redes sociales. Enfocarse en mximo 3 tareas principales."},{title:"Almuerzo y descanso",type:"personal",subtasks:["Preparar/comer almuerzo","Caminar 10 minutos","Hidratarse"],scheduledTime:"12:00",notes:"Tomar un verdadero descanso. Alejarse de la pantalla, comer conscientemente y dar un paseo corto para recargar energa."},{title:"Sesin de estudio/aprendizaje",type:"work",subtasks:["Leer 30 minutos","Tomar notas","Practicar lo aprendido"],scheduledTime:"14:00",notes:"Aprendizaje continuo es clave. Elegir un tema especfico, tomar notas activamente y aplicar lo aprendido en un proyecto."},{title:"Ejercicio vespertino",type:"personal",subtasks:["Cardio 20 minutos","Ejercicios de fuerza","Enfriamiento"],scheduledTime:"17:00",notes:"Liberar estrs del da. Alternar entre cardio y fuerza. Incluir msica motivadora y terminar con estiramientos."},{title:"Reflexin y planificacin",type:"meditation",subtasks:["Meditar 10 minutos","Revisar logros del da","Planificar maana"],scheduledTime:"20:00",notes:"Cerrar el da con gratitud. Reflexionar sobre lo logrado, aprender de los errores y planificar prioridades para maana."}],JK=({isOpen:t,onClose:e,onAddTask:n})=>{const[r,s]=y.useState([]),[i,a]=y.useState(!1),[o,l]=y.useState({}),{toast:c}=dE();y.useEffect(()=>{const b=localStorage.getItem("stebe-custom-daily-tasks");s(b?JSON.parse(b):xw)},[]);const u=b=>{localStorage.setItem("stebe-custom-daily-tasks",JSON.stringify(b)),s(b)},d=()=>{var v;if(!((v=o.title)!=null&&v.trim())){c({title:"Steve dice:",description:"Necesitas darle un nombre a tu tarea diaria!",variant:"destructive"});return}const b={title:o.title.trim(),type:o.type||"personal",subtasks:o.subtasks||[],scheduledTime:o.scheduledTime||"09:00"},T=[...r,b];u(T),l({}),a(!1),c({title:"Steve dice:",description:"Perfecto! He guardado tu nueva tarea diaria personalizada."})},h=b=>{const T=r.filter((v,g)=>g!==b);u(T),c({title:"Tu tarea se ha eliminado correctamente"})},p=async()=>{var b;c({title:"Steve dice:",description:"Voy a aadir todas tus tareas personalizadas! Es hora de brillar! "});for(let T=0;T<r.length;T++){const v=r[T],g=((b=v.subtasks)==null?void 0:b.map((x,D)=>({id:`${Date.now()}-${T}-${D}`,title:x,completed:!1})))||[];n(v.title,"productividad",g.length>0?g:void 0,new Date().toISOString().split("T")[0],v.scheduledTime,void 0)}c({title:"Steve dice:",description:`Listo! He aadido ${r.length} tareas personalizadas. T eres increble! `}),e()},S=()=>{u(xw),c({title:"Steve dice:",description:"He restaurado las tareas por defecto! A veces lo simple es lo mejor."})};return t?m.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-end sm:items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white w-full sm:max-w-lg h-[90vh] sm:h-[80vh] sm:max-h-[700px] sm:rounded-2xl flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-4 bg-gray-100 sm:rounded-t-2xl",children:[m.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800",children:m.jsx(ch,{size:24})}),m.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[m.jsx(mS,{size:20}),m.jsx("span",{children:"Configurar Tareas Diarias"})]}),m.jsx("button",{onClick:p,className:"w-8 h-8 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-colors",children:m.jsx(qo,{size:16})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Personaliza las tareas que Steve aadir automticamente cada da. Haz que sean perfectas para ti!"}),m.jsxs("div",{className:"flex space-x-2 mb-4",children:[m.jsx(Kn,{onClick:()=>a(!0),className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 flex items-center justify-center rounded-full",children:m.jsx(qo,{size:16})}),m.jsx(Kn,{onClick:S,variant:"outline",className:"flex-1",children:"Restaurar"})]})]}),i&&m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[m.jsx("h3",{className:"font-medium mb-3",children:"Nueva Tarea Diaria"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(ww,{placeholder:"Nombre de la tarea",value:o.title||"",onChange:b=>l({...o,title:b.target.value})}),m.jsxs("select",{value:o.type||"personal",onChange:b=>l({...o,type:b.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[m.jsx("option",{value:"personal",children:"Personal"}),m.jsx("option",{value:"work",children:"Trabajo"}),m.jsx("option",{value:"meditation",children:"Meditacin"})]}),m.jsx(ww,{type:"time",value:o.scheduledTime||"",onChange:b=>l({...o,scheduledTime:b.target.value})}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Kn,{onClick:d,className:"w-10 h-10 bg-green-600 hover:bg-green-700 flex items-center justify-center rounded-full",children:m.jsx(lj,{size:16})}),m.jsx(Kn,{onClick:()=>{a(!1),l({})},variant:"outline",children:"Cancelar"})]})]})]}),m.jsx("div",{className:"space-y-3",children:r.map((b,T)=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-800",children:b.title}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[m.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.type==="work"?"bg-blue-100 text-blue-800":b.type==="personal"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.type}),b.scheduledTime&&m.jsxs("span",{className:"flex items-center",children:[m.jsx("span",{className:"mr-1",children:""}),b.scheduledTime]})]}),b.subtasks&&b.subtasks.length>0&&m.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[b.subtasks.length," subtareas"]})]}),m.jsx("button",{onClick:()=>h(T),className:"text-red-500 hover:text-red-700 ml-2",children:m.jsx($c,{size:16})})]},T))})]})]})}):null},yS=y.createContext({});function vS(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const ay=y.createContext(null),bS=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class eQ extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tQ({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(bS);return y.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),m.jsx(eQ,{isPresent:e,childRef:r,sizeRef:s,children:y.cloneElement(t,{ref:r})})}const nQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=vS(rQ),l=y.useId(),c=y.useCallback(d=>{o.set(d,!0);for(const h of o.values())if(!h)return;r&&r()},[o,r]),u=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:d=>(o.set(d,!1),()=>o.delete(d))}),i?[Math.random(),c]:[n,c]);return y.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),y.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(tQ,{isPresent:n,children:t})),m.jsx(ay.Provider,{value:u,children:t})};function rQ(){return new Map}function _j(t=!0){const e=y.useContext(ay);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{t&&s(i)},[t]);const a=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const rm=t=>t.key||"";function Jk(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const wS=typeof window<"u",Aj=wS?y.useLayoutEffect:y.useEffect,kj=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,l]=_j(a),c=y.useMemo(()=>Jk(t),[t]),u=a&&!o?[]:c.map(rm),d=y.useRef(!0),h=y.useRef(c),p=vS(()=>new Map),[S,b]=y.useState(c),[T,v]=y.useState(c);Aj(()=>{d.current=!1,h.current=c;for(let D=0;D<T.length;D++){const C=rm(T[D]);u.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[T,u.length,u.join("-")]);const g=[];if(c!==S){let D=[...c];for(let C=0;C<T.length;C++){const P=T[C],A=rm(P);u.includes(A)||(D.splice(C,0,P),g.push(P))}i==="wait"&&g.length&&(D=g),v(Jk(D)),b(c);return}const{forceRender:x}=y.useContext(yS);return m.jsx(m.Fragment,{children:T.map(D=>{const C=rm(D),P=a&&!o?!1:c===T||u.includes(C),A=()=>{if(p.has(C))p.set(C,!0);else return;let E=!0;p.forEach(_=>{_||(E=!1)}),E&&(x==null||x(),v(h.current),a&&(l==null||l()),r&&r())};return m.jsx(nQ,{isPresent:P,initial:!d.current||n?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:P?void 0:A,children:D},C)})})},Sr=t=>t;let Cj=Sr;function xS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vi=t=>t*1e3,bi=t=>t/1e3,sQ={useManualTiming:!1};function iQ(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){i.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?e:n;return u&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(a=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const sm=["read","resolveKeyframes","update","preRender","render","postRender"],aQ=40;function Rj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=sm.reduce((v,g)=>(v[g]=iQ(i),v),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,aQ),1),s.timestamp=v,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},S=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:sm.reduce((v,g)=>{const x=a[g];return v[g]=(D,C=!1,P=!1)=>(n||S(),x.schedule(D,C,P)),v},{}),cancel:v=>{for(let g=0;g<sm.length;g++)a[sm[g]].cancel(v)},state:s,steps:a}}const{schedule:Rt,cancel:Wa,state:Sn,steps:G0}=Rj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0),Dj=y.createContext({strict:!1}),eC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qc={};for(const t in eC)qc[t]={isEnabled:e=>eC[t].some(n=>!!e[n])};function oQ(t){for(const e in t)qc[e]={...qc[e],...t[e]}}const lQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lQ.has(t)}let Nj=t=>!Hp(t);function cQ(t){t&&(Nj=e=>e.startsWith("on")?!Hp(e):t(e))}try{cQ(require("@emotion/is-prop-valid").default)}catch{}function uQ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Nj(s)||n===!0&&Hp(s)||!e&&!Hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function dQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const oy=y.createContext({});function gf(t){return typeof t=="string"||Array.isArray(t)}function ly(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ES=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SS=["initial",...ES];function cy(t){return ly(t.animate)||SS.some(e=>gf(t[e]))}function Ij(t){return!!(cy(t)||t.variants)}function fQ(t,e){if(cy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gf(n)?n:void 0,animate:gf(r)?r:void 0}}return t.inherit!==!1?e:{}}function hQ(t){const{initial:e,animate:n}=fQ(t,y.useContext(oy));return y.useMemo(()=>({initial:e,animate:n}),[tC(e),tC(n)])}function tC(t){return Array.isArray(t)?t.join(" "):t}const mQ=Symbol.for("motionComponentSymbol");function Wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pQ(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wl(n)&&(n.current=r))},[e])}const TS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gQ="framerAppearId",Mj="data-"+TS(gQ),{schedule:_S}=Rj(queueMicrotask,!1),Pj=y.createContext({});function yQ(t,e,n,r,s){var i,a;const{visualElement:o}=y.useContext(oy),l=y.useContext(Dj),c=y.useContext(ay),u=y.useContext(bS).reducedMotion,d=y.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=y.useContext(Pj);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&vQ(d.current,n,s,p);const S=y.useRef(!1);y.useInsertionEffect(()=>{h&&S.current&&h.update(n,c)});const b=n[Mj],T=y.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return Aj(()=>{h&&(S.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),_S.render(h.render),T.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,b)}),T.current=!1))}),h}function vQ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Oj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Wl(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Oj(t){if(t)return t.options.allowProjection!==!1?t.projection:Oj(t.parent)}function bQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&oQ(t);function o(c,u){let d;const h={...y.useContext(bS),...c,layoutId:wQ(c)},{isStatic:p}=h,S=hQ(c),b=r(c,p);if(!p&&wS){xQ();const T=EQ(h);d=T.MeasureLayout,S.visualElement=yQ(s,b,h,e,T.ProjectionNode)}return m.jsxs(oy.Provider,{value:S,children:[d&&S.visualElement?m.jsx(d,{visualElement:S.visualElement,...h}):null,n(s,c,pQ(b,S.visualElement,u),b,p,S.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const l=y.forwardRef(o);return l[mQ]=s,l}function wQ({layoutId:t}){const e=y.useContext(yS).id;return e&&t!==void 0?e+"-"+t:t}function xQ(t,e){y.useContext(Dj).strict}function EQ(t){const{drag:e,layout:n}=qc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const SQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AS(t){return typeof t!="string"||t.includes("-")?!1:!!(SQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function nC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kS(t,e,n,r){if(typeof e=="function"){const[s,i]=nC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=nC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Ew=t=>Array.isArray(t),TQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_Q=t=>Ew(t)?t[t.length-1]||0:t,zn=t=>!!(t&&t.getVelocity);function Fm(t){const e=zn(t)?t.get():t;return TQ(e)?e.toValue():e}function AQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:kQ(r,s,i,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const jj=t=>(e,n)=>{const r=y.useContext(oy),s=y.useContext(ay),i=()=>AQ(t,e,r,s);return n?i():vS(i)};function kQ(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=Fm(i[h]);let{initial:a,animate:o}=t;const l=cy(t),c=Ij(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!ly(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const S=kS(t,h[p]);if(S){const{transitionEnd:b,transition:T,...v}=S;for(const g in v){let x=v[g];if(Array.isArray(x)){const D=u?x.length-1:0;x=x[D]}x!==null&&(s[g]=x)}for(const g in b)s[g]=b[g]}}}return s}const pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ul=new Set(pu),Lj=t=>e=>typeof e=="string"&&e.startsWith(t),Vj=Lj("--"),CQ=Lj("var(--"),CS=t=>CQ(t)?RQ.test(t.split("/*")[0].trim()):!1,RQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ni=(t,e,n)=>n>e?e:n<t?t:n,gu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yf={...gu,transform:t=>Ni(0,1,t)},im={...gu,default:1},uh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zi=uh("deg"),Is=uh("%"),Se=uh("px"),DQ=uh("vh"),NQ=uh("vw"),rC={...Is,parse:t=>Is.parse(t)/100,transform:t=>Is.transform(t*100)},IQ={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},MQ={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:im,scaleX:im,scaleY:im,scaleZ:im,skew:Zi,skewX:Zi,skewY:Zi,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:yf,originX:rC,originY:rC,originZ:Se},sC={...gu,transform:Math.round},RS={...IQ,...MQ,zIndex:sC,size:Se,fillOpacity:yf,strokeOpacity:yf,numOctaves:sC},PQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OQ=pu.length;function jQ(t,e,n){let r="",s=!0;for(let i=0;i<OQ;i++){const a=pu[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Uj(o,RS[a]);if(!l){s=!1;const u=PQ[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function DS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(ul.has(l)){a=!0;continue}else if(Vj(l)){s[l]=c;continue}else{const u=Uj(c,RS[l]);l.startsWith("origin")?(o=!0,i[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=jQ(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const LQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},VQ={offset:"strokeDashoffset",array:"strokeDasharray"};function UQ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?LQ:VQ;t[i.offset]=Se.transform(-r);const a=Se.transform(e),o=Se.transform(n);t[i.array]=`${a} ${o}`}function iC(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function FQ(t,e,n){const r=iC(e,t.x,t.width),s=iC(n,t.y,t.height);return`${r} ${s}`}function NS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(DS(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:S}=t;h.transform&&(S&&(p.transform=h.transform),delete h.transform),S&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=FQ(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&UQ(h,a,o,l,!1)}const IS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fj=()=>({...IS(),attrs:{}}),MS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const zj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $j(t,e,n,r){Bj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(zj.has(s)?s:TS(s),e.attrs[s])}const qp={};function BQ(t){Object.assign(qp,t)}function Hj(t,{layout:e,layoutId:n}){return ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qp[t]||t==="opacity")}function PS(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(zn(s[a])||e.style&&zn(e.style[a])||Hj(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function qj(t,e,n){const r=PS(t,e,n);for(const s in t)if(zn(t[s])||zn(e[s])){const i=pu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function zQ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const aC=["x","y","width","height","cx","cy","r"],$Q={useVisualState:jj({scrapeMotionValuesFromProps:qj,createRenderState:Fj,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const o in s)if(ul.has(o)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let o=0;o<aC.length;o++){const l=aC[o];t[l]!==e[l]&&(a=!0)}a&&Rt.read(()=>{zQ(n,r),Rt.render(()=>{NS(r,s,MS(n.tagName),t.transformTemplate),$j(n,r)})})}})},HQ={useVisualState:jj({scrapeMotionValuesFromProps:PS,createRenderState:IS})};function Gj(t,e,n){for(const r in e)!zn(e[r])&&!Hj(r,n)&&(t[r]=e[r])}function qQ({transformTemplate:t},e){return y.useMemo(()=>{const n=IS();return DS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GQ(t,e){const n=t.style||{},r={};return Gj(r,n,t),Object.assign(r,qQ(t,e)),r}function WQ(t,e){const n={},r=GQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function YQ(t,e,n,r){const s=y.useMemo(()=>{const i=Fj();return NS(i,e,MS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Gj(i,t.style,t),s.style={...i,...s.style}}return s}function KQ(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(AS(n)?YQ:WQ)(r,i,a,n),c=uQ(r,typeof n=="string",t),u=n!==y.Fragment?{...c,...l,ref:s}:{},{children:d}=r,h=y.useMemo(()=>zn(d)?d.get():d,[d]);return y.createElement(n,{...u,children:h})}}function QQ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...AS(r)?$Q:HQ,preloadedFeatures:t,useRender:KQ(s),createVisualElement:e,Component:r};return bQ(a)}}function Wj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function uy(t,e,n){const r=t.getProps();return kS(r,e,n!==void 0?n:r.custom,t)}const XQ=xS(()=>window.ScrollTimeline!==void 0);class ZQ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(XQ()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JQ extends ZQ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function OS(t,e){return t?t[e]||t.default||t:void 0}const Sw=2e4;function Yj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sw;)e+=n,r=t.next(e);return e>=Sw?1/0:e}function jS(t){return typeof t=="function"}function oC(t,e){t.timeline=e,t.onfinish=null}const LS=t=>Array.isArray(t)&&typeof t[0]=="number",eX={linearEasing:void 0};function tX(t,e){const n=xS(t);return()=>{var r;return(r=eX[e])!==null&&r!==void 0?r:n()}}const Gp=tX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kj=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Hc(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Qj(t){return!!(typeof t=="function"&&Gp()||!t||typeof t=="string"&&(t in Tw||Gp())||LS(t)||Array.isArray(t)&&t.every(Qj))}const rd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rd([0,.65,.55,1]),circOut:rd([.55,0,1,.45]),backIn:rd([.31,.01,.66,-.59]),backOut:rd([.33,1.53,.69,.99])};function Xj(t,e){if(t)return typeof t=="function"&&Gp()?Kj(t,e):LS(t)?rd(t):Array.isArray(t)?t.map(n=>Xj(n,e)||Tw.easeOut):Tw[t]}const Hr={x:!1,y:!1};function Zj(){return Hr.x||Hr.y}function nX(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Jj(t,e){const n=nX(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function lC(t){return e=>{e.pointerType==="touch"||Zj()||t(e)}}function rX(t,e,n={}){const[r,s,i]=Jj(t,n),a=lC(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=lC(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const e4=(t,e)=>e?t===e?!0:e4(t,e.parentElement):!1,VS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iX(t){return sX.has(t.tagName)||t.tabIndex!==-1}const sd=new WeakSet;function cC(t){return e=>{e.key==="Enter"&&t(e)}}function W0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=cC(()=>{if(sd.has(n))return;W0(n,"down");const s=cC(()=>{W0(n,"up")}),i=()=>W0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function uC(t){return VS(t)&&!Zj()}function oX(t,e,n={}){const[r,s,i]=Jj(t,n),a=o=>{const l=o.currentTarget;if(!uC(o)||sd.has(l))return;sd.add(l);const c=e(o),u=(p,S)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!uC(p)||!sd.has(l))&&(sd.delete(l),typeof c=="function"&&c(p,{success:S}))},d=p=>{u(p,n.useGlobalTarget||e4(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(o=>{!iX(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",c=>aX(c,s),s)}),i}function lX(t){return t==="x"||t==="y"?Hr[t]?null:(Hr[t]=!0,()=>{Hr[t]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}const t4=new Set(["width","height","top","left","right","bottom",...pu]);let Bm;function cX(){Bm=void 0}const Ms={now:()=>(Bm===void 0&&Ms.set(Sn.isProcessing||sQ.useManualTiming?Sn.timestamp:performance.now()),Bm),set:t=>{Bm=t,queueMicrotask(cX)}};function US(t,e){t.indexOf(e)===-1&&t.push(e)}function FS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class BS{constructor(){this.subscriptions=[]}add(e){return US(this.subscriptions,e),()=>FS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function n4(t,e){return e?t*(1e3/e):0}const dC=30,uX=t=>!isNaN(parseFloat(t));class dX{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ms.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ms.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new BS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ms.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dC);return n4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vf(t,e){return new dX(t,e)}function fX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vf(n))}function hX(t,e){const n=uy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=_Q(i[a]);fX(t,a,o)}}function mX(t){return!!(zn(t)&&t.add)}function _w(t,e){const n=t.getValue("willChange");if(mX(n))return n.add(e)}function r4(t){return t.props[Mj]}const s4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pX=1e-7,gX=12;function yX(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=s4(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>pX&&++o<gX);return a}function dh(t,e,n,r){if(t===e&&n===r)return Sr;const s=i=>yX(i,0,1,t,n);return i=>i===0||i===1?i:s4(s(i),e,r)}const i4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,a4=t=>e=>1-t(1-e),o4=dh(.33,1.53,.69,.99),zS=a4(o4),l4=i4(zS),c4=t=>(t*=2)<1?.5*zS(t):.5*(2-Math.pow(2,-10*(t-1))),$S=t=>1-Math.sin(Math.acos(t)),u4=a4($S),d4=i4($S),f4=t=>/^0[^.\s]+$/u.test(t);function vX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||f4(t):!0}const Dd=t=>Math.round(t*1e5)/1e5,HS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bX(t){return t==null}const wX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qS=(t,e)=>n=>!!(typeof n=="string"&&wX.test(n)&&n.startsWith(t)||e&&!bX(n)&&Object.prototype.hasOwnProperty.call(n,e)),h4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(HS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},xX=t=>Ni(0,255,t),Y0={...gu,transform:t=>Math.round(xX(t))},Ao={test:qS("rgb","red"),parse:h4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Y0.transform(t)+", "+Y0.transform(e)+", "+Y0.transform(n)+", "+Dd(yf.transform(r))+")"};function EX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Aw={test:qS("#"),parse:EX,transform:Ao.transform},Yl={test:qS("hsl","hue"),parse:h4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Is.transform(Dd(e))+", "+Is.transform(Dd(n))+", "+Dd(yf.transform(r))+")"},Pn={test:t=>Ao.test(t)||Aw.test(t)||Yl.test(t),parse:t=>Ao.test(t)?Ao.parse(t):Yl.test(t)?Yl.parse(t):Aw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ao.transform(t):Yl.transform(t)},SX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(HS))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SX))===null||n===void 0?void 0:n.length)||0)>0}const m4="number",p4="color",_X="var",AX="var(",fC="${}",kX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(kX,l=>(Pn.test(l)?(r.color.push(i),s.push(p4),n.push(Pn.parse(l))):l.startsWith(AX)?(r.var.push(i),s.push(_X),n.push(l)):(r.number.push(i),s.push(m4),n.push(parseFloat(l))),++i,fC)).split(fC);return{values:n,split:o,indexes:r,types:s}}function g4(t){return bf(t).values}function y4(t){const{split:e,types:n}=bf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===m4?i+=Dd(s[a]):o===p4?i+=Pn.transform(s[a]):i+=s[a]}return i}}const CX=t=>typeof t=="number"?0:t;function RX(t){const e=g4(t);return y4(t)(e.map(CX))}const Ya={test:TX,parse:g4,createTransformer:y4,getAnimatableNone:RX},DX=new Set(["brightness","contrast","saturate","opacity"]);function NX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(HS)||[];if(!r)return t;const s=n.replace(r,"");let i=DX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const IX=/\b([a-z-]*)\(.*?\)/gu,kw={...Ya,getAnimatableNone:t=>{const e=t.match(IX);return e?e.map(NX).join(" "):t}},MX={...RS,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:kw,WebkitFilter:kw},GS=t=>MX[t];function v4(t,e){let n=GS(t);return n!==kw&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PX=new Set(["auto","none","0"]);function OX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!PX.has(i)&&bf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=v4(n,s)}const hC=t=>t===gu||t===Se,mC=(t,e)=>parseFloat(t.split(", ")[e]),pC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return mC(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?mC(i[1],t):0}},jX=new Set(["x","y","z"]),LX=pu.filter(t=>!jX.has(t));function VX(t){const e=[];return LX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Gc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pC(4,13),y:pC(5,14)};Gc.translateX=Gc.x;Gc.translateY=Gc.y;const Go=new Set;let Cw=!1,Rw=!1;function b4(){if(Rw){const t=Array.from(Go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=VX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rw=!1,Cw=!1,Go.forEach(t=>t.complete()),Go.clear()}function w4(){Go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rw=!0)})}function UX(){w4(),b4()}class WS{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Go.add(this),Cw||(Cw=!0,Rt.read(w4),Rt.resolveKeyframes(b4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BX(t){const e=FX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function E4(t,e,n=1){const[r,s]=BX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return x4(a)?parseFloat(a):a}return CS(s)?E4(s,e,n+1):s}const S4=t=>e=>e.test(t),zX={test:t=>t==="auto",parse:t=>t},T4=[gu,Se,Is,Zi,NQ,DQ,zX],gC=t=>T4.find(S4(t));class _4 extends WS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),CS(c))){const u=E4(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!t4.has(r)||e.length!==2)return;const[s,i]=e,a=gC(s),o=gC(i);if(a!==o)if(hC(a)&&hC(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)vX(e[s])&&r.push(s);r.length&&OX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Gc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const yC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ya.test(t)||t==="0")&&!t.startsWith("url("));function $X(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=yC(s,e),o=yC(i,e);return!a||!o?!1:$X(t)||(n==="spring"||jS(n))&&r}const qX=t=>t!==null;function dy(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(qX),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const GX=40;class A4{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ms.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ms.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!HX(e,r,s,i))if(a)this.options.duration=0;else{l&&l(dy(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Vt=(t,e,n)=>t+(e-t)*n;function K0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=K0(l,o,t+1/3),i=K0(l,o,t),a=K0(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Wp(t,e){return n=>n>0?e:t}const Q0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},YX=[Aw,Ao,Yl],KX=t=>YX.find(e=>e.test(t));function vC(t){const e=KX(t);if(!e)return!1;let n=e.parse(t);return e===Yl&&(n=WX(n)),n}const bC=(t,e)=>{const n=vC(t),r=vC(e);if(!n||!r)return Wp(t,e);const s={...n};return i=>(s.red=Q0(n.red,r.red,i),s.green=Q0(n.green,r.green,i),s.blue=Q0(n.blue,r.blue,i),s.alpha=Vt(n.alpha,r.alpha,i),Ao.transform(s))},QX=(t,e)=>n=>e(t(n)),fh=(...t)=>t.reduce(QX),Dw=new Set(["none","hidden"]);function XX(t,e){return Dw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZX(t,e){return n=>Vt(t,e,n)}function YS(t){return typeof t=="number"?ZX:typeof t=="string"?CS(t)?Wp:Pn.test(t)?bC:tZ:Array.isArray(t)?k4:typeof t=="object"?Pn.test(t)?bC:JX:Wp}function k4(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>YS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function JX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=YS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function eZ(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[i]=l,s[a]++}return r}const tZ=(t,e)=>{const n=Ya.createTransformer(e),r=bf(t),s=bf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dw.has(t)&&!s.values.length||Dw.has(e)&&!r.values.length?XX(t,e):fh(k4(eZ(r,s),s.values),n):Wp(t,e)};function C4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):YS(t)(t,e)}const nZ=5;function R4(t,e,n){const r=Math.max(e-nZ,0);return n4(n-t(r),e-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},X0=.001;function rZ({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let s,i,a=1-e;a=Ni($t.minDamping,$t.maxDamping,a),t=Ni($t.minDuration,$t.maxDuration,bi(t)),a<1?(s=c=>{const u=c*a,d=u*t,h=u-n,p=Nw(c,a),S=Math.exp(-d);return X0-h/p*S},i=c=>{const d=c*a*t,h=d*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,S=Math.exp(-d),b=Nw(Math.pow(c,2),a);return(-s(c)+X0>0?-1:1)*((h-p)*S)/b}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-X0+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=iZ(s,i,o);if(t=vi(t),isNaN(l))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const sZ=12;function iZ(t,e,n){let r=n;for(let s=1;s<sZ;s++)r=r-t(r)/e(r);return r}function Nw(t,e){return t*Math.sqrt(1-e*e)}const aZ=["duration","bounce"],oZ=["stiffness","damping","mass"];function wC(t,e){return e.some(n=>t[n]!==void 0)}function lZ(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!wC(t,oZ)&&wC(t,aZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ni(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:$t.mass,stiffness:s,damping:i}}else{const n=rZ(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function D4(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=lZ({...n,velocity:-bi(n.velocity||0)}),S=h||0,b=c/(2*Math.sqrt(l*u)),T=a-i,v=bi(Math.sqrt(l/u)),g=Math.abs(T)<5;r||(r=g?$t.restSpeed.granular:$t.restSpeed.default),s||(s=g?$t.restDelta.granular:$t.restDelta.default);let x;if(b<1){const C=Nw(v,b);x=P=>{const A=Math.exp(-b*v*P);return a-A*((S+b*v*T)/C*Math.sin(C*P)+T*Math.cos(C*P))}}else if(b===1)x=C=>a-Math.exp(-v*C)*(T+(S+v*T)*C);else{const C=v*Math.sqrt(b*b-1);x=P=>{const A=Math.exp(-b*v*P),E=Math.min(C*P,300);return a-A*((S+b*v*T)*Math.sinh(E)+C*T*Math.cosh(E))/C}}const D={calculatedDuration:p&&d||null,next:C=>{const P=x(C);if(p)o.done=C>=d;else{let A=0;b<1&&(A=C===0?vi(S):R4(x,C,P));const E=Math.abs(A)<=r,_=Math.abs(a-P)<=s;o.done=E&&_}return o.value=o.done?a:P,o},toString:()=>{const C=Math.min(Yj(D),Sw),P=Kj(A=>D.next(C*A).value,C,30);return C+"ms "+P}};return D}function xC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=E=>o!==void 0&&E<o||l!==void 0&&E>l,S=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let b=n*e;const T=d+b,v=a===void 0?T:a(T);v!==T&&(b=v-d);const g=E=>-b*Math.exp(-E/r),x=E=>v+g(E),D=E=>{const _=g(E),R=x(E);h.done=Math.abs(_)<=c,h.value=h.done?v:R};let C,P;const A=E=>{p(h.value)&&(C=E,P=D4({keyframes:[h.value,S(h.value)],velocity:R4(x,E,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:E=>{let _=!1;return!P&&C===void 0&&(_=!0,D(E),A(E)),C!==void 0&&E>=C?P.next(E-C):(!_&&D(E),h)}}}const cZ=dh(.42,0,1,1),uZ=dh(0,0,.58,1),N4=dh(.42,0,.58,1),dZ=t=>Array.isArray(t)&&typeof t[0]!="number",fZ={linear:Sr,easeIn:cZ,easeInOut:N4,easeOut:uZ,circIn:$S,circInOut:d4,circOut:u4,backIn:zS,backInOut:l4,backOut:o4,anticipate:c4},EC=t=>{if(LS(t)){Cj(t.length===4);const[e,n,r,s]=t;return dh(e,n,r,s)}else if(typeof t=="string")return fZ[t];return t};function hZ(t,e,n){const r=[],s=n||C4,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Sr:e;o=fh(l,o)}r.push(o)}return r}function mZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Cj(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=hZ(e,r,s),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Hc(t[d],t[d+1],u);return o[d](h)};return n?u=>c(Ni(t[0],t[i-1],u)):c}function pZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Hc(0,e,r);t.push(Vt(n,1,s))}}function gZ(t){const e=[0];return pZ(e,t.length-1),e}function yZ(t,e){return t.map(n=>n*e)}function vZ(t,e){return t.map(()=>e||N4).splice(0,t.length-1)}function Yp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=dZ(r)?r.map(EC):EC(r),i={done:!1,value:e[0]},a=yZ(n&&n.length===e.length?n:gZ(e),t),o=mZ(a,e,{ease:Array.isArray(s)?s:vZ(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const bZ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Rt.update(e,!0),stop:()=>Wa(e),now:()=>Sn.isProcessing?Sn.timestamp:Ms.now()}},wZ={decay:xC,inertia:xC,tween:Yp,keyframes:Yp,spring:D4},xZ=t=>t/100;class KS extends A4{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||WS,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(i,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=jS(n)?n:wZ[n]||Yp;let l,c;o!==Yp&&typeof e[0]!="number"&&(l=fh(xZ,C4(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});i==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Yj(u));const{calculatedDuration:d}=u,h=d+s,p=h*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:S,repeatDelay:b,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,D=i;if(p){const E=Math.min(this.currentTime,u)/d;let _=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(S==="reverse"?(R=1-R,b&&(R-=b/d)):S==="mirror"&&(D=a)),x=Ni(0,1,R)*d}const C=g?{done:!1,value:l[0]}:D.next(x);o&&(C.value=o(C.value));let{done:P}=C;!g&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&s!==void 0&&(C.value=dy(l,this.options,s)),T&&T(C.value),A&&this.finish(),C}get duration(){const{resolved:e}=this;return e?bi(e.calculatedDuration):0}get time(){return bi(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bZ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const EZ=new Set(["opacity","clipPath","filter","transform"]);function SZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Xj(o,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const TZ=xS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kp=10,_Z=2e4;function AZ(t){return jS(t.type)||t.type==="spring"||!Qj(t.ease)}function kZ(t,e){const n=new KS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<_Z;)r=n.sample(i),s.push(r.value),i+=Kp;return{times:void 0,keyframes:s,duration:i-Kp,ease:"linear"}}const I4={anticipate:c4,backInOut:l4,circInOut:d4};function CZ(t){return t in I4}class SC extends A4{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new _4(i,(a,o)=>this.onKeyframesResolved(a,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Gp()&&CZ(i)&&(i=I4[i]),AZ(this.options)){const{onComplete:d,onUpdate:h,motionValue:p,element:S,...b}=this.options,T=kZ(e,b);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,s=T.times,i=T.ease,a="keyframes"}const u=SZ(o.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(oC(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;o.set(dy(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return bi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return bi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Sr;const{animation:r}=n;oC(r,e)}return Sr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...p}=this.options,S=new KS({...p,keyframes:r,duration:s,type:i,ease:a,times:o,isGenerator:!0}),b=vi(this.time);c.setWithVelocity(S.sample(b-Kp).value,S.sample(b).value,Kp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return TZ()&&r&&EZ.has(r)&&!l&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const RZ={type:"spring",stiffness:500,damping:25,restSpeed:10},DZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NZ={type:"keyframes",duration:.8},IZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MZ=(t,{keyframes:e})=>e.length>2?NZ:ul.has(t)?t.startsWith("scale")?DZ(e[1]):RZ:IZ;function PZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const QS=(t,e,n,r={},s,i)=>a=>{const o=OS(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-vi(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};PZ(o)||(u={...u,...MZ(t,u)}),u.duration&&(u.duration=vi(u.duration)),u.repeatDelay&&(u.repeatDelay=vi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!i&&e.get()!==void 0){const h=dy(u.keyframes,o);if(h!==void 0)return Rt.update(()=>{u.onUpdate(h),u.onComplete()}),new JQ([])}return!i&&SC.supports(u)?new SC(u):new KS(u)};function OZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function M4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),p=l[d];if(p===void 0||u&&OZ(u,d))continue;const S={delay:n,...OS(a||{},d)};let b=!1;if(window.MotionHandoffAnimation){const v=r4(t);if(v){const g=window.MotionHandoffAnimation(v,d,Rt);g!==null&&(S.startTime=g,b=!0)}}_w(t,d),h.start(QS(d,h,p,t.shouldReduceMotion&&t4.has(d)?{type:!1}:S,t,b));const T=h.animation;T&&c.push(T)}return o&&Promise.all(c).then(()=>{Rt.update(()=>{o&&hX(t,o)})}),c}function Iw(t,e,n={}){var r;const s=uy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(M4(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return jZ(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function jZ(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(LZ).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(Iw(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function LZ(t,e){return t.sortNodePosition(e)}function VZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Iw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Iw(t,e,n);else{const s=typeof e=="function"?uy(t,e,n.custom):e;r=Promise.all(M4(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const UZ=SS.length;function P4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<UZ;n++){const r=SS[n],s=t.props[r];(gf(s)||s===!1)&&(e[r]=s)}return e}const FZ=[...ES].reverse(),BZ=ES.length;function zZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VZ(t,n,r)))}function $Z(t){let e=zZ(t),n=TC(),r=!0;const s=l=>(c,u)=>{var d;const h=uy(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:S,...b}=h;c={...c,...b,...S}}return c};function i(l){e=l(t)}function a(l){const{props:c}=t,u=P4(t.parent)||{},d=[],h=new Set;let p={},S=1/0;for(let T=0;T<BZ;T++){const v=FZ[T],g=n[v],x=c[v]!==void 0?c[v]:u[v],D=gf(x),C=v===l?g.isActive:null;C===!1&&(S=T);let P=x===u[v]&&x!==c[v]&&D;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...p},!g.isActive&&C===null||!x&&!g.prevProp||ly(x)||typeof x=="boolean")continue;const A=HZ(g.prevProp,x);let E=A||v===l&&g.isActive&&!P&&D||T>S&&D,_=!1;const R=Array.isArray(x)?x:[x];let N=R.reduce(s(v),{});C===!1&&(N={});const{prevResolvedValues:I={}}=g,M={...I,...N},V=U=>{E=!0,h.has(U)&&(_=!0,h.delete(U)),g.needsAnimating[U]=!0;const j=t.getValue(U);j&&(j.liveStyle=!1)};for(const U in M){const j=N[U],K=I[U];if(p.hasOwnProperty(U))continue;let Q=!1;Ew(j)&&Ew(K)?Q=!Wj(j,K):Q=j!==K,Q?j!=null?V(U):h.add(U):j!==void 0&&h.has(U)?V(U):g.protectedKeys[U]=!0}g.prevProp=x,g.prevResolvedValues=N,g.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(P&&A)||_)&&d.push(...R.map(U=>({animation:U,options:{type:v}})))}if(h.size){const T={};h.forEach(v=>{const g=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),T[v]=g??null}),d.push({animation:T})}let b=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(d):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=TC(),r=!0}}}function HZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Wj(e,t):!1}function uo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TC(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qZ extends to{constructor(e){super(e),e.animationState||(e.animationState=$Z(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ly(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let GZ=0;class WZ extends to{constructor(){super(...arguments),this.id=GZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YZ={animation:{Feature:qZ},exit:{Feature:WZ}};function wf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hh(t){return{point:{x:t.pageX,y:t.pageY}}}const KZ=t=>e=>VS(e)&&t(e,hh(e));function Nd(t,e,n,r){return wf(t,e,KZ(n),r)}const _C=(t,e)=>Math.abs(t-e);function QZ(t,e){const n=_C(t.x,e.x),r=_C(t.y,e.y);return Math.sqrt(n**2+r**2)}class O4{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=J0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=QZ(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:S}=d,{timestamp:b}=Sn;this.history.push({...S,timestamp:b});const{onStart:T,onMove:v}=this.handlers;h||(T&&T(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Z0(h,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=J0(d.type==="pointercancel"?this.lastMoveEventInfo:Z0(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,T),S&&S(d,T)},!VS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=hh(e),o=Z0(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Sn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,J0(o,this.history)),this.removeListeners=fh(Nd(this.contextWindow,"pointermove",this.handlePointerMove),Nd(this.contextWindow,"pointerup",this.handlePointerUp),Nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wa(this.updatePoint)}}function Z0(t,e){return e?{point:e(t.point)}:t}function AC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function J0({point:t},e){return{point:t,delta:AC(t,j4(e)),offset:AC(t,XZ(e)),velocity:ZZ(e,.1)}}function XZ(t){return t[0]}function j4(t){return t[t.length-1]}function ZZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=j4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>vi(e)));)n--;if(!r)return{x:0,y:0};const i=bi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const L4=1e-4,JZ=1-L4,eJ=1+L4,V4=.01,tJ=0-V4,nJ=0+V4;function Ar(t){return t.max-t.min}function rJ(t,e,n){return Math.abs(t-e)<=n}function kC(t,e,n,r=.5){t.origin=r,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JZ&&t.scale<=eJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=tJ&&t.translate<=nJ||isNaN(t.translate))&&(t.translate=0)}function Id(t,e,n,r){kC(t.x,e.x,n.x,r?r.originX:void 0),kC(t.y,e.y,n.y,r?r.originY:void 0)}function CC(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function sJ(t,e,n){CC(t.x,e.x,n.x),CC(t.y,e.y,n.y)}function RC(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function Md(t,e,n){RC(t.x,e.x,n.x),RC(t.y,e.y,n.y)}function iJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vt(n,t,r.max):Math.min(t,n)),t}function DC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aJ(t,{top:e,left:n,bottom:r,right:s}){return{x:DC(t.x,n,s),y:DC(t.y,e,r)}}function NC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function oJ(t,e){return{x:NC(t.x,e.x),y:NC(t.y,e.y)}}function lJ(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=Hc(e.min,e.max-r,t.min):r>s&&(n=Hc(t.min,t.max-s,e.min)),Ni(0,1,n)}function cJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mw=.35;function uJ(t=Mw){return t===!1?t=0:t===!0&&(t=Mw),{x:IC(t,"left","right"),y:IC(t,"top","bottom")}}function IC(t,e,n){return{min:MC(t,e),max:MC(t,n)}}function MC(t,e){return typeof t=="number"?t:t[e]||0}const PC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:PC(),y:PC()}),OC=()=>({min:0,max:0}),Yt=()=>({x:OC(),y:OC()});function Dr(t){return[t("x"),t("y")]}function U4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ev(t){return t===void 0||t===1}function Pw({scale:t,scaleX:e,scaleY:n}){return!ev(t)||!ev(e)||!ev(n)}function yo(t){return Pw(t)||F4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function F4(t){return jC(t.x)||jC(t.y)}function jC(t){return t&&t!=="0%"}function Qp(t,e,n){const r=t-n,s=e*r;return n+s}function LC(t,e,n,r,s){return s!==void 0&&(t=Qp(t,s,r)),Qp(t,n,r)+e}function Ow(t,e=0,n=1,r,s){t.min=LC(t.min,e,n,r,s),t.max=LC(t.max,e,n,r,s)}function B4(t,{x:e,y:n}){Ow(t.x,e.translate,e.scale,e.originPoint),Ow(t.y,n.translate,n.scale,n.originPoint)}const VC=.999999999999,UC=1.0000000000001;function hJ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,B4(t,a)),r&&yo(i.latestValues)&&Xl(t,i.latestValues))}e.x<UC&&e.x>VC&&(e.x=1),e.y<UC&&e.y>VC&&(e.y=1)}function Ql(t,e){t.min=t.min+e,t.max=t.max+e}function FC(t,e,n,r,s=.5){const i=Vt(t.min,t.max,s);Ow(t,e,n,i,r)}function Xl(t,e){FC(t.x,e.x,e.scaleX,e.scale,e.originX),FC(t.y,e.y,e.scaleY,e.scale,e.originY)}function z4(t,e){return U4(fJ(t.getBoundingClientRect(),e))}function mJ(t,e,n){const r=z4(t,n),{scroll:s}=e;return s&&(Ql(r.x,s.offset.x),Ql(r.y,s.offset.y)),r}const $4=({current:t})=>t?t.ownerDocument.defaultView:null,pJ=new WeakMap;class gJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hh(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:S}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lX(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dr(T=>{let v=this.getAxisMotionValue(T).get()||0;if(Is.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[T];x&&(v=Ar(x)*(parseFloat(v)/100))}}this.originPoint[T]=v}),S&&Rt.postRender(()=>S(u,d)),_w(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:S,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:T}=d;if(p&&this.currentDirection===null){this.currentDirection=yJ(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),b&&b(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Dr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new O4(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Rt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!am(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=iJ(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Wl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=aJ(s.layoutBox,n):this.constraints=!1,this.elastic=uJ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cJ(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=mJ(r,s.root,this.visualElement.getTransformPagePoint());let a=oJ(s.layout.layoutBox,i);if(n){const o=n(dJ(a));this.hasMutatedConstraints=!!o,o&&(a=U4(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Dr(u=>{if(!am(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,S)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _w(this.visualElement,e),r.start(QS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dr(n=>{const{drag:r}=this.getProps();if(!am(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-Vt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dr(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=lJ({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dr(a=>{if(!am(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Vt(l,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;pJ.set(this.visualElement,this);const e=this.visualElement.current,n=Nd(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Rt.read(r);const a=wf(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Dr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Mw,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function am(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vJ extends to{constructor(e){super(e),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new gJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BC=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class bJ extends to{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(e){this.session=new O4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BC(e),onStart:BC(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Rt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Nd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=zC(t,e.target.x),r=zC(t,e.target.y);return`${n}% ${r}%`}},wJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ya.parse(t);if(s.length>5)return r;const i=Ya.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const c=Vt(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}};class xJ extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;BQ(EJ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Rt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_S.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function H4(t){const[e,n]=_j(),r=y.useContext(yS);return m.jsx(xJ,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(Pj),isPresent:e,safeToRemove:n})}const EJ={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:wJ};function SJ(t,e,n){const r=zn(t)?t:vf(t);return r.start(QS("",r,e,n)),r.animation}function TJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _J=(t,e)=>t.depth-e.depth;class AJ{constructor(){this.children=[],this.isDirty=!1}add(e){US(this.children,e),this.isDirty=!0}remove(e){FS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_J),this.isDirty=!1,this.children.forEach(e)}}function kJ(t,e){const n=Ms.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Wa(r),t(i-e))};return Rt.read(r,!0),()=>Wa(r)}const q4=["TopLeft","TopRight","BottomLeft","BottomRight"],CJ=q4.length,$C=t=>typeof t=="string"?parseFloat(t):t,HC=t=>typeof t=="number"||Se.test(t);function RJ(t,e,n,r,s,i){s?(t.opacity=Vt(0,n.opacity!==void 0?n.opacity:1,DJ(r)),t.opacityExit=Vt(e.opacity!==void 0?e.opacity:1,0,NJ(r))):i&&(t.opacity=Vt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<CJ;a++){const o=`border${q4[a]}Radius`;let l=qC(e,o),c=qC(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||HC(l)===HC(c)?(t[o]=Math.max(Vt($C(l),$C(c),r),0),(Is.test(c)||Is.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,r))}function qC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DJ=G4(0,.5,u4),NJ=G4(.5,.95,Sr);function G4(t,e,n){return r=>r<t?0:r>e?1:n(Hc(t,e,r))}function GC(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){GC(t.x,e.x),GC(t.y,e.y)}function WC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YC(t,e,n,r,s){return t-=e,t=Qp(t,1/n,r),s!==void 0&&(t=Qp(t,1/s,r)),t}function IJ(t,e=0,n=1,r=.5,s,i=t,a=t){if(Is.test(e)&&(e=parseFloat(e),e=Vt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Vt(i.min,i.max,r);t===i&&(o-=e),t.min=YC(t.min,e,n,o,s),t.max=YC(t.max,e,n,o,s)}function KC(t,e,[n,r,s],i,a){IJ(t,e[n],e[r],e[s],e.scale,i,a)}const MJ=["x","scaleX","originX"],PJ=["y","scaleY","originY"];function QC(t,e,n,r){KC(t.x,e,MJ,n?n.x:void 0,r?r.x:void 0),KC(t.y,e,PJ,n?n.y:void 0,r?r.y:void 0)}function XC(t){return t.translate===0&&t.scale===1}function W4(t){return XC(t.x)&&XC(t.y)}function ZC(t,e){return t.min===e.min&&t.max===e.max}function OJ(t,e){return ZC(t.x,e.x)&&ZC(t.y,e.y)}function JC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y4(t,e){return JC(t.x,e.x)&&JC(t.y,e.y)}function eR(t){return Ar(t.x)/Ar(t.y)}function tR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jJ{constructor(){this.members=[]}add(e){US(this.members,e),e.scheduleRender()}remove(e){if(FS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LJ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},id=typeof window<"u"&&window.MotionDebug!==void 0,tv=["","X","Y","Z"],VJ={visibility:"hidden"},nR=1e3;let UJ=0;function nv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function K4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&K4(r)}function Q4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=UJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,id&&(vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0),this.nodes.forEach(zJ),this.nodes.forEach(WJ),this.nodes.forEach(YJ),this.nodes.forEach($J),id&&window.MotionDebug.record(vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AJ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new BS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TJ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=kJ(h,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(sR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||JJ,{onLayoutAnimationStart:T,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!Y4(this.targetLayout,S)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const D={...OS(b,"layout"),onPlay:T,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else h||sR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KJ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rR);return}this.isUpdating||this.nodes.forEach(qJ),this.isUpdating=!1,this.nodes.forEach(GJ),this.nodes.forEach(FJ),this.nodes.forEach(BJ),this.clearAllSnapshots();const o=Ms.now();Sn.delta=Ni(0,1e3/60,o-Sn.timestamp),Sn.timestamp=o,Sn.isProcessing=!0,G0.update.process(Sn),G0.preRender.process(Sn),G0.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_S.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HJ),this.sharedNodes.forEach(QJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!W4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||yo(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),eee(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Yt();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(tee))){const{scroll:u}=this.root;u&&(Ql(l.x,u.offset.x),Ql(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=Yt();if(Rr(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Rr(l,a),Ql(l.x,d.offset.x),Ql(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Yt();Rr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yo(u.latestValues)&&Xl(l,u.latestValues)}return yo(this.latestValues)&&Xl(l,this.latestValues),l}removeTransform(a){const o=Yt();Rr(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yo(c.latestValues))continue;Pw(c.latestValues)&&c.updateSnapshot();const u=Yt(),d=c.measurePageBox();Rr(u,d),QC(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yo(this.latestValues)&&QC(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Md(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Md(this.relativeTargetOrigin,this.target,p.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}id&&vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pw(this.parent.latestValues)||F4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Rr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;hJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Yt());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WC(this.prevProjectionDelta.x,this.projectionDelta.x),WC(this.prevProjectionDelta.y,this.projectionDelta.y)),Id(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!tR(this.projectionDelta.x,this.prevProjectionDelta.x)||!tR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),id&&vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Yt(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,b=p!==S,T=this.getStack(),v=!T||T.members.length<=1,g=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(ZJ));this.animationProgress=0;let x;this.mixTargetDelta=D=>{const C=D/1e3;iR(d.x,a.x,C),iR(d.y,a.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Md(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XJ(this.relativeTarget,this.relativeTargetOrigin,h,C),x&&OJ(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Yt()),Rr(x,this.relativeTarget)),b&&(this.animationValues=u,RJ(u,c,this.latestValues,C,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{zm.hasAnimatedSinceResize=!0,this.currentAnimation=SJ(0,nR,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&X4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yt();const d=Ar(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const h=Ar(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Rr(o,l),Xl(o,u),Id(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new jJ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&nv("z",a,c,this.animationValues);for(let u=0;u<tv.length;u++)nv(`rotate${tv[u]}`,a,c,this.animationValues),nv(`skew${tv[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VJ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Fm(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Fm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=LJ(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:S}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in qp){if(h[b]===void 0)continue;const{correct:T,applyTo:v}=qp[b],g=c.transform==="none"?h[b]:T(h[b],d);if(v){const x=v.length;for(let D=0;D<x;D++)c[v[D]]=g}else c[b]=g}return this.options.layoutId&&(c.pointerEvents=d===this?Fm(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(rR),this.root.sharedNodes.clear()}}}function FJ(t){t.updateLayout()}function BJ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Dr(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],p=Ar(h);h.min=r[d].min,h.max=h.min+p}):X4(i,n.layoutBox,r)&&Dr(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],p=Ar(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const o=Kl();Id(o,r,n.layoutBox);const l=Kl();a?Id(l,t.applyTransform(s,!0),n.measuredBox):Id(l,r,n.layoutBox);const c=!W4(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const S=Yt();Md(S,n.layoutBox,h.layoutBox);const b=Yt();Md(b,r,p.layoutBox),Y4(S,b)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zJ(t){id&&vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $J(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HJ(t){t.clearSnapshot()}function rR(t){t.clearMeasurements()}function qJ(t){t.isLayoutDirty=!1}function GJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WJ(t){t.resolveTargetDelta()}function YJ(t){t.calcProjection()}function KJ(t){t.resetSkewAndRotation()}function QJ(t){t.removeLeadSnapshot()}function iR(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aR(t,e,n,r){t.min=Vt(e.min,n.min,r),t.max=Vt(e.max,n.max,r)}function XJ(t,e,n,r){aR(t.x,e.x,n.x,r),aR(t.y,e.y,n.y,r)}function ZJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JJ={duration:.45,ease:[.4,0,.1,1]},oR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lR=oR("applewebkit/")&&!oR("chrome/")?Math.round:Sr;function cR(t){t.min=lR(t.min),t.max=lR(t.max)}function eee(t){cR(t.x),cR(t.y)}function X4(t,e,n){return t==="position"||t==="preserve-aspect"&&!rJ(eR(e),eR(n),.2)}function tee(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const nee=Q4({attachResizeListener:(t,e)=>wf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rv={current:void 0},Z4=Q4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rv.current){const t=new nee({});t.mount(window),t.setOptions({layoutScroll:!0}),rv.current=t}return rv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ree={pan:{Feature:bJ},drag:{Feature:vJ,ProjectionNode:Z4,MeasureLayout:H4}};function uR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Rt.postRender(()=>i(e,hh(e)))}class see extends to{mount(){const{current:e}=this.node;e&&(this.unmount=rX(e,n=>(uR(this.node,n,"Start"),r=>uR(this.node,r,"End"))))}unmount(){}}class iee extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fh(wf(this.node.current,"focus",()=>this.onFocus()),wf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dR(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Rt.postRender(()=>i(e,hh(e)))}class aee extends to{mount(){const{current:e}=this.node;e&&(this.unmount=oX(e,n=>(dR(this.node,n,"Start"),(r,{success:s})=>dR(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jw=new WeakMap,sv=new WeakMap,oee=t=>{const e=jw.get(t.target);e&&e(t)},lee=t=>{t.forEach(oee)};function cee({root:t,...e}){const n=t||document;sv.has(n)||sv.set(n,{});const r=sv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(lee,{root:t,...e})),r[s]}function uee(t,e,n){const r=cee(e);return jw.set(t,n),r.observe(t),()=>{jw.delete(t),r.unobserve(t)}}const dee={some:0,all:1};class fee extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dee[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return uee(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hee(e,n))&&this.startObserver()}unmount(){}}function hee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mee={inView:{Feature:fee},tap:{Feature:aee},focus:{Feature:iee},hover:{Feature:see}},pee={layout:{ProjectionNode:Z4,MeasureLayout:H4}},Lw={current:null},J4={current:!1};function gee(){if(J4.current=!0,!!wS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lw.current=t.matches;t.addListener(e),e()}else Lw.current=!1}const yee=[...T4,Pn,Ya],vee=t=>yee.find(S4(t)),fR=new WeakMap;function bee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(zn(s))t.addValue(r,s);else if(zn(i))t.addValue(r,vf(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,vf(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ms.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Rt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=cy(n),this.isVariantNode=Ij(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const S=h[p];l[p]!==void 0&&zn(S)&&S.set(l[p],!1)}}mount(e){this.current=e,fR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),J4.current||gee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fR.delete(this.current),this.projection&&this.projection.unmount(),Wa(this.notifyUpdate),Wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ul.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qc){const n=qc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hR.length;r++){const s=hR[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=bee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(x4(s)||f4(s))?s=parseFloat(s):!vee(s)&&Ya.test(n)&&(s=v4(e,n)),this.setBaseTarget(e,zn(s)?s.get():s)),zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=kS(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new BS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class eL extends wee{constructor(){super(...arguments),this.KeyframeResolver=_4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xee(t){return window.getComputedStyle(t)}class Eee extends eL{constructor(){super(...arguments),this.type="html",this.renderInstance=Bj}readValueFromInstance(e,n){if(ul.has(n)){const r=GS(n);return r&&r.default||0}else{const r=xee(e),s=(Vj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return z4(e,n)}build(e,n,r){DS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return PS(e,n,r)}}class See extends eL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ul.has(n)){const r=GS(n);return r&&r.default||0}return n=zj.has(n)?n:TS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return qj(e,n,r)}build(e,n,r){NS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){$j(e,n,r,s)}mount(e){this.isSVGTag=MS(e.tagName),super.mount(e)}}const Tee=(t,e)=>AS(t)?new See(e):new Eee(e,{allowProjection:t!==y.Fragment}),_ee=QQ({...YZ,...mee,...ree,...pee},Tee),Un=dQ(_ee),Aee=({open:t,onOpenChange:e,tasks:n,yesterdayDate:r,onMarkCompleted:s})=>{const[i,a]=y.useState([]),o=n.filter(h=>!h.completed),l=h=>{a(p=>p.includes(h)?p.filter(S=>S!==h):[...p,h])},c=()=>{i.length>0&&s(i,r),a([]),e(!1)},u=()=>{a([]),e(!1)},d=h=>new Date(h).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return t?m.jsx(kj,{children:m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[m.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:u}),m.jsxs(Un.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md mx-4 bg-white dark:bg-black rounded-lg shadow-xl border border-gray-200 dark:border-white",children:[m.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-200 dark:border-white gap-3",children:[m.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[m.jsx("div",{className:"w-20 h-20 rounded-lg shrink-0",children:m.jsx("img",{src:"/lovable-uploads/icono de la app.png",alt:"Stebe",className:"w-20 h-20 rounded-lg"})}),m.jsxs("div",{className:"flex-1 rounded-xl border border-gray-200 dark:border-white bg-white dark:bg-black shadow-sm px-3 py-2",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(uS,{className:"w-4 h-4 text-black dark:text-white"}),m.jsx("span",{className:"text-xs font-semibold text-black dark:text-white uppercase tracking-wide",children:"Recordatorio"})]}),m.jsx("p",{className:"text-sm text-black dark:text-white",children:"Completaste tareas ayer? Eleg las que terminaste para mantener tus estadsticas precisas."})]})]}),m.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m.jsx(ch,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-4",children:d(r)}),m.jsx("p",{className:"text-black dark:text-white mb-6",children:"Seleccion las tareas que completaste ayer:"}),m.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.length===0?m.jsx("p",{className:"text-center text-gray-500 dark:text-white py-4",children:"No hay tareas pendientes para marcar"}):o.map(h=>m.jsxs(Un.div,{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${i.includes(h.id)?"bg-white dark:bg-black border-black dark:border-white":"bg-gray-50 dark:bg-black border-gray-200 dark:border-white hover:bg-gray-100 dark:hover:bg-black"}`,onClick:()=>l(h.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${i.includes(h.id)?"bg-black border-black dark:bg-white dark:border-white":"border-gray-300 dark:border-white"}`,children:i.includes(h.id)&&m.jsx(sy,{className:"w-3 h-3 text-white dark:text-black"})}),m.jsx("span",{className:"text-sm text-black dark:text-white flex-1",children:h.title})]},h.id))})]}),m.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-white",children:[m.jsx(Kn,{variant:"outline",onClick:u,className:"flex-1",children:"Saltar"}),m.jsxs(Kn,{onClick:c,disabled:i.length===0,className:"flex-1",children:["Confirmar (",i.length,")"]})]})]})]})}):null};class kee{constructor(){on(this,"baseURL");on(this,"headers");this.baseURL="https://v0-steeb-api-backend-production.up.railway.app/api",this.headers={"Content-Type":"application/json"}}getAuthHeaders(){const e=localStorage.getItem("auth-token");return e?{...this.headers,Authorization:`Bearer ${e}`}:this.headers}async handleResponse(e){try{const n=await e.json();return e.ok?{success:!0,data:n.data||n,message:n.message,timestamp:new Date().toISOString()}:{success:!1,error:n.error||e.statusText,message:n.message,timestamp:new Date().toISOString()}}catch{return{success:!1,error:"Failed to parse response",timestamp:new Date().toISOString()}}}async get(e,n){const r=new URL(`${this.baseURL}${e}`);n&&Object.entries(n).forEach(([s,i])=>{i!=null&&r.searchParams.append(s,String(i))});try{const s=await fetch(r.toString(),{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(s)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Network error",timestamp:new Date().toISOString()}}}async post(e,n){try{const r=await fetch(`${this.baseURL}${e}`,{method:"POST",headers:this.getAuthHeaders(),body:n?JSON.stringify(n):void 0});return this.handleResponse(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Network error",timestamp:new Date().toISOString()}}}async put(e,n){try{const r=await fetch(`${this.baseURL}${e}`,{method:"PUT",headers:this.getAuthHeaders(),body:n?JSON.stringify(n):void 0});return this.handleResponse(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Network error",timestamp:new Date().toISOString()}}}async delete(e,n){try{const r=await fetch(`${this.baseURL}${e}`,{method:"DELETE",headers:this.getAuthHeaders(),body:n?JSON.stringify(n):void 0});return this.handleResponse(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Network error",timestamp:new Date().toISOString()}}}async health(){try{return(await this.get("/health")).success}catch{return!1}}setBaseURL(e){this.baseURL=e}setHeader(e,n){this.headers[e]=n}removeHeader(e){delete this.headers[e]}}const iv=new kee,Xp={createPayment:async(t,e="black-user-plan",n=1)=>{var r,s;try{console.log(" Creando pago para usuario:",t,"Plan:",e,"Qty:",n);const a=(r=Ia().currentUser)==null?void 0:r.uid,o=t.userId||a;if(!o)throw new Error("User ID is required for payment");const l={planId:e,quantity:n,...t,userId:o},c=await iv.post("/payments/create-preference",l);if(!c.success)throw new Error(c.error||"Error creando preferencia de pago");return console.log(" Pago creado exitosamente:",c.data),c.data}catch(i){console.error(" Error creating payment:",i);try{console.log(" Intentando con fetch directo...");const a="https://v0-steeb-api-backend-production.up.railway.app/api",l=(s=Ia().currentUser)==null?void 0:s.uid,c=t.userId||l;if(!c)throw new Error("User ID is required for payment");const u=await fetch(`${a}/payments/create-preference`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({planId:e,quantity:n,...t,userId:c}),mode:"cors"});if(!u.ok)throw new Error(`HTTP ${u.status}: ${u.statusText}`);const d=await u.json();return console.log(" Pago creado con fetch directo:",d),d}catch(a){throw console.error(" Error con fetch directo:",a),new Error(`Error de conexin: ${a instanceof Error?a.message:"Unknown error"}`)}}},createPreference:async t=>{try{const n=Ia().currentUser;if(!n)throw new Error("Usuario no autenticado");const s={dark:"black-user-plan",shiny:"shiny-mode-premium",shinyRoll:"shiny-roll-premium"}[t.upgradeType]||"black-user-plan",i=await iv.post("/payments/create-preference",{planId:s,userId:t.userId,email:n.email||`user_${t.userId}@steeb.app`,name:n.displayName||"Usuario STEEB",quantity:t.quantity});if(!i.success)throw new Error(i.error||"Error creando preferencia de pago");return i.data}catch(e){throw console.error("Error creating payment preference:",e),e}},redirectToCheckout:t=>{console.log("?? Redirigiendo a Mercado Pago:",t);let e=t.initPoint||t.sandboxInitPoint;if(!e)throw new Error("No hay URL de checkout disponible");e.startsWith("mercadopago://")&&(e=e.replace(/^mercadopago:\/\//,"https://www.mercadopago.com.ar/"),console.log(" Deep link convertido a HTTPS:",e)),console.log(" URL final (sin deep links):",e),window.location.href=e},handlePayment:async(t,e="black-user-plan",n=1)=>{try{console.log(" Iniciando flujo de pago para:",t);const r=await Xp.createPayment(t,e,n);try{typeof window<"u"&&e.toLowerCase().includes("black")&&localStorage.setItem("steeb-pending-dark-upgrade","1")}catch(s){console.warn(" No se pudo guardar flag de upgrade BLACK:",s)}return Xp.redirectToCheckout(r),r}catch(r){throw console.error(" Error en proceso de pago:",r),r}},processPaymentSuccess:async(t,e)=>{try{console.log(" Procesando pago exitoso:",{preferenceId:t,userId:e});const n=await iv.get(`/users/role?userId=${e}`);if(n.success&&n.data){const r=n.data;return console.log(" Rol actualizado:",r),{success:!0,role:r.role,permissions:r.permissions,isPremium:r.role==="premium"}}throw new Error("No se pudo verificar el rol del usuario")}catch(n){throw console.error(" Error procesando pago exitoso:",n),n}}},Cee=()=>{const{currentTheme:t,toggleTheme:e}=Cr(),{userProfile:n}=mj(),{user:r}=Li(),{tipoUsuario:s}=hj(),[i,a]=y.useState(!1),o=C=>{const P=new CustomEvent("steeb-message",{detail:{type:"theme-info",content:C,timestamp:new Date}});window.dispatchEvent(P)},[l,c]=y.useState(!1),[u,d]=y.useState(0),[h,p]=y.useState(0),S=y.useRef(null),b=C=>{console.log(" canUseThemeMode - tipoUsuario:",s,"theme:",C);const P=(s||"white").toLowerCase();return P==="white"?C==="light":P==="black"||P==="dark"?C==="light"||C==="dark":P==="shiny"?!0:C==="light"},T=C=>{const P=(s||"white").toLowerCase();if(!b(C)){if(C==="dark"){const A={type:"theme-info-with-button",content:`Quers ser usuario **Black**?

-Acceso al DARK mode.
-Acceso al juego SHINY, ademas de una tirada gratis.
-Lo mas imporante no se te va arruinar la vista cada vez que entres a la app.

Todo esto a tan solo $3000`,timestamp:new Date,showMercadoPagoButton:!0};window.dispatchEvent(new CustomEvent("steeb-message-with-button",{detail:A}))}else if(C==="shiny")if(P==="white")o("Para acceder al modo SHINY, primero necesitas ser usuario **Black**.");else{const E={type:"theme-info-with-options",content:`Vas a probar suerte para desbloquear el modo SHINY?

Te quedan ${(n==null?void 0:n.shinyRolls)||0} tiradas.

Eleg tu paquete de tiradas:`,timestamp:new Date,paymentOptions:[{id:"1-roll",label:"1 tirada",price:"$300",action:"buy-shiny-rolls",planId:"shiny-roll-1",className:"text-black dark:text-white"},{id:"15-rolls",label:"15 tiradas",price:"$4000",action:"buy-shiny-rolls",planId:"shiny-roll-15",className:"text-black dark:text-white"},{id:"30-rolls",label:"30 tiradas",price:"$8000",action:"buy-shiny-rolls",planId:"shiny-roll-30",className:"text-black dark:text-white"}]};window.dispatchEvent(new CustomEvent("steeb-message-with-options",{detail:E}))}return}e(C)};y.useEffect(()=>{a(!0);const C=()=>{const E=(r==null?void 0:r.id)||(n==null?void 0:n.uid);return E?{userId:E,email:(r==null?void 0:r.email)||(n==null?void 0:n.email)||`user_${E}@steeb.app`,name:(r==null?void 0:r.name)||(n==null?void 0:n.name)||(n==null?void 0:n.nickname)||"Usuario STEEB",avatar:(r==null?void 0:r.avatar)||(n==null?void 0:n.avatar)}:null},P=async()=>{const E=C();if(!E){alert("Debes iniciar sesin para comprar el modo Dark.");return}try{await Xp.handlePayment(E,"black-user-plan",1)}catch(_){const R=_ instanceof Error?_.message:"Error desconocido";alert("Error procesando el pago: "+R)}},A=async E=>{var N;const _=C();if(!_){alert("Debes iniciar sesin para comprar tiradas Shiny.");return}const R=(N=E==null?void 0:E.detail)==null?void 0:N.planId;if(!R){alert("No se pudo determinar el paquete de tiradas.");return}try{await Xp.handlePayment(_,R,1)}catch(I){const M=I instanceof Error?I.message:"Error desconocido";alert("Error procesando el pago: "+M)}};return window.addEventListener("buy-dark-mode",P),window.addEventListener("buy-shiny-rolls",A),()=>{window.removeEventListener("buy-dark-mode",P),window.removeEventListener("buy-shiny-rolls",A)}},[r,n]),y.useEffect(()=>{!i||!t||t==="light"||b(t)||e("light")},[i,t,b,e]);const v=C=>{if(!S.current)return t;const P=S.current.getBoundingClientRect(),A=C-P.left,E=Math.max(0,Math.min(1,A/P.width));return E<.33?"light":E<.66?"shiny":"dark"},g=C=>{console.log(" handleClick llamado"),C.preventDefault();const P=v(C.clientX);console.log(" Posicin calculada:",P),T(P)},x=C=>{C.preventDefault(),C.stopPropagation(),c(!0),d(C.clientX),p(C.clientX);const P=E=>{p(E.clientX)},A=E=>{if(l){const _=v(E.clientX);T(_)}c(!1),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",A)},D=C=>{C.preventDefault();const P=C.touches[0];c(!0),d(P.clientX),p(P.clientX);const A=R=>{const N=R.touches[0];p(N.clientX)},E=()=>{if(l){const R=v(h);T(R)}c(!1)},_=S.current;_&&(_.addEventListener("touchmove",A),_.addEventListener("touchend",E))};return i?m.jsx("div",{className:`fixed top-8 right-4 z-[60] overflow-hidden rounded-full ${t==="shiny"?"shiny-allow-native":""}`,children:m.jsx("div",{ref:S,className:`relative w-16 h-8 rounded-full border-2 transition-all duration-200 cursor-pointer select-none shiny-toggle shiny-allow-native ${t==="light"||t==="shiny"?"bg-white border-black":"bg-black border-black"}`,onClick:g,onMouseDown:x,onTouchStart:D,"aria-label":"Toggle theme",children:m.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-1.5 pointer-events-none z-20",children:[m.jsx("div",{className:`theme-toggle-dot theme-toggle-dot-left ${t==="light"?"w-3 h-3":"w-2 h-2"} rounded-full ${t==="light"?"bg-black":"bg-gray-400"} shadow-sm`}),m.jsx("div",{className:`theme-toggle-dot theme-toggle-dot-middle ${t==="shiny"?"w-3 h-3":"w-2 h-2"} rounded-full ${t==="shiny"?"bg-black":t==="light"?"bg-gray-300":"bg-gray-400"} shadow-sm`}),m.jsx("div",{className:`theme-toggle-dot theme-toggle-dot-right ${t==="dark"?"w-3 h-3":"w-2 h-2"} rounded-full ${t==="dark"?"bg-gray-100 border border-gray-300":"bg-gray-400"} shadow-md`})]})})}):null};function Ree(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const av={},ad={};function ko(t,e){try{const r=(av[t]||(av[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in ad?ad[r]:mR(r,r.split(":"))}catch{if(t in ad)return ad[t];const n=t==null?void 0:t.match(Dee);return n?mR(t,n.slice(1)):NaN}}const Dee=/([+-]\d\d):?(\d\d)?/;function mR(t,e){const n=+(e[0]||0),r=+(e[1]||0),s=+(e[2]||0)/60;return ad[t]=n*60+r>0?n*60+r+s:n*60-r-s}class xs extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ko(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),tL(this),Vw(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new xs(...n,e):new xs(Date.now(),e)}withTimeZone(e){return new xs(+this,e)}getTimezoneOffset(){const e=-ko(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Vw(this),+this}[Symbol.for("constructDateFrom")](e){return new xs(+new Date(e),this.timeZone)}}const pR=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!pR.test(t))return;const e=t.replace(pR,"$1UTC");xs.prototype[e]&&(t.startsWith("get")?xs.prototype[t]=function(){return this.internal[e]()}:(xs.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),Nee(this),+this},xs.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Vw(this),+this}))});function Vw(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-ko(t.timeZone,t)*60))}function Nee(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),tL(t)}function tL(t){const e=ko(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+t).getTimezoneOffset(),i=-new Date(+r).getTimezoneOffset(),a=s-i,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();a&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+a);const l=s-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const c=new Date(+t);c.setUTCSeconds(0);const u=s>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(ko(t.timeZone,t)*60))%60;(d||u)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+d+u));const h=ko(t.timeZone,t),p=h>0?Math.floor(h):Math.ceil(h),b=-new Date(+t).getTimezoneOffset()-p,T=p!==n,v=b-l;if(T&&v){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+v);const g=ko(t.timeZone,t),x=g>0?Math.floor(g):Math.ceil(g),D=p-x;D&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D))}}class On extends xs{static tz(e,...n){return n.length?new On(...n,e):new On(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${Ree(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new On(+this,e)}[Symbol.for("constructDateFrom")](e){return new On(+new Date(e),this.timeZone)}}const nL=6048e5,Iee=864e5,gR=Symbol.for("constructDateFrom");function sn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&gR in t?t[gR](e):t instanceof Date?new t.constructor(e):new Date(e)}function bt(t,e){return sn(e||t,t)}function rL(t,e,n){const r=bt(t,n==null?void 0:n.in);return isNaN(e)?sn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function sL(t,e,n){const r=bt(t,n==null?void 0:n.in);if(isNaN(e))return sn(t,NaN);if(!e)return r;const s=r.getDate(),i=sn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let Mee={};function mh(){return Mee}function Wc(t,e){var o,l,c,u;const n=mh(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=bt(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function xf(t,e){return Wc(t,{...e,weekStartsOn:1})}function iL(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=sn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=xf(s),a=sn(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=xf(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function yR(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yu(t,...e){const n=sn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ef(t,e){const n=bt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function aL(t,e,n){const[r,s]=yu(n==null?void 0:n.in,t,e),i=Ef(r),a=Ef(s),o=+i-yR(i),l=+a-yR(a);return Math.round((o-l)/Iee)}function Pee(t,e){const n=iL(t,e),r=sn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xf(r)}function Oee(t,e,n){return rL(t,e*7,n)}function jee(t,e,n){return sL(t,e*12,n)}function Lee(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=sn.bind(null,s));const i=bt(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),sn(r,n||NaN)}function Vee(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=sn.bind(null,s));const i=bt(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),sn(r,n||NaN)}function Uee(t,e,n){const[r,s]=yu(n==null?void 0:n.in,t,e);return+Ef(r)==+Ef(s)}function oL(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Fee(t){return!(!oL(t)&&typeof t!="number"||isNaN(+bt(t)))}function Bee(t,e,n){const[r,s]=yu(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function zee(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function lL(t,e){const[n,r]=yu(t,e.start,e.end);return{start:n,end:r}}function $ee(t,e){const{start:n,end:r}=lL(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=i;)l.push(sn(n,a)),a.setMonth(a.getMonth()+o);return s?l.reverse():l}function Hee(t,e){const n=bt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function qee(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function cL(t,e){const n=bt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Gee(t,e){const{start:n,end:r}=lL(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let o=1;const l=[];for(;+a<=i;)l.push(sn(n,a)),a.setFullYear(a.getFullYear()+o);return s?l.reverse():l}function uL(t,e){var o,l,c,u;const n=mh(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=bt(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function Wee(t,e){return uL(t,{...e,weekStartsOn:1})}const Yee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kee=(t,e,n)=>{let r;const s=Yee[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ov(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Qee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jee={date:ov({formats:Qee,defaultWidth:"full"}),time:ov({formats:Xee,defaultWidth:"full"}),dateTime:ov({formats:Zee,defaultWidth:"full"})},ete={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tte=(t,e,n,r)=>ete[t];function qu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const nte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ste={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ite={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ate={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ote={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cte={ordinalNumber:lte,era:qu({values:nte,defaultWidth:"wide"}),quarter:qu({values:rte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qu({values:ste,defaultWidth:"wide"}),day:qu({values:ite,defaultWidth:"wide"}),dayPeriod:qu({values:ate,defaultWidth:"wide",formattingValues:ote,defaultFormattingWidth:"wide"})};function Gu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?dte(o,d=>d.test(a)):ute(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function ute(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const hte=/^(\d+)(th|st|nd|rd)?/i,mte=/\d+/i,pte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gte={any:[/^b/i,/^(a|c)/i]},yte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vte={any:[/1/i,/2/i,/3/i,/4/i]},bte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ete={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ste={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_te={ordinalNumber:fte({matchPattern:hte,parsePattern:mte,valueCallback:t=>parseInt(t,10)}),era:Gu({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:wte,defaultParseWidth:"any"}),day:Gu({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:Ete,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:Ste,defaultMatchWidth:"any",parsePatterns:Tte,defaultParseWidth:"any"})},XS={code:"en-US",formatDistance:Kee,formatLong:Jee,formatRelative:tte,localize:cte,match:_te,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ate(t,e){const n=bt(t,e==null?void 0:e.in);return aL(n,cL(n))+1}function dL(t,e){const n=bt(t,e==null?void 0:e.in),r=+xf(n)-+Pee(n);return Math.round(r/nL)+1}function fL(t,e){var u,d,h,p;const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=mh(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=sn((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Wc(a,e),l=sn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Wc(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function kte(t,e){var o,l,c,u;const n=mh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=fL(t,e),i=sn((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Wc(i,e)}function hL(t,e){const n=bt(t,e==null?void 0:e.in),r=+Wc(n,e)-+kte(n,e);return Math.round(r/nL)+1}function ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Yi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ut(n+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ut(s,e.length)}},yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vR={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Yi.y(t,e)},Y:function(t,e,n,r){const s=fL(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return ut(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ut(i,e.length)},R:function(t,e){const n=iL(t);return ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Yi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=hL(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ut(s,e.length)},I:function(t,e,n){const r=dL(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Yi.d(t,e)},D:function(t,e,n){const r=Ate(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ut(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ut(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ut(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=yl.noon:r===0?s=yl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=yl.evening:r>=12?s=yl.afternoon:r>=4?s=yl.morning:s=yl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Yi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Yi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Yi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Yi.s(t,e)},S:function(t,e){return Yi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wR(r);case"XXXX":case"XX":return bo(r);case"XXXXX":case"XXX":default:return bo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wR(r);case"xxxx":case"xx":return bo(r);case"xxxxx":case"xxx":default:return bo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bR(r,":");case"OOOO":default:return"GMT"+bo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bR(r,":");case"zzzz":default:return"GMT"+bo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ut(r,e.length)},T:function(t,e,n){return ut(+t,e.length)}};function bR(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ut(i,2)}function wR(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):bo(t,e)}function bo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ut(Math.trunc(r/60),2),i=ut(r%60,2);return n+s+e+i}const xR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return xR(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",xR(r,e)).replace("{{time}}",mL(s,e))},Rte={p:mL,P:Cte},Dte=/^D+$/,Nte=/^Y+$/,Ite=["D","DD","YY","YYYY"];function Mte(t){return Dte.test(t)}function Pte(t){return Nte.test(t)}function Ote(t,e,n){const r=jte(t,e,n);if(console.warn(r),Ite.includes(t))throw new RangeError(r)}function jte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ute=/^'([^]*?)'?$/,Fte=/''/g,Bte=/[a-zA-Z]/;function pL(t,e,n){var u,d,h,p,S,b,T,v;const r=mh(),s=(n==null?void 0:n.locale)??r.locale??XS,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((b=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((v=(T=r.locale)==null?void 0:T.options)==null?void 0:v.weekStartsOn)??0,o=bt(t,n==null?void 0:n.in);if(!Fee(o))throw new RangeError("Invalid time value");let l=e.match(Vte).map(g=>{const x=g[0];if(x==="p"||x==="P"){const D=Rte[x];return D(g,s.formatLong)}return g}).join("").match(Lte).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:zte(g)};if(vR[x])return{isToken:!0,value:g};if(x.match(Bte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const x=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Pte(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mte(x))&&Ote(x,e,String(t));const D=vR[x[0]];return D(o,x,s.localize,c)}).join("")}function zte(t){const e=t.match(Ute);return e?e[1].replace(Fte,"'"):t}function $te(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=sn(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function Hte(t,e){return bt(t,e==null?void 0:e.in).getMonth()}function qte(t,e){return bt(t,e==null?void 0:e.in).getFullYear()}function Gte(t,e){return+bt(t)>+bt(e)}function Wte(t,e){return+bt(t)<+bt(e)}function Yte(t,e,n){const[r,s]=yu(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Kte(t,e,n){const[r,s]=yu(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function Qte(t,e,n){const r=bt(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),a=sn(t,0);a.setFullYear(s,e,15),a.setHours(0,0,0,0);const o=$te(a);return r.setMonth(e,Math.min(i,o)),r}function Xte(t,e,n){const r=bt(t,n==null?void 0:n.in);return isNaN(+r)?sn(t,NaN):(r.setFullYear(e),r)}const ER=5,Zte=4;function Jte(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,ER*7-1);return e.getMonth(t)===e.getMonth(i)?ER:Zte}function gL(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function ene(t,e){const n=gL(t,e),r=Jte(t,e);return e.addDays(n,r*7-1)}class kr{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?On.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var a;return(a=this.overrides)!=null&&a.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new On(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):rL(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):sL(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):Oee(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):jee(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):aL(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):Bee(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):$ee(r)},this.eachYearOfInterval=r=>{var o;const s=(o=this.overrides)!=null&&o.eachYearOfInterval?this.overrides.eachYearOfInterval(r):Gee(r),i=new Set(s.map(l=>this.getYear(l)));if(i.size===s.length)return s;const a=[];return i.forEach(l=>{a.push(new Date(l,0,1))}),a},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):ene(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):Wee(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):zee(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):uL(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):qee(r)},this.format=(r,s,i)=>{var o;const a=(o=this.overrides)!=null&&o.format?this.overrides.format(r,s,this.options):pL(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):dL(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):Hte(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):qte(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):hL(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):Gte(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):Wte(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):oL(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):Uee(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):Yte(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):Kte(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):Lee(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):Vee(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):Qte(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):Xte(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):gL(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Ef(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):xf(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):Hee(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):Wc(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):cL(r)},this.options={locale:XS,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var n;const e=(n=this.options.locale)==null?void 0:n.code;return e&&kr.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:s}=this.options,i=n==null?void 0:n.code;if(i&&kr.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(e)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,a)}}kr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Hs=new kr;class yL{constructor(e,n,r=Hs){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class tne{constructor(e,n){this.date=e,this.weeks=n}}class nne{constructor(e,n){this.days=n,this.weekNumber=e}}function rne(t){return Z.createElement("button",{...t})}function sne(t){return Z.createElement("span",{...t})}function ine(t){const{size:e=24,orientation:n="left",className:r}=t;return Z.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Z.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Z.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Z.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Z.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function ane(t){const{day:e,modifiers:n,...r}=t;return Z.createElement("td",{...r})}function one(t){const{day:e,modifiers:n,...r}=t,s=Z.useRef(null);return Z.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),Z.createElement("button",{ref:s,...r})}var ge;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ge||(ge={}));var Lt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Lt||(Lt={}));var Xr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Xr||(Xr={}));var fr;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(fr||(fr={}));function lne(t){const{options:e,className:n,components:r,classNames:s,...i}=t,a=[s[ge.Dropdown],n].join(" "),o=e==null?void 0:e.find(({value:l})=>l===i.value);return Z.createElement("span",{"data-disabled":i.disabled,className:s[ge.DropdownRoot]},Z.createElement(r.Select,{className:a,...i},e==null?void 0:e.map(({value:l,label:c,disabled:u})=>Z.createElement(r.Option,{key:l,value:l,disabled:u},c))),Z.createElement("span",{className:s[ge.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,Z.createElement(r.Chevron,{orientation:"down",size:18,className:s[ge.Chevron]})))}function cne(t){return Z.createElement("div",{...t})}function une(t){return Z.createElement("div",{...t})}function dne(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Z.createElement("div",{...r},t.children)}function fne(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Z.createElement("div",{...r})}function hne(t){return Z.createElement("table",{...t})}function mne(t){return Z.createElement("div",{...t})}const vL=y.createContext(void 0);function ph(){const t=y.useContext(vL);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function pne(t){const{components:e}=ph();return Z.createElement(e.Dropdown,{...t})}function gne(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:a,classNames:o,labels:{labelPrevious:l,labelNext:c}}=ph(),u=y.useCallback(h=>{s&&(n==null||n(h))},[s,n]),d=y.useCallback(h=>{r&&(e==null||e(h))},[r,e]);return Z.createElement("nav",{...i},Z.createElement(a.PreviousMonthButton,{type:"button",className:o[ge.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:d},Z.createElement(a.Chevron,{disabled:r?void 0:!0,className:o[ge.Chevron],orientation:"left"})),Z.createElement(a.NextMonthButton,{type:"button",className:o[ge.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":c(s),onClick:u},Z.createElement(a.Chevron,{disabled:s?void 0:!0,orientation:"right",className:o[ge.Chevron]})))}function yne(t){const{components:e}=ph();return Z.createElement(e.Button,{...t})}function vne(t){return Z.createElement("option",{...t})}function bne(t){const{components:e}=ph();return Z.createElement(e.Button,{...t})}function wne(t){const{rootRef:e,...n}=t;return Z.createElement("div",{...n,ref:e})}function xne(t){return Z.createElement("select",{...t})}function Ene(t){const{week:e,...n}=t;return Z.createElement("tr",{...n})}function Sne(t){return Z.createElement("th",{...t})}function Tne(t){return Z.createElement("thead",{"aria-hidden":!0},Z.createElement("tr",{...t}))}function _ne(t){const{week:e,...n}=t;return Z.createElement("th",{...n})}function Ane(t){return Z.createElement("th",{...t})}function kne(t){return Z.createElement("tbody",{...t})}function Cne(t){const{components:e}=ph();return Z.createElement(e.Dropdown,{...t})}const Rne=Object.freeze(Object.defineProperty({__proto__:null,Button:rne,CaptionLabel:sne,Chevron:ine,Day:ane,DayButton:one,Dropdown:lne,DropdownNav:cne,Footer:une,Month:dne,MonthCaption:fne,MonthGrid:hne,Months:mne,MonthsDropdown:pne,Nav:gne,NextMonthButton:yne,Option:vne,PreviousMonthButton:bne,Root:wne,Select:xne,Week:Ene,WeekNumber:_ne,WeekNumberHeader:Ane,Weekday:Sne,Weekdays:Tne,Weeks:kne,YearsDropdown:Cne},Symbol.toStringTag,{value:"Module"}));function di(t,e,n=!1,r=Hs){let{from:s,to:i}=t;const{differenceInCalendarDays:a,isSameDay:o}=r;return s&&i?(a(i,s)<0&&([s,i]=[i,s]),a(e,s)>=(n?1:0)&&a(i,e)>=(n?1:0)):!n&&i?o(i,e):!n&&s?o(s,e):!1}function bL(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ZS(t){return!!(t&&typeof t=="object"&&"from"in t)}function wL(t){return!!(t&&typeof t=="object"&&"after"in t)}function xL(t){return!!(t&&typeof t=="object"&&"before"in t)}function EL(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function SL(t,e){return Array.isArray(t)&&t.every(e.isDate)}function fi(t,e,n=Hs){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:a}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return s(t,o);if(SL(o,n))return o.includes(t);if(ZS(o))return di(o,t,!1,n);if(EL(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(t.getDay()):o.dayOfWeek===t.getDay();if(bL(o)){const l=i(o.before,t),c=i(o.after,t),u=l>0,d=c<0;return a(o.before,o.after)?d&&u:u||d}return wL(o)?i(t,o.after)>0:xL(o)?i(o.before,t)>0:typeof o=="function"?o(t):!1})}function Dne(t,e,n,r,s){const{disabled:i,hidden:a,modifiers:o,showOutsideDays:l,broadcastCalendar:c,today:u}=e,{isSameDay:d,isSameMonth:h,startOfMonth:p,isBefore:S,endOfMonth:b,isAfter:T}=s,v=n&&p(n),g=r&&b(r),x={[Lt.focused]:[],[Lt.outside]:[],[Lt.disabled]:[],[Lt.hidden]:[],[Lt.today]:[]},D={};for(const C of t){const{date:P,displayMonth:A}=C,E=!!(A&&!h(P,A)),_=!!(v&&S(P,v)),R=!!(g&&T(P,g)),N=!!(i&&fi(P,i,s)),I=!!(a&&fi(P,a,s))||_||R||!c&&!l&&E||c&&l===!1&&E,M=d(P,u??s.today());E&&x.outside.push(C),N&&x.disabled.push(C),I&&x.hidden.push(C),M&&x.today.push(C),o&&Object.keys(o).forEach(V=>{const z=o==null?void 0:o[V];z&&fi(P,z,s)&&(D[V]?D[V].push(C):D[V]=[C])})}return C=>{const P={[Lt.focused]:!1,[Lt.disabled]:!1,[Lt.hidden]:!1,[Lt.outside]:!1,[Lt.today]:!1},A={};for(const E in x){const _=x[E];P[E]=_.some(R=>R===C)}for(const E in D)A[E]=D[E].some(_=>_===C);return{...P,...A}}}function Nne(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[Lt[i]]?s.push(e[Lt[i]]):e[Xr[i]]&&s.push(e[Xr[i]]),s),[e[ge.Day]])}function Ine(t){return{...Rne,...t}}function Mne(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Pne(){const t={};for(const e in ge)t[ge[e]]=`rdp-${ge[e]}`;for(const e in Lt)t[Lt[e]]=`rdp-${Lt[e]}`;for(const e in Xr)t[Xr[e]]=`rdp-${Xr[e]}`;for(const e in fr)t[fr[e]]=`rdp-${fr[e]}`;return t}function TL(t,e,n){return(n??new kr(e)).formatMonthYear(t)}const One=TL;function jne(t,e,n){return(n??new kr(e)).format(t,"d")}function Lne(t,e=Hs){return e.format(t,"LLLL")}function Vne(t,e,n){return(n??new kr(e)).format(t,"cccccc")}function Une(t,e=Hs){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function Fne(){return""}function _L(t,e=Hs){return e.format(t,"yyyy")}const Bne=_L,zne=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:TL,formatDay:jne,formatMonthCaption:One,formatMonthDropdown:Lne,formatWeekNumber:Une,formatWeekNumberHeader:Fne,formatWeekdayName:Vne,formatYearCaption:Bne,formatYearDropdown:_L},Symbol.toStringTag,{value:"Module"}));function $ne(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...zne,...t}}function Hne(t,e,n,r,s){const{startOfMonth:i,startOfYear:a,endOfYear:o,eachMonthOfInterval:l,getMonth:c}=s;return l({start:a(t),end:o(t)}).map(h=>{const p=r.formatMonthDropdown(h,s),S=c(h),b=e&&h<i(e)||n&&h>i(n)||!1;return{value:S,label:p,disabled:b}})}function qne(t,e={},n={}){let r={...e==null?void 0:e[ge.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function Gne(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let a=0;a<7;a++){const o=t.addDays(s,a);i.push(o)}return i}function Wne(t,e,n,r,s=!1){if(!t||!e)return;const{startOfYear:i,endOfYear:a,eachYearOfInterval:o,getYear:l}=r,c=i(t),u=a(e),d=o({start:c,end:u});return s&&d.reverse(),d.map(h=>{const p=n.formatYearDropdown(h,r);return{value:l(h),label:p,disabled:!1}})}function AL(t,e,n,r){let s=(r??new kr(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const Yne=AL;function kL(t,e,n){return(n??new kr(e)).formatMonthYear(t)}const Kne=kL;function Qne(t,e,n,r){let s=(r??new kr(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function Xne(t){return"Choose the Month"}function Zne(){return""}function Jne(t){return"Go to the Next Month"}function ere(t){return"Go to the Previous Month"}function tre(t,e,n){return(n??new kr(e)).format(t,"cccc")}function nre(t,e){return`Week ${t}`}function rre(t){return"Week Number"}function sre(t){return"Choose the Year"}const ire=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Kne,labelDay:Yne,labelDayButton:AL,labelGrid:kL,labelGridcell:Qne,labelMonthDropdown:Xne,labelNav:Zne,labelNext:Jne,labelPrevious:ere,labelWeekNumber:nre,labelWeekNumberHeader:rre,labelWeekday:tre,labelYearDropdown:sre},Symbol.toStringTag,{value:"Module"})),gh=t=>t instanceof HTMLElement?t:null,lv=t=>[...t.querySelectorAll("[data-animated-month]")??[]],are=t=>gh(t.querySelector("[data-animated-month]")),cv=t=>gh(t.querySelector("[data-animated-caption]")),uv=t=>gh(t.querySelector("[data-animated-weeks]")),ore=t=>gh(t.querySelector("[data-animated-nav]")),lre=t=>gh(t.querySelector("[data-animated-weekdays]"));function cre(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const a=y.useRef(null),o=y.useRef(r),l=y.useRef(!1);y.useLayoutEffect(()=>{const c=o.current;if(o.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=i.isSameMonth(r[0].date,c[0].date),d=i.isAfter(r[0].date,c[0].date),h=d?n[fr.caption_after_enter]:n[fr.caption_before_enter],p=d?n[fr.weeks_after_enter]:n[fr.weeks_before_enter],S=a.current,b=t.current.cloneNode(!0);if(b instanceof HTMLElement?(lv(b).forEach(x=>{if(!(x instanceof HTMLElement))return;const D=are(x);D&&x.contains(D)&&x.removeChild(D);const C=cv(x);C&&C.classList.remove(h);const P=uv(x);P&&P.classList.remove(p)}),a.current=b):a.current=null,l.current||u||s)return;const T=S instanceof HTMLElement?lv(S):[],v=lv(t.current);if(v!=null&&v.every(g=>g instanceof HTMLElement)&&T&&T.every(g=>g instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const g=ore(t.current);g&&(g.style.zIndex="1"),v.forEach((x,D)=>{const C=T[D];if(!C)return;x.style.position="relative",x.style.overflow="hidden";const P=cv(x);P&&P.classList.add(h);const A=uv(x);A&&A.classList.add(p);const E=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),g&&(g.style.zIndex=""),P&&P.classList.remove(h),A&&A.classList.remove(p),x.style.position="",x.style.overflow="",x.contains(C)&&x.removeChild(C)};C.style.pointerEvents="none",C.style.position="absolute",C.style.overflow="hidden",C.setAttribute("aria-hidden","true");const _=lre(C);_&&(_.style.opacity="0");const R=cv(C);R&&(R.classList.add(d?n[fr.caption_before_exit]:n[fr.caption_after_exit]),R.addEventListener("animationend",E));const N=uv(C);N&&N.classList.add(d?n[fr.weeks_before_exit]:n[fr.weeks_after_exit]),x.insertBefore(C,x.firstChild)})}})}function ure(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:a,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:S,endOfWeek:b,isAfter:T,startOfBroadcastWeek:v,startOfISOWeek:g,startOfWeek:x}=r,D=l?v(s,r):a?g(s):x(s),C=l?h(i):a?p(S(i)):b(S(i)),P=u(C,D),A=d(i,s)+1,E=[];for(let N=0;N<=P;N++){const I=c(D,N);if(e&&T(I,e))break;E.push(I)}const R=(l?35:42)*A;if(o&&E.length<R){const N=R-E.length;for(let I=0;I<N;I++){const M=c(E[E.length-1],1);E.push(M)}}return E}function dre(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,a)=>i.concat(a.days.slice()),e.slice());return n.concat(s.slice())},e.slice())}function fre(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let a=0;a<s;a++){const o=r.addMonths(t,a);if(e&&o>e)break;i.push(o)}return i}function SR(t,e,n,r){const{month:s,defaultMonth:i,today:a=r.today(),numberOfMonths:o=1}=t;let l=s||i||a;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<o-1){const h=-1*(o-1);l=u(n,h)}return e&&c(l,e)<0&&(l=e),d(l)}function hre(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:a,endOfMonth:o,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:p}=r,S=t.reduce((b,T)=>{const v=n.broadcastCalendar?d(T,r):n.ISOWeek?h(T):p(T),g=n.broadcastCalendar?i(T):n.ISOWeek?a(o(T)):l(o(T)),x=e.filter(A=>A>=v&&A<=g),D=n.broadcastCalendar?35:42;if(n.fixedWeeks&&x.length<D){const A=e.filter(E=>{const _=D-x.length;return E>g&&E<=s(g,_)});x.push(...A)}const C=x.reduce((A,E)=>{const _=n.ISOWeek?c(E):u(E),R=A.find(I=>I.weekNumber===_),N=new yL(E,T,r);return R?R.days.push(N):A.push(new nne(_,[N])),A},[]),P=new tne(T,C);return b.push(P),b},[]);return n.reverseMonths?S.reverse():S}function mre(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:a,endOfMonth:o,addYears:l,endOfYear:c,newDate:u,today:d}=e,{fromYear:h,toYear:p,fromMonth:S,toMonth:b}=t;!n&&S&&(n=S),!n&&h&&(n=e.newDate(h,0,1)),!r&&b&&(r=b),!r&&p&&(r=u(p,11,31));const T=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=a(n):h?n=u(h,0,1):!n&&T&&(n=s(l(t.today??d(),-100))),r?r=o(r):p?r=u(p,11,31):!r&&T&&(r=c(t.today??d())),[n&&i(n),r&&i(r)]}function pre(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=r,c=s?i:1,u=a(t);if(!e)return o(u,c);if(!(l(e,t)<i))return o(u,c)}function gre(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=r,c=s?i??1:1,u=a(t);if(!e)return o(u,-c);if(!(l(u,e)<=0))return o(u,-c)}function yre(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function fy(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function vre(t,e){const[n,r]=mre(t,e),{startOfMonth:s,endOfMonth:i}=e,a=SR(t,n,r,e),[o,l]=fy(a,t.month?a:void 0);y.useEffect(()=>{const P=SR(t,n,r,e);l(P)},[t.timeZone]);const c=fre(o,r,t,e),u=ure(c,t.endMonth?i(t.endMonth):void 0,t,e),d=hre(c,u,t,e),h=yre(d),p=dre(d),S=gre(o,n,t,e),b=pre(o,r,t,e),{disableNavigation:T,onMonthChange:v}=t,g=P=>h.some(A=>A.days.some(E=>E.isEqualTo(P))),x=P=>{if(T)return;let A=s(P);n&&A<s(n)&&(A=s(n)),r&&A>s(r)&&(A=s(r)),l(A),v==null||v(A)};return{months:d,weeks:h,days:p,navStart:n,navEnd:r,previousMonth:S,nextMonth:b,goToMonth:x,goToDay:P=>{g(P)||x(P.date)}}}var fs;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(fs||(fs={}));function TR(t){return!t[Lt.disabled]&&!t[Lt.hidden]&&!t[Lt.outside]}function bre(t,e,n,r){let s,i=-1;for(const a of t){const o=e(a);TR(o)&&(o[Lt.focused]&&i<fs.FocusedModifier?(s=a,i=fs.FocusedModifier):r!=null&&r.isEqualTo(a)&&i<fs.LastFocused?(s=a,i=fs.LastFocused):n(a.date)&&i<fs.Selected?(s=a,i=fs.Selected):o[Lt.today]&&i<fs.Today&&(s=a,i=fs.Today))}return s||(s=t.find(a=>TR(e(a)))),s}function wre(t,e,n,r,s,i,a){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:S,endOfWeek:b,max:T,min:v,startOfBroadcastWeek:g,startOfISOWeek:x,startOfWeek:D}=a;let P={day:c,week:d,month:u,year:h,startOfWeek:A=>l?g(A,a):o?x(A):D(A),endOfWeek:A=>l?p(A):o?S(A):b(A)}[t](n,e==="after"?1:-1);return e==="before"&&r?P=T([r,P]):e==="after"&&s&&(P=v([s,P])),P}function CL(t,e,n,r,s,i,a,o=0){if(o>365)return;const l=wre(t,e,n.date,r,s,i,a),c=!!(i.disabled&&fi(l,i.disabled,a)),u=!!(i.hidden&&fi(l,i.hidden,a)),d=l,h=new yL(l,d,a);return!c&&!u?h:CL(t,e,h,r,s,i,a,o+1)}function xre(t,e,n,r,s){const{autoFocus:i}=t,[a,o]=y.useState(),l=bre(e.days,n,r||(()=>!1),a),[c,u]=y.useState(i?l:void 0);return{isFocusTarget:b=>!!(l!=null&&l.isEqualTo(b)),setFocused:u,focused:c,blur:()=>{o(c),u(void 0)},moveFocus:(b,T)=>{if(!c)return;const v=CL(b,T,c,e.navStart,e.navEnd,t,s);v&&(t.disableNavigation&&!e.days.some(x=>x.isEqualTo(v))||(e.goToDay(v),u(v)))}}}function Ere(t,e){const{selected:n,required:r,onSelect:s}=t,[i,a]=fy(n,s?n:void 0),o=s?n:i,{isSameDay:l}=e,c=p=>(o==null?void 0:o.some(S=>l(S,p)))??!1,{min:u,max:d}=t;return{selected:o,select:(p,S,b)=>{let T=[...o??[]];if(c(p)){if((o==null?void 0:o.length)===u||r&&(o==null?void 0:o.length)===1)return;T=o==null?void 0:o.filter(v=>!l(v,p))}else(o==null?void 0:o.length)===d?T=[p]:T=[...T,p];return s||a(T),s==null||s(T,p,S,b),T},isSelected:c}}function Sre(t,e,n=0,r=0,s=!1,i=Hs){const{from:a,to:o}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=i;let d;if(!a&&!o)d={from:t,to:n>0?void 0:t};else if(a&&!o)l(a,t)?n===0?d={from:a,to:t}:s?d={from:a,to:void 0}:d=void 0:u(t,a)?d={from:t,to:a}:d={from:a,to:t};else if(a&&o)if(l(a,t)&&l(o,t))s?d={from:a,to:o}:d=void 0;else if(l(a,t))d={from:a,to:n>0?void 0:t};else if(l(o,t))d={from:t,to:n>0?void 0:t};else if(u(t,a))d={from:t,to:o};else if(c(t,a))d={from:a,to:t};else if(c(t,o))d={from:a,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=i.differenceInCalendarDays(d.to,d.from);r>0&&h>r?d={from:t,to:void 0}:n>1&&h<n&&(d={from:t,to:void 0})}return d}function Tre(t,e,n=Hs){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),a=Math.min(i,6);for(let o=0;o<=a;o++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function _R(t,e,n=Hs){return di(t,e.from,!1,n)||di(t,e.to,!1,n)||di(e,t.from,!1,n)||di(e,t.to,!1,n)}function _re(t,e,n=Hs){const r=Array.isArray(e)?e:[e];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?di(t,o,!1,n):SL(o,n)?o.some(l=>di(t,l,!1,n)):ZS(o)?o.from&&o.to?_R(t,{from:o.from,to:o.to},n):!1:EL(o)?Tre(t,o.dayOfWeek,n):bL(o)?n.isAfter(o.before,o.after)?_R(t,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):fi(t.from,o,n)||fi(t.to,o,n):wL(o)||xL(o)?fi(t.from,o,n)||fi(t.to,o,n):!1))return!0;const a=r.filter(o=>typeof o=="function");if(a.length){let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(a.some(u=>u(o)))return!0;o=n.addDays(o,1)}}return!1}function Are(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:a}=t,[o,l]=fy(s,a?s:void 0),c=a?s:o;return{selected:c,select:(h,p,S)=>{const{min:b,max:T}=t,v=h?Sre(h,c,b,T,i,e):void 0;return r&&n&&(v!=null&&v.from)&&v.to&&_re({from:v.from,to:v.to},n,e)&&(v.from=h,v.to=void 0),a||l(v),a==null||a(v,h,p,S),v},isSelected:h=>c&&di(c,h,!1,e)}}function kre(t,e){const{selected:n,required:r,onSelect:s}=t,[i,a]=fy(n,s?n:void 0),o=s?n:i,{isSameDay:l}=e;return{selected:o,select:(d,h,p)=>{let S=d;return!r&&o&&o&&l(d,o)&&(S=void 0),s||a(S),s==null||s(S,d,h,p),S},isSelected:d=>o?l(o,d):!1}}function Cre(t,e){const n=kre(t,e),r=Ere(t,e),s=Are(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function Rre(t){var Nn;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new On(e.today,e.timeZone)),e.month&&(e.month=new On(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new On(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new On(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new On(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new On(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Nn=e.selected)==null?void 0:Nn.map(me=>new On(me,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new On(e.selected.from,e.timeZone):void 0,to:e.selected.to?new On(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:a,classNames:o}=y.useMemo(()=>{const me={...XS,...e.locale};return{dateLib:new kr({locale:me,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Ine(e.components),formatters:$ne(e.formatters),labels:{...ire,...e.labels},locale:me,classNames:{...Pne(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:d=1,onDayBlur:h,onDayClick:p,onDayFocus:S,onDayKeyDown:b,onDayMouseEnter:T,onDayMouseLeave:v,onNextClick:g,onPrevClick:x,showWeekNumber:D,styles:C}=e,{formatCaption:P,formatDay:A,formatMonthDropdown:E,formatWeekNumber:_,formatWeekNumberHeader:R,formatWeekdayName:N,formatYearDropdown:I}=r,M=vre(e,i),{days:V,months:z,navStart:L,navEnd:U,previousMonth:j,nextMonth:K,goToMonth:Q}=M,pe=Dne(V,e,L,U,i),{isSelected:ae,select:re,selected:de}=Cre(e,i)??{},{blur:se,focused:Ne,isFocusTarget:Oe,moveFocus:nt,setFocused:ye}=xre(e,M,pe,ae??(()=>!1),i),{labelDayButton:Ye,labelGridcell:G,labelGrid:oe,labelMonthDropdown:be,labelNav:je,labelPrevious:wt,labelNext:rt,labelWeekday:mt,labelWeekNumber:xt,labelWeekNumberHeader:et,labelYearDropdown:It}=s,Le=y.useMemo(()=>Gne(i,e.ISOWeek),[i,e.ISOWeek]),te=c!==void 0||p!==void 0,Ce=y.useCallback(()=>{j&&(Q(j),x==null||x(j))},[j,Q,x]),fe=y.useCallback(()=>{K&&(Q(K),g==null||g(K))},[Q,K,g]),ne=y.useCallback((me,tt)=>Ee=>{Ee.preventDefault(),Ee.stopPropagation(),ye(me),re==null||re(me.date,tt,Ee),p==null||p(me.date,tt,Ee)},[re,p,ye]),pt=y.useCallback((me,tt)=>Ee=>{ye(me),S==null||S(me.date,tt,Ee)},[S,ye]),mn=y.useCallback((me,tt)=>Ee=>{se(),h==null||h(me.date,tt,Ee)},[se,h]),lt=y.useCallback((me,tt)=>Ee=>{const Re={ArrowLeft:[Ee.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Ee.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Ee.shiftKey?"year":"week","after"],ArrowUp:[Ee.shiftKey?"year":"week","before"],PageUp:[Ee.shiftKey?"year":"month","before"],PageDown:[Ee.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Re[Ee.key]){Ee.preventDefault(),Ee.stopPropagation();const[pn,Fe]=Re[Ee.key];nt(pn,Fe)}b==null||b(me.date,tt,Ee)},[nt,b,e.dir]),Et=y.useCallback((me,tt)=>Ee=>{T==null||T(me.date,tt,Ee)},[T]),ct=y.useCallback((me,tt)=>Ee=>{v==null||v(me.date,tt,Ee)},[v]),gt=y.useCallback(me=>tt=>{const Ee=Number(tt.target.value),Re=i.setMonth(i.startOfMonth(me),Ee);Q(Re)},[i,Q]),$=y.useCallback(me=>tt=>{const Ee=Number(tt.target.value),Re=i.setYear(i.startOfMonth(me),Ee);Q(Re)},[i,Q]),{className:le,style:J}=y.useMemo(()=>({className:[o[ge.Root],e.className].filter(Boolean).join(" "),style:{...C==null?void 0:C[ge.Root],...e.style}}),[o,e.className,e.style,C]),xe=Mne(e),we=y.useRef(null);cre(we,!!e.animate,{classNames:o,months:z,focused:Ne,dateLib:i});const Ke={dayPickerProps:e,selected:de,select:re,isSelected:ae,months:z,nextMonth:K,previousMonth:j,goToMonth:Q,getModifiers:pe,components:n,classNames:o,styles:C,labels:s,formatters:r};return Z.createElement(vL.Provider,{value:Ke},Z.createElement(n.Root,{rootRef:e.animate?we:void 0,className:le,style:J,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...xe},Z.createElement(n.Months,{className:o[ge.Months],style:C==null?void 0:C[ge.Months]},!e.hideNavigation&&!u&&Z.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[ge.Nav],style:C==null?void 0:C[ge.Nav],"aria-label":je(),onPreviousClick:Ce,onNextClick:fe,previousMonth:j,nextMonth:K}),z.map((me,tt)=>Z.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:o[ge.Month],style:C==null?void 0:C[ge.Month],key:tt,displayIndex:tt,calendarMonth:me},u==="around"&&!e.hideNavigation&&tt===0&&Z.createElement(n.PreviousMonthButton,{type:"button",className:o[ge.PreviousMonthButton],tabIndex:j?void 0:-1,"aria-disabled":j?void 0:!0,"aria-label":wt(j),onClick:Ce,"data-animated-button":e.animate?"true":void 0},Z.createElement(n.Chevron,{disabled:j?void 0:!0,className:o[ge.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Z.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:o[ge.MonthCaption],style:C==null?void 0:C[ge.MonthCaption],calendarMonth:me,displayIndex:tt},l!=null&&l.startsWith("dropdown")?Z.createElement(n.DropdownNav,{className:o[ge.Dropdowns],style:C==null?void 0:C[ge.Dropdowns]},(()=>{const Ee=l==="dropdown"||l==="dropdown-months"?Z.createElement(n.MonthsDropdown,{key:"month",className:o[ge.MonthsDropdown],"aria-label":be(),classNames:o,components:n,disabled:!!e.disableNavigation,onChange:gt(me.date),options:Hne(me.date,L,U,r,i),style:C==null?void 0:C[ge.Dropdown],value:i.getMonth(me.date)}):Z.createElement("span",{key:"month"},E(me.date,i)),Re=l==="dropdown"||l==="dropdown-years"?Z.createElement(n.YearsDropdown,{key:"year",className:o[ge.YearsDropdown],"aria-label":It(i.options),classNames:o,components:n,disabled:!!e.disableNavigation,onChange:$(me.date),options:Wne(L,U,r,i,!!e.reverseYears),style:C==null?void 0:C[ge.Dropdown],value:i.getYear(me.date)}):Z.createElement("span",{key:"year"},I(me.date,i));return i.getMonthYearOrder()==="year-first"?[Re,Ee]:[Ee,Re]})(),Z.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},P(me.date,i.options,i))):Z.createElement(n.CaptionLabel,{className:o[ge.CaptionLabel],role:"status","aria-live":"polite"},P(me.date,i.options,i))),u==="around"&&!e.hideNavigation&&tt===d-1&&Z.createElement(n.NextMonthButton,{type:"button",className:o[ge.NextMonthButton],tabIndex:K?void 0:-1,"aria-disabled":K?void 0:!0,"aria-label":rt(K),onClick:fe,"data-animated-button":e.animate?"true":void 0},Z.createElement(n.Chevron,{disabled:K?void 0:!0,className:o[ge.Chevron],orientation:e.dir==="rtl"?"left":"right"})),tt===d-1&&u==="after"&&!e.hideNavigation&&Z.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[ge.Nav],style:C==null?void 0:C[ge.Nav],"aria-label":je(),onPreviousClick:Ce,onNextClick:fe,previousMonth:j,nextMonth:K}),Z.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":oe(me.date,i.options,i)||void 0,className:o[ge.MonthGrid],style:C==null?void 0:C[ge.MonthGrid]},!e.hideWeekdays&&Z.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:o[ge.Weekdays],style:C==null?void 0:C[ge.Weekdays]},D&&Z.createElement(n.WeekNumberHeader,{"aria-label":et(i.options),className:o[ge.WeekNumberHeader],style:C==null?void 0:C[ge.WeekNumberHeader],scope:"col"},R()),Le.map(Ee=>Z.createElement(n.Weekday,{"aria-label":mt(Ee,i.options,i),className:o[ge.Weekday],key:String(Ee),style:C==null?void 0:C[ge.Weekday],scope:"col"},N(Ee,i.options,i)))),Z.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:o[ge.Weeks],style:C==null?void 0:C[ge.Weeks]},me.weeks.map(Ee=>Z.createElement(n.Week,{className:o[ge.Week],key:Ee.weekNumber,style:C==null?void 0:C[ge.Week],week:Ee},D&&Z.createElement(n.WeekNumber,{week:Ee,style:C==null?void 0:C[ge.WeekNumber],"aria-label":xt(Ee.weekNumber,{locale:a}),className:o[ge.WeekNumber],scope:"row",role:"rowheader"},_(Ee.weekNumber,i)),Ee.days.map(Re=>{const{date:pn}=Re,Fe=pe(Re);if(Fe[Lt.focused]=!Fe.hidden&&!!(Ne!=null&&Ne.isEqualTo(Re)),Fe[Xr.selected]=(ae==null?void 0:ae(pn))||Fe.selected,ZS(de)){const{from:os,to:bu}=de;Fe[Xr.range_start]=!!(os&&bu&&i.isSameDay(pn,os)),Fe[Xr.range_end]=!!(os&&bu&&i.isSameDay(pn,bu)),Fe[Xr.range_middle]=di(de,pn,!0,i)}const ro=qne(Fe,C,e.modifiersStyles),py=Nne(Fe,o,e.modifiersClassNames),gy=!te&&!Fe.hidden?G(pn,Fe,i.options,i):void 0;return Z.createElement(n.Day,{key:`${i.format(pn,"yyyy-MM-dd")}_${i.format(Re.displayMonth,"yyyy-MM")}`,day:Re,modifiers:Fe,className:py.join(" "),style:ro,role:"gridcell","aria-selected":Fe.selected||void 0,"aria-label":gy,"data-day":i.format(pn,"yyyy-MM-dd"),"data-month":Re.outside?i.format(pn,"yyyy-MM"):void 0,"data-selected":Fe.selected||void 0,"data-disabled":Fe.disabled||void 0,"data-hidden":Fe.hidden||void 0,"data-outside":Re.outside||void 0,"data-focused":Fe.focused||void 0,"data-today":Fe.today||void 0},!Fe.hidden&&te?Z.createElement(n.DayButton,{className:o[ge.DayButton],style:C==null?void 0:C[ge.DayButton],type:"button",day:Re,modifiers:Fe,disabled:Fe.disabled||void 0,tabIndex:Oe(Re)?0:-1,"aria-label":Ye(pn,Fe,i.options,i),onClick:ne(Re,Fe),onBlur:mn(Re,Fe),onFocus:pt(Re,Fe),onKeyDown:lt(Re,Fe),onMouseEnter:Et(Re,Fe),onMouseLeave:ct(Re,Fe)},A(pn,i.options,i)):!Fe.hidden&&A(Re.date,i.options,i))})))))))),e.footer&&Z.createElement(n.Footer,{className:o[ge.Footer],style:C==null?void 0:C[ge.Footer],role:"status","aria-live":"polite"},e.footer)))}function RL({className:t,classNames:e,showOutsideDays:n=!0,...r}){return m.jsx(Rre,{showOutsideDays:n,className:he("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:he(bw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:he(bw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>m.jsx(ij,{className:"h-4 w-4"}),IconRight:({...s})=>m.jsx(dS,{className:"h-4 w-4"})},...r})}RL.displayName="Calendar";var dv=0;function Dre(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AR()),document.body.insertAdjacentElement("beforeend",t[1]??AR()),dv++,()=>{dv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dv--}},[])}function AR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fv="focusScope.autoFocusOnMount",hv="focusScope.autoFocusOnUnmount",kR={bubbles:!1,cancelable:!0},Nre="FocusScope",DL=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,l]=y.useState(null),c=Nc(s),u=Nc(i),d=y.useRef(null),h=Fs(e,b=>l(b)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let b=function(x){if(p.paused||!o)return;const D=x.target;o.contains(D)?d.current=D:Ji(d.current,{select:!0})},T=function(x){if(p.paused||!o)return;const D=x.relatedTarget;D!==null&&(o.contains(D)||Ji(d.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&Ji(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",T);const g=new MutationObserver(v);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",T),g.disconnect()}}},[r,o,p.paused]),y.useEffect(()=>{if(o){RR.add(p);const b=document.activeElement;if(!o.contains(b)){const v=new CustomEvent(fv,kR);o.addEventListener(fv,c),o.dispatchEvent(v),v.defaultPrevented||(Ire(Lre(NL(o)),{select:!0}),document.activeElement===b&&Ji(o))}return()=>{o.removeEventListener(fv,c),setTimeout(()=>{const v=new CustomEvent(hv,kR);o.addEventListener(hv,u),o.dispatchEvent(v),v.defaultPrevented||Ji(b??document.body,{select:!0}),o.removeEventListener(hv,u),RR.remove(p)},0)}}},[o,c,u,p]);const S=y.useCallback(b=>{if(!n&&!r||p.paused)return;const T=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(T&&v){const g=b.currentTarget,[x,D]=Mre(g);x&&D?!b.shiftKey&&v===D?(b.preventDefault(),n&&Ji(x,{select:!0})):b.shiftKey&&v===x&&(b.preventDefault(),n&&Ji(D,{select:!0})):v===g&&b.preventDefault()}},[n,r,p.paused]);return m.jsx(as.div,{tabIndex:-1,...a,ref:h,onKeyDown:S})});DL.displayName=Nre;function Ire(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ji(r,{select:e}),document.activeElement!==n)return}function Mre(t){const e=NL(t),n=CR(e,t),r=CR(e.reverse(),t);return[n,r]}function NL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CR(t,e){for(const n of t)if(!Pre(n,{upTo:e}))return n}function Pre(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ore(t){return t instanceof HTMLInputElement&&"select"in t}function Ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ore(t)&&e&&t.select()}}var RR=jre();function jre(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=DR(t,e),t.unshift(e)},remove(e){var n;t=DR(t,e),(n=t[0])==null||n.resume()}}}function DR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Lre(t){return t.filter(e=>e.tagName!=="A")}var Vre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,om=new WeakMap,lm={},mv=0,IL=function(t){return t&&(t.host||IL(t.parentNode))},Ure=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=IL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Fre=function(t,e,n,r){var s=Ure(e,Array.isArray(t)?t:[t]);lm[n]||(lm[n]=new WeakMap);var i=lm[n],a=[],o=new Set,l=new Set(s),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var p=h.getAttribute(r),S=p!==null&&p!=="false",b=(vl.get(h)||0)+1,T=(i.get(h)||0)+1;vl.set(h,b),i.set(h,T),a.push(h),b===1&&S&&om.set(h,!0),T===1&&h.setAttribute(n,"true"),S||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),o.clear(),mv++,function(){a.forEach(function(d){var h=vl.get(d)-1,p=i.get(d)-1;vl.set(d,h),i.set(d,p),h||(om.has(d)||d.removeAttribute(r),om.delete(d)),p||d.removeAttribute(n)}),mv--,mv||(vl=new WeakMap,vl=new WeakMap,om=new WeakMap,lm={})}},Bre=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Vre(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Fre(r,s,n,"aria-hidden")):function(){return null}},vs=function(){return vs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vs.apply(this,arguments)};function ML(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zre(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var $m="right-scroll-bar-position",Hm="width-before-scroll-bar",$re="with-scroll-bars-hidden",Hre="--removed-body-scroll-bar-size";function pv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qre(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Gre=typeof window<"u"?y.useLayoutEffect:y.useEffect,NR=new WeakMap;function Wre(t,e){var n=qre(null,function(r){return t.forEach(function(s){return pv(s,r)})});return Gre(function(){var r=NR.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(o){i.has(o)||pv(o,null)}),i.forEach(function(o){s.has(o)||pv(o,a)})}NR.set(n,t)},[t]),n}function Yre(t){return t}function Kre(t,e){e===void 0&&(e=Yre);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var u=a;a=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return s}function Qre(t){t===void 0&&(t={});var e=Kre(null);return e.options=vs({async:!0,ssr:!1},t),e}var PL=function(t){var e=t.sideCar,n=ML(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,vs({},n))};PL.isSideCarExport=!0;function Xre(t,e){return t.useMedium(e),PL}var OL=Qre(),gv=function(){},hy=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:gv,onWheelCapture:gv,onTouchMoveCapture:gv}),s=r[0],i=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,p=t.noRelative,S=t.noIsolation,b=t.inert,T=t.allowPinchZoom,v=t.as,g=v===void 0?"div":v,x=t.gapMode,D=ML(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,P=Wre([n,e]),A=vs(vs({},D),s);return y.createElement(y.Fragment,null,u&&y.createElement(C,{sideCar:OL,removeScrollBar:c,shards:d,noRelative:p,noIsolation:S,inert:b,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:x}),a?y.cloneElement(y.Children.only(o),vs(vs({},A),{ref:P})):y.createElement(g,vs({},A,{className:l,ref:P}),o))});hy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hy.classNames={fullWidth:Hm,zeroRight:$m};var Zre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Zre();return e&&t.setAttribute("nonce",e),t}function ese(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tse(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nse=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Jre())&&(ese(e,n),tse(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rse=function(){var t=nse();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jL=function(){var t=rse(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sse={left:0,top:0,right:0,gap:0},yv=function(t){return parseInt(t||"",10)||0},ise=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[yv(n),yv(r),yv(s)]},ase=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sse;var e=ise(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ose=jL(),dc="data-scroll-locked",lse=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($re,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Hm,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dc,`] {
    `).concat(Hre,": ").concat(o,`px;
  }
`)},IR=function(){var t=parseInt(document.body.getAttribute(dc)||"0",10);return isFinite(t)?t:0},cse=function(){y.useEffect(function(){return document.body.setAttribute(dc,(IR()+1).toString()),function(){var t=IR()-1;t<=0?document.body.removeAttribute(dc):document.body.setAttribute(dc,t.toString())}},[])},use=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cse();var i=y.useMemo(function(){return ase(s)},[s]);return y.createElement(ose,{styles:lse(i,!e,s,n?"":"!important")})},Uw=!1;if(typeof window<"u")try{var cm=Object.defineProperty({},"passive",{get:function(){return Uw=!0,!0}});window.addEventListener("test",cm,cm),window.removeEventListener("test",cm,cm)}catch{Uw=!1}var bl=Uw?{passive:!1}:!1,dse=function(t){return t.tagName==="TEXTAREA"},LL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dse(t)&&n[e]==="visible")},fse=function(t){return LL(t,"overflowY")},hse=function(t){return LL(t,"overflowX")},MR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VL(t,r);if(s){var i=UL(t,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mse=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pse=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VL=function(t,e){return t==="v"?fse(e):hse(e)},UL=function(t,e){return t==="v"?mse(e):pse(e)},gse=function(t,e){return t==="h"&&e==="rtl"?-1:1},yse=function(t,e,n,r,s){var i=gse(t,window.getComputedStyle(e).direction),a=i*r,o=n.target,l=e.contains(o),c=!1,u=a>0,d=0,h=0;do{if(!o)break;var p=UL(t,o),S=p[0],b=p[1],T=p[2],v=b-T-i*S;(S||v)&&VL(t,o)&&(d+=v,h+=S);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},um=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PR=function(t){return[t.deltaX,t.deltaY]},OR=function(t){return t&&"current"in t?t.current:t},vse=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bse=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wse=0,wl=[];function xse(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(wse++)[0],i=y.useState(jL)[0],a=y.useRef(t);y.useEffect(function(){a.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=zre([t.lockRef.current],(t.shards||[]).map(OR),!0).filter(Boolean);return b.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=y.useCallback(function(b,T){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var v=um(b),g=n.current,x="deltaX"in b?b.deltaX:g[0]-v[0],D="deltaY"in b?b.deltaY:g[1]-v[1],C,P=b.target,A=Math.abs(x)>Math.abs(D)?"h":"v";if("touches"in b&&A==="h"&&P.type==="range")return!1;var E=MR(A,P);if(!E)return!0;if(E?C=A:(C=A==="v"?"h":"v",E=MR(A,P)),!E)return!1;if(!r.current&&"changedTouches"in b&&(x||D)&&(r.current=C),!C)return!0;var _=r.current||C;return yse(_,T,b,_==="h"?x:D)},[]),l=y.useCallback(function(b){var T=b;if(!(!wl.length||wl[wl.length-1]!==i)){var v="deltaY"in T?PR(T):um(T),g=e.current.filter(function(C){return C.name===T.type&&(C.target===T.target||T.target===C.shadowParent)&&vse(C.delta,v)})[0];if(g&&g.should){T.cancelable&&T.preventDefault();return}if(!g){var x=(a.current.shards||[]).map(OR).filter(Boolean).filter(function(C){return C.contains(T.target)}),D=x.length>0?o(T,x[0]):!a.current.noIsolation;D&&T.cancelable&&T.preventDefault()}}},[]),c=y.useCallback(function(b,T,v,g){var x={name:b,delta:T,target:v,should:g,shadowParent:Ese(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(D){return D!==x})},1)},[]),u=y.useCallback(function(b){n.current=um(b),r.current=void 0},[]),d=y.useCallback(function(b){c(b.type,PR(b),b.target,o(b,t.lockRef.current))},[]),h=y.useCallback(function(b){c(b.type,um(b),b.target,o(b,t.lockRef.current))},[]);y.useEffect(function(){return wl.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,bl),document.addEventListener("touchmove",l,bl),document.addEventListener("touchstart",u,bl),function(){wl=wl.filter(function(b){return b!==i}),document.removeEventListener("wheel",l,bl),document.removeEventListener("touchmove",l,bl),document.removeEventListener("touchstart",u,bl)}},[]);var p=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:bse(s)}):null,p?y.createElement(use,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ese(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Sse=Xre(OL,xse);var FL=y.forwardRef(function(t,e){return y.createElement(hy,vs({},t,{ref:e,sideCar:Sse}))});FL.classNames=hy.classNames;var my="Popover",[BL]=$x(my,[xg]),yh=xg(),[Tse,no]=BL(my),zL=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,o=yh(e),l=y.useRef(null),[c,u]=y.useState(!1),[d,h]=T9({prop:r,defaultProp:s??!1,onChange:i,caller:my});return m.jsx(v9,{...o,children:m.jsx(Tse,{scope:e,contentId:Z5(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>u(!0),[]),onCustomAnchorRemove:y.useCallback(()=>u(!1),[]),modal:a,children:n})})};zL.displayName=my;var $L="PopoverAnchor",_se=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=no($L,n),i=yh(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=s;return y.useEffect(()=>(a(),()=>o()),[a,o]),m.jsx(eE,{...i,...r,ref:e})});_se.displayName=$L;var HL="PopoverTrigger",qL=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=no(HL,n),i=yh(n),a=Fs(e,s.triggerRef),o=m.jsx(as.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":QL(s.open),...r,ref:a,onClick:rr(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:m.jsx(eE,{asChild:!0,...i,children:o})});qL.displayName=HL;var JS="PopoverPortal",[Ase,kse]=BL(JS,{forceMount:void 0}),GL=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=no(JS,e);return m.jsx(Ase,{scope:e,forceMount:n,children:m.jsx(Eg,{present:n||i.open,children:m.jsx(SI,{asChild:!0,container:s,children:r})})})};GL.displayName=JS;var Yc="PopoverContent",WL=y.forwardRef((t,e)=>{const n=kse(Yc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=no(Yc,t.__scopePopover);return m.jsx(Eg,{present:r||i.open,children:i.modal?m.jsx(Rse,{...s,ref:e}):m.jsx(Dse,{...s,ref:e})})});WL.displayName=Yc;var Cse=Hx("PopoverContent.RemoveScroll"),Rse=y.forwardRef((t,e)=>{const n=no(Yc,t.__scopePopover),r=y.useRef(null),s=Fs(e,r),i=y.useRef(!1);return y.useEffect(()=>{const a=r.current;if(a)return Bre(a)},[]),m.jsx(FL,{as:Cse,allowPinchZoom:!0,children:m.jsx(YL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),i.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rr(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:rr(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dse=y.forwardRef((t,e)=>{const n=no(Yc,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return m.jsx(YL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),YL=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=no(Yc,n),p=yh(n);return Dre(),m.jsx(DL,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(qx,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:m.jsx(xI,{"data-state":QL(h.open),role:"dialog",id:h.contentId,...p,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),KL="PopoverClose",Nse=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=no(KL,n);return m.jsx(as.button,{type:"button",...r,ref:e,onClick:rr(t.onClick,()=>s.onOpenChange(!1))})});Nse.displayName=KL;var Ise="PopoverArrow",Mse=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=yh(n);return m.jsx(EI,{...s,...r,ref:e})});Mse.displayName=Ise;function QL(t){return t?"open":"closed"}var Pse=zL,Ose=qL,jse=GL,XL=WL;const Lse=Pse,Vse=Ose,ZL=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>m.jsx(jse,{children:m.jsx(XL,{ref:s,align:e,sideOffset:n,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ZL.displayName=XL.displayName;var An=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},qn={searchParams:"URLSearchParams"in An,iterable:"Symbol"in An&&"iterator"in Symbol,blob:"FileReader"in An&&"Blob"in An&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in An,arrayBuffer:"ArrayBuffer"in An};function Use(t){return t&&DataView.prototype.isPrototypeOf(t)}if(qn.arrayBuffer)var Fse=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Bse=ArrayBuffer.isView||function(t){return t&&Fse.indexOf(Object.prototype.toString.call(t))>-1};function vu(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function eT(t){return typeof t!="string"&&(t=String(t)),t}function tT(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return qn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function hn(t){this.map={},t instanceof hn?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}hn.prototype.append=function(t,e){t=vu(t),e=eT(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};hn.prototype.delete=function(t){delete this.map[vu(t)]};hn.prototype.get=function(t){return t=vu(t),this.has(t)?this.map[t]:null};hn.prototype.has=function(t){return this.map.hasOwnProperty(vu(t))};hn.prototype.set=function(t,e){this.map[vu(t)]=eT(e)};hn.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};hn.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),tT(t)};hn.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),tT(t)};hn.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),tT(t)};qn.iterable&&(hn.prototype[Symbol.iterator]=hn.prototype.entries);function vv(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function JL(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function zse(t){var e=new FileReader,n=JL(e);return e.readAsArrayBuffer(t),n}function $se(t){var e=new FileReader,n=JL(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),s=r?r[1]:"utf-8";return e.readAsText(t,s),n}function Hse(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function jR(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function eV(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:qn.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:qn.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:qn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():qn.arrayBuffer&&qn.blob&&Use(t)?(this._bodyArrayBuffer=jR(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):qn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Bse(t))?this._bodyArrayBuffer=jR(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):qn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},qn.blob&&(this.blob=function(){var t=vv(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=vv(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(qn.blob)return this.blob().then(zse);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=vv(this);if(t)return t;if(this._bodyBlob)return $se(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Hse(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},qn.formData&&(this.formData=function(){return this.text().then(Wse)}),this.json=function(){return this.text().then(JSON.parse)},this}var qse=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Gse(t){var e=t.toUpperCase();return qse.indexOf(e)>-1?e:t}function nl(t,e){if(!(this instanceof nl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof nl){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new hn(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new hn(e.headers)),this.method=Gse(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in An){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}nl.prototype.clone=function(){return new nl(this,{body:this._bodyInit})};function Wse(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),s=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(s),decodeURIComponent(i))}}),e}function Yse(t){var e=new hn,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var s=r.split(":"),i=s.shift().trim();if(i){var a=s.join(":").trim();try{e.append(i,a)}catch(o){console.warn("Response "+o.message)}}}),e}eV.call(nl.prototype);function Ls(t,e){if(!(this instanceof Ls))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new hn(e.headers),this.url=e.url||"",this._initBody(t)}eV.call(Ls.prototype);Ls.prototype.clone=function(){return new Ls(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new hn(this.headers),url:this.url})};Ls.error=function(){var t=new Ls(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Kse=[301,302,303,307,308];Ls.redirect=function(t,e){if(Kse.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Ls(null,{status:e,headers:{location:t}})};var xo=An.DOMException;try{new xo}catch{xo=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},xo.prototype=Object.create(Error.prototype),xo.prototype.constructor=xo}function tV(t,e){return new Promise(function(n,r){var s=new nl(t,e);if(s.signal&&s.signal.aborted)return r(new xo("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var c={statusText:i.statusText,headers:Yse(i.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(i.status<200||i.status>599)?c.status=200:c.status=i.status,c.url="responseURL"in i?i.responseURL:c.headers.get("X-Request-URL");var u="response"in i?i.response:i.responseText;setTimeout(function(){n(new Ls(u,c))},0)},i.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){r(new xo("Aborted","AbortError"))},0)};function o(c){try{return c===""&&An.location.href?An.location.href:c}catch{return c}}if(i.open(s.method,o(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(qn.blob?i.responseType="blob":qn.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof hn||An.Headers&&e.headers instanceof An.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(c){l.push(vu(c)),i.setRequestHeader(c,eT(e.headers[c]))}),s.headers.forEach(function(c,u){l.indexOf(u)===-1&&i.setRequestHeader(u,c)})}else s.headers.forEach(function(c,u){i.setRequestHeader(u,c)});s.signal&&(s.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",a)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}tV.polyfill=!0;An.fetch||(An.fetch=tV,An.Headers=hn,An.Request=nl,An.Response=Ls);var bv={};const nV="11434",rV=`http://127.0.0.1:${nV}`,Qse="0.6.2";var Xse=Object.defineProperty,Zse=(t,e,n)=>e in t?Xse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wv=(t,e,n)=>(Zse(t,typeof e!="symbol"?e+"":e,n),n);class nT extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,nT)}}class Jse{constructor(e,n,r){wv(this,"abortController"),wv(this,"itr"),wv(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const rT=async t=>{var r;if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if((r=t.headers.get("content-type"))!=null&&r.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new nT(e,t.status)};function eie(){var t;if(typeof window<"u"&&window.navigator){const e=navigator;return"userAgentData"in e&&((t=e.userAgentData)!=null&&t.platform)?`${e.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function tie(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const nie=(t,e)=>t[e],sT=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${Qse} (${eie()})`};n.headers=tie(n.headers);try{const i=new URL(e);if(i.protocol==="https:"&&i.hostname==="ollama.com"){const a=typeof process=="object"&&process!==null&&typeof bv=="object"&&bv!==null?nie(bv,"OLLAMA_API_KEY"):void 0;!(n.headers.authorization||n.headers.Authorization)&&a&&(n.headers.Authorization=`Bearer ${a}`)}}catch(i){console.error("error parsing url",i)}const s=Object.fromEntries(Object.entries(n.headers).filter(([i])=>!Object.keys(r).some(a=>a.toLowerCase()===i.toLowerCase())));return n.headers={...r,...s},t(e,n)},LR=async(t,e,n)=>{const r=await sT(t,e,{headers:n==null?void 0:n.headers});return await rT(r),r},Ki=async(t,e,n,r)=>{const i=(o=>o!==null&&typeof o=="object"&&!Array.isArray(o))(n)?JSON.stringify(n):n,a=await sT(t,e,{method:"POST",body:i,signal:r==null?void 0:r.signal,headers:r==null?void 0:r.headers});return await rT(a),a},rie=async(t,e,n,r)=>{const s=await sT(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r==null?void 0:r.headers});return await rT(s),s},sie=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:s,value:i}=await r.read();if(s)break;n+=e.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()??"";for(const o of a)try{yield JSON.parse(o)}catch{console.warn("invalid json: ",o)}}n+=e.decode();for(const s of n.split(`
`).filter(i=>i!==""))try{yield JSON.parse(s)}catch{console.warn("invalid json: ",s)}},iie=t=>{if(!t)return rV;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=nV);let s="";n.username&&(s=n.username,n.password&&(s+=`:${n.password}`),s+="@");let i=`${n.protocol}//${s}${n.hostname}:${r}${n.pathname}`;return i.endsWith("/")&&(i=i.slice(0,-1)),i};var aie=Object.defineProperty,oie=(t,e,n)=>e in t?aie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xv=(t,e,n)=>(oie(t,typeof e!="symbol"?e+"":e,n),n);let sV=class{constructor(e){xv(this,"config"),xv(this,"fetch"),xv(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e==null?void 0:e.headers},e!=null&&e.proxy||(this.config.host=iie((e==null?void 0:e.host)??rV)),this.fetch=(e==null?void 0:e.fetch)??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const i=new AbortController,a=await Ki(this.fetch,r,n,{signal:i.signal,headers:this.config.headers});if(!a.body)throw new Error("Missing body");const o=sie(a.body),l=new Jse(i,o,()=>{const c=this.ongoingStreamedRequests.indexOf(l);c>-1&&this.ongoingStreamedRequests.splice(c,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Ki(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const s=n.byteLength;for(let i=0;i<s;i++)r+=String.fromCharCode(n[i]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await rie(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Ki(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await LR(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Ki(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Ki(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Ki(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await LR(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}async webSearch(e){if(!e.query||e.query.length===0)throw new Error("Query is required");return await(await Ki(this.fetch,"https://ollama.com/api/web_search",{...e},{headers:this.config.headers})).json()}async webFetch(e){if(!e.url||e.url.length===0)throw new Error("URL is required");return await(await Ki(this.fetch,"https://ollama.com/api/web_fetch",{...e},{headers:this.config.headers})).json()}};new sV;const VR="http://localhost:11434",UR="gemma2:2b",Zt={temperature:.7,top_p:.9,top_k:40,repeat_penalty:1.1,num_predict:512,stream:!0},FR=`Eres Stebe, un asistente virtual de productividad personal integrado en una aplicacin mvil. Tu misin es actuar como el "jefe" o mentor personal del usuario, ayudndolo a organizar sus tareas y a alcanzar sus objetivos de forma eficiente. Te especializas en gestionar tareas personales: ayudas a crear nuevas tareas, priorizarlas, establecer recordatorios y realizar seguimiento del progreso diario. Siempre brindas apoyo para que el usuario mantenga la productividad y cumpla con sus responsabilidades.

Comunicacin: Te expresas siempre en espaol, con un tono profesional pero cercano. Hablas de forma motivadora, positiva y clara, como un lder que inspira confianza. Eres exigente pero amable: animas al usuario a dar lo mejor de s, a la vez que utilizas un toque de humor ligero cuando es oportuno para mantener la conversacin amena.

Rol y comportamiento: Actas como el jefe personal del usuario que le organiza la vida. Elogias los logros y reconoces el esfuerzo cuando el usuario completa una tarea importante. Si una meta es grande o ambiciosa, le sugieres dividirla en subtareas ms pequeas y manejables. Proporcionas recordatorios amigables pero firmes de las tareas pendientes. Siempre ofreces consejos prcticos para mejorar la productividad.

Formato de respuestas: Presentas la informacin de manera organizada y fcil de leer. Cuando enumeres varias tareas, pasos o recomendaciones, hacelo en formato de lista con vietas o nmeros. S conciso pero completo en tus explicaciones.

Limitaciones: Trabajas completamente local, utilizando modelos Ollama. No revels informacin tcnica sobre vos mismo ni sals de tu rol. Si el usuario pregunta algo fuera del mbito de sus tareas o productividad personal, intents relacionarlo con su organizacin; de lo contrario, explics con cortesa que tu funcin es asistirlo con sus tareas y productividad.

En resumen, tu objetivo es hacerle la vida ms fcil al usuario en la gestin de sus tareas, actuando como un gua confiable que organiza, motiva y celebra cada logro. Ests listo para ayudar al usuario a ser ms productivo da a da!`;class lie{constructor(){on(this,"isInitialized",!1);on(this,"isInitializing",!1);on(this,"currentModel",UR);on(this,"ollamaUrl",VR);on(this,"ollama",null);on(this,"conversationContext",{recentTopics:[],userMood:"neutral",conversationHistory:[],userPreferences:{responseStyle:"encouraging",focusAreas:[]}})}async initialize(e={},n){if(this.isInitialized)return!0;if(this.isInitializing)return!1;this.isInitializing=!0;try{return n==null||n(0,"Conectando con Ollama..."),this.ollamaUrl=e.ollamaUrl||VR,this.currentModel=e.model||UR,this.ollama=new sV({host:this.ollamaUrl}),n==null||n(25,"Verificando disponibilidad de Ollama..."),await this.checkOllamaAvailability()?(n==null||n(50,"Verificando modelo disponible..."),await this.checkModelAvailability()||(n==null||n(75,`Descargando modelo ${this.currentModel}...`),await this.pullModel()),n==null||n(100,"Gemini con Ollama listo!"),this.isInitialized=!0,this.isInitializing=!1,console.log(" Gemini Service inicializado correctamente con Ollama"),!0):(n==null||n(100,"Ollama no disponible - usando modo simulado"),console.warn(" Ollama no est disponible, usando modo simulado"),this.isInitialized=!0,this.isInitializing=!1,!0)}catch(r){return console.error(" Error inicializando Gemini:",r),n==null||n(100,"Error en inicializacin - usando modo simulado"),this.isInitialized=!0,this.isInitializing=!1,!0}}async checkOllamaAvailability(){try{return this.ollama?(await this.ollama.list(),!0):(await fetch(`${this.ollamaUrl}/api/tags`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch(e){return console.warn("Ollama no disponible:",e),!1}}async checkModelAvailability(){try{return this.ollama?(await this.ollama.list()).models.some(i=>i.name===this.currentModel):((await(await fetch(`${this.ollamaUrl}/api/tags`)).json()).models||[]).some(s=>s.name===this.currentModel)}catch(e){return console.warn("Error verificando modelos:",e),!1}}async pullModel(){try{if(this.ollama){const n=await this.ollama.pull({model:this.currentModel,stream:!0});for await(const r of n)if(r.completed&&r.total){const s=Math.round(r.completed/r.total*100);console.log(`Descargando ${this.currentModel}: ${s}%`)}console.log(` Modelo ${this.currentModel} descargado correctamente`);return}const e=await fetch(`${this.ollamaUrl}/api/pull`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.currentModel,stream:!1})});if(!e.ok)throw new Error(`Error descargando modelo: ${e.statusText}`);console.log(` Modelo ${this.currentModel} descargado correctamente`)}catch(e){throw console.error(" Error descargando modelo:",e),e}}async ensureReady(){return this.isInitialized?!0:await this.initialize()}isReady(){return this.isInitialized}getInitializationStatus(){return this.isInitialized?`Gemini listo con modelo ${this.currentModel}`:this.isInitializing?"Inicializando Gemini con Ollama...":"Gemini no inicializado"}async getResponse(e,n=[],r={}){var s,i;try{if(!await this.checkOllamaAvailability())return this.getSimulatedResponse(e);const o=[{role:"system",content:FR},...n,{role:"user",content:e}];if(this.ollama)return((s=(await this.ollama.chat({model:this.currentModel,messages:o,stream:!1,options:{temperature:r.temperature||Zt.temperature,top_p:Zt.top_p,top_k:Zt.top_k,repeat_penalty:Zt.repeat_penalty,num_predict:r.maxTokens||Zt.num_predict}})).message)==null?void 0:s.content)||"Lo siento, no pude generar una respuesta.";const l=await fetch(`${this.ollamaUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.currentModel,messages:o,stream:!1,options:{temperature:r.temperature||Zt.temperature,top_p:Zt.top_p,top_k:Zt.top_k,repeat_penalty:Zt.repeat_penalty,num_predict:r.maxTokens||Zt.num_predict}})});if(!l.ok)throw new Error(`Error en respuesta de Ollama: ${l.statusText}`);return((i=(await l.json()).message)==null?void 0:i.content)||"Lo siento, no pude generar una respuesta."}catch(a){return console.error(" Error obteniendo respuesta de Gemini:",a),this.getSimulatedResponse(e)}}async getStreamingResponse(e,n=[],r={},s){var i,a,o;try{if(!await this.checkOllamaAvailability()){const S=this.getSimulatedResponse(e);this.simulateStreaming(S,s);return}const c=[{role:"system",content:FR},...n,{role:"user",content:e}];if(this.ollama){const S=await this.ollama.chat({model:this.currentModel,messages:c,stream:!0,options:{temperature:r.temperature||Zt.temperature,top_p:Zt.top_p,top_k:Zt.top_k,repeat_penalty:Zt.repeat_penalty,num_predict:r.maxTokens||Zt.num_predict}});let b="";for await(const T of S){if((i=T.message)!=null&&i.content){const v=T.message.content;b+=v,s.onToken(v)}if(T.done){s.onComplete(b);return}}return}const u=await fetch(`${this.ollamaUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.currentModel,messages:c,stream:!0,options:{temperature:r.temperature||Zt.temperature,top_p:Zt.top_p,top_k:Zt.top_k,repeat_penalty:Zt.repeat_penalty,num_predict:r.maxTokens||Zt.num_predict}})});if(!u.ok)throw new Error(`Error en streaming de Ollama: ${u.statusText}`);const d=(a=u.body)==null?void 0:a.getReader();if(!d)throw new Error("No se pudo obtener el reader del stream");let h="";const p=new TextDecoder;for(;;){const{done:S,value:b}=await d.read();if(S)break;const v=p.decode(b).split(`
`).filter(g=>g.trim());for(const g of v)try{const x=JSON.parse(g);if((o=x.message)!=null&&o.content){const D=x.message.content;h+=D,s.onToken(D)}if(x.done){s.onComplete(h);return}}catch{}}s.onComplete(h)}catch(l){console.error(" Error en streaming de Gemini:",l),s.onError(l instanceof Error?l.message:"Error desconocido");const c=this.getSimulatedResponse(e);this.simulateStreaming(c,s)}}simulateStreaming(e,n){let r=0;const s=e.split(" "),i=setInterval(()=>{if(r<s.length){const a=r===0?s[r]:" "+s[r];n.onToken(a),r++}else clearInterval(i),n.onComplete(e)},50)}async getQuickResponse(e){return await this.getResponse(e)}async getProductivitySuggestion(){const e=["Hola! Soy Stebe, tu asistente de productividad. En qu puedo ayudarte hoy para organizar tus tareas?","Buen da! Tienes alguna tarea pendiente que necesites priorizar? Estoy aqu para ayudarte.","Hola! Qu tal si empezamos planificando tu da? Cules son tus objetivos principales?","Saludos! Como tu mentor de productividad, te sugiero que revisemos tus tareas. Hay algo urgente?","Hola! Lista para ser productiva hoy? Cuntame qu necesitas lograr y te ayudo a organizarte."];return e[Math.floor(Math.random()*e.length)]}getSimulatedResponse(e){const n=e.toLowerCase();if(n.includes("hola")||n.includes("hi")||n.includes("buenas")){const s=["Hola! Soy Stebe, tu mentor personal de productividad. Estoy aqu para convertirte en una mquina de cumplir objetivos. Cul es tu mayor desafo productivo hoy?","Saludos! Como tu jefe personal que organiza tu vida, pregunto directamente: qu necesitas lograr hoy y qu te est frenando?","Hola! Excelente que me busques. Soy tu sistema operativo personal de productividad. En qu rea de tu vida necesitas ms control y organizacin?"];return s[Math.floor(Math.random()*s.length)]}if(n.includes("organizar")||n.includes("dia")||n.includes("da")||n.includes("planificar"))return`Perfecto, hablemos de estrategia. Para organizar tu da como un profesional:

 **Prioridad #1**: Cul es LA cosa ms importante que DEBE pasar hoy?
 **Bloques de tiempo**: Asigna horarios especficos, no listas infinitas
 **Elimina despiadadamente**: Qu puedes NO hacer hoy?

Cul es tu mayor prioridad ahora mismo?`;if(n.includes("tarea")||n.includes("trabajo")||n.includes("hacer"))return`Excelente enfoque en la ejecucin. Como tu mentor de productividad, esto es lo que funciona:

 **Regla 2-minutos**: Si toma menos de 2 min, hazlo YA
 **Una cosa a la vez**: Multitasking = mediocridad garantizada
 **Sesiones de 25 min**: Pomodoro funciona porque respeta tu neurologa

Qu tarea especfica necesita tu atencin inmediata?`;if(n.includes("motivaci")||n.includes("procrastina")||n.includes("pereza")||n.includes("no puedo"))return`Entiendo esa resistencia mental. La procrastinacin no es pereza, es tu cerebro protegindote de algo que percibe como amenazante.

 **Verdad cruda**: La motivacin viene DESPUS de la accin, no antes
 **Neurociencia**: Cada pequeo logro libera dopamina = momentum
 **Truco**: Qu es lo ms pequeo que podras hacer en 2 minutos?

Cul va a ser tu primer micro-paso ahora mismo?`;if(n.includes("tiempo")||n.includes("horario")||n.includes("cuando"))return`El tiempo es tu recurso ms valioso porque es irrecuperable. Estrategia inteligente:

 **Planifica la noche anterior**: Las decisiones matutinas agotan energa mental
 **3 prioridades mximo**: Ms = dilucin de esfuerzo
 **Protege tu atencin**: Notificaciones = ladrones de productividad

Qu parte de tu da sientes ms fuera de control?`;if(n.includes("ayuda")||n.includes("como")||n.includes("cmo")||n.includes("consejo"))return`Por supuesto. Soy tu arquitecto de productividad personal. Mi funcin es simple: convertir el caos en sistema.

 **Primero**: Identifica tu patrn de mayor energa (maana/tarde?)
 **Segundo**: Protege ese tiempo para trabajo importante
 **Tercero**: Todo lo dems es secundario

Cul es tu mayor dolor de cabeza productivo ahora mismo?`;if(n.includes("meta")||n.includes("objetivo")||n.includes("lograr"))return`Excelente mentalidad orientada a resultados. Las metas se logran con sistemas, no con inspiracin:

 **Meta sin deadline = deseo bonito**
 **Sistema sin seguimiento = fantasa**
 **Progreso > perfeccin**: Siempre

Tu objetivo tiene fecha especfica y mtricas claras para medir progreso?`;const r=["Perfecto enfoque. Como tu jefe personal de productividad: la diferencia entre soar y lograr est en la implementacin. Cul va a ser tu siguiente paso especfico y medible?","Me gusta cmo piensas. Convirtamos esa reflexin en accin. Si pudieras mejorar UNA cosa de cmo manejas tu tiempo/energa hoy, cul sera?","Excelente. No necesitas ms informacin, necesitas ms ejecucin. Con lo que ya sabes, cul es el paso ms obvio que deberas dar ahora?","Interesante perspectiva. Como tu mentor de productividad: qu patrn de tu rutina diaria necesita una actualizacin urgente?","Bien planteado. La productividad real viene del autoconocimiento: patrones, fortalezas, limitaciones. Qu has descubierto sobre tu forma de trabajar?"];return r[Math.floor(Math.random()*r.length)]}updateConversationContext(e,n){this.conversationContext.conversationHistory.push({user:e,assistant:n,timestamp:new Date}),this.conversationContext.conversationHistory.length>10&&(this.conversationContext.conversationHistory=this.conversationContext.conversationHistory.slice(-10));const r=this.extractTopics(e);this.conversationContext.recentTopics=[...new Set([...r,...this.conversationContext.recentTopics])].slice(0,5),this.updateUserMood(e)}extractTopics(e){return["tarea","trabajo","proyecto","deadline","reunin","objetivo","meta"].filter(r=>e.toLowerCase().includes(r))}updateUserMood(e){const n=["bien","genial","perfecto","excelente","contento"],r=["mal","terrible","frustrado","cansado","abrumado"],s=e.toLowerCase();n.some(i=>s.includes(i))?this.conversationContext.userMood="motivated":r.some(i=>s.includes(i))?this.conversationContext.userMood="frustrated":this.conversationContext.userMood="neutral"}getConversationContext(){return{...this.conversationContext}}clearConversationHistory(){this.conversationContext.conversationHistory=[],this.conversationContext.recentTopics=[],this.conversationContext.userMood="neutral"}setModel(e){this.currentModel=e}getAvailableModels(){return["gemma2:2b","gemma2:9b","llama3.2:1b","llama3.2:3b","mistral:7b","phi3:mini","qwen2.5:1.5b","qwen2.5:3b"]}async getInstalledModels(){var e;try{return this.ollama?(await this.ollama.list()).models.map(i=>i.name):((e=(await(await fetch(`${this.ollamaUrl}/api/tags`)).json()).models)==null?void 0:e.map(s=>s.name))||[]}catch(n){return console.error("Error obteniendo modelos instalados:",n),[]}}getCurrentModel(){return this.currentModel}setOllamaUrl(e){this.ollamaUrl=e}getOllamaUrl(){return this.ollamaUrl}}const Ev=new lie,cie=({isOpen:t,onClose:e,onAddTask:n,editingTask:r})=>{const[s,i]=y.useState(""),[a,o]=y.useState(""),[l,c]=y.useState("Tareas"),[u,d]=y.useState(void 0),[h,p]=y.useState(""),[S,b]=y.useState(!1),[T,v]=y.useState(!1),[g,x]=y.useState(!1),[D,C]=y.useState(!1),[P,A]=y.useState([""]),{toast:E}=dE(),{isDark:_}=Cr(),{isAuthenticated:R,user:N}=Li(),[I,M]=y.useState(!1),[V,z]=y.useState(xw),[L,U]=y.useState(!1),[j,K]=y.useState(""),[Q,pe]=y.useState(!1);y.useEffect(()=>{const ye=localStorage.getItem("stebe-custom-daily-tasks");ye&&z(JSON.parse(ye))},[]),y.useEffect(()=>{r?(i(r.title),o(r.notes||""),c("Tareas"),r.scheduledDate?(d(new Date(r.scheduledDate)),b(!0)):(d(void 0),b(!1)),r.scheduledTime?(p(r.scheduledTime),v(!0)):(p(""),v(!1)),r.subtasks&&r.subtasks.length>0?A(r.subtasks.map(ye=>ye.title)):A([""])):(i(""),o(""),c("Tareas"),d(void 0),p(""),b(!1),v(!1),A([""]))},[r]),y.useEffect(()=>{if(t&&!r){const ye=localStorage.getItem("stebe-selected-date");ye&&(d(new Date(ye)),b(!0))}},[t,r]);const ae=async()=>{var ye;if(!R||!N){E({title:"Se requiere autenticacin",description:"Debes iniciar sesin para crear tareas",variant:"destructive"});return}M(!0),E({title:"Steve dice:",description:"Perfecto! Voy a aadir tus tareas diarias. Es hora de ser productivo! "});for(let Ye=0;Ye<V.length;Ye++){const G=V[Ye],oe=((ye=G.subtasks)==null?void 0:ye.map((be,je)=>({id:`${Date.now()}-${Ye}-${je}`,title:be,completed:!1})))||[];n(G.title,"productividad",oe.length>0?oe:void 0,new Date().toISOString().split("T")[0],G.scheduledTime,void 0)}E({title:"Steve dice:",description:`Listo! He aadido ${V.length} tareas diarias. T puedes con todo! `}),M(!1),de(),e()},re=()=>{if(!R||!N){E({title:"Se requiere autenticacin",description:"Debes iniciar sesin para crear tareas",variant:"destructive"});return}if(s.trim()){const ye=P.filter(oe=>oe.trim()).map((oe,be)=>({id:`${Date.now()}-${be}`,title:oe.trim(),completed:!1})),Ye=S&&u?u.toISOString().split("T")[0]:void 0;n(s.trim(),"productividad",ye.length>0?ye:void 0,Ye,T?h:void 0,a.trim()||void 0),de(),e()}},de=()=>{i(""),o(""),c("Tareas"),d(void 0),p(""),b(!1),v(!1),A([""]),U(!1),K("")},se=async()=>{var ye;if(!R||!N){E({title:"Se requiere autenticacin",description:"Debes iniciar sesin para crear tareas con IA",variant:"destructive"});return}if(!j.trim()){E({title:"Escribe algo primero",description:"Cuntame qu necesitas hacer y crear las tareas por ti",variant:"destructive"});return}pe(!0);try{Ev.isReady()||await Ev.initialize();const Ye=`Como asistente de productividad STEEB, analiza esta solicitud del usuario y genera tareas especficas y accionables en espaol.

FORMATO DE RESPUESTA REQUERIDO:
Devuelve SOLO un JSON vlido con este formato exacto:
{
  "tasks": [
    {
      "title": "Ttulo de la tarea",
      "subtasks": ["Subtarea 1", "Subtarea 2"],
      "priority": "high/medium/low",
      "estimatedTime": "30min"
    }
  ]
}

REGLAS:
- Genera entre 2-5 tareas concretas y accionables
- Cada tarea debe tener un ttulo claro y subtareas especficas
- Las subtareas deben ser pasos concretos para completar la tarea
- NO incluyas explicaciones adicionales, SOLO el JSON

Solicitud del usuario: ${j}`,G=await Ev.getResponse(Ye);let oe;try{const je=G.match(/\{[\s\S]*\}/);if(je)oe=JSON.parse(je[0]);else throw new Error("No se encontr JSON vlido")}catch{throw console.error("Error parseando respuesta:",G),new Error("La IA no gener un formato vlido")}if(!oe.tasks||oe.tasks.length===0)throw new Error("No se generaron tareas");let be=0;for(const je of oe.tasks){const wt=((ye=je.subtasks)==null?void 0:ye.map((rt,mt)=>({id:`${Date.now()}-${be}-${mt}`,title:rt,completed:!1})))||[];n(je.title,"productividad",wt.length>0?wt:void 0,S&&u?u.toISOString().split("T")[0]:void 0,T?h:void 0,`Generado por STEEB  Prioridad: ${je.priority}  Tiempo estimado: ${je.estimatedTime}`),be++}E({title:"STEEB ha creado tus tareas! ",description:`Se generaron ${be} tareas basadas en tu solicitud`}),de(),e()}catch(Ye){console.error("Error generando con IA:",Ye),E({title:"Error generando tareas",description:Ye instanceof Error?Ye.message:"Intenta describir tu objetivo de otra forma",variant:"destructive"})}finally{pe(!1)}},Ne=()=>{A([...P,""])},Oe=(ye,Ye)=>{const G=[...P];G[ye]=Ye,A(G)},nt=ye=>{A(P.filter((Ye,G)=>G!==ye))};return t?m.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-end sm:items-center justify-center z-50",children:m.jsxs("div",{className:he("w-full sm:max-w-lg h-[90vh] sm:h-[80vh] sm:max-h-[700px] sm:rounded-2xl flex flex-col modal-add-task",_?"bg-gray-800":"bg-gray-100"),children:[m.jsxs("div",{className:he("flex items-center justify-between px-4 py-4 backdrop-blur-sm sm:rounded-t-2xl",_?"bg-gray-700/80":"bg-gray-200/80"),children:[m.jsx("button",{onClick:()=>{de(),e()},className:he("text-lg",_?"text-white":"text-black"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:"Cancelar"}),m.jsx("h2",{className:he("text-lg font-semibold",_?"text-white":"text-black"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:r?"Editar":"Nuevo"}),m.jsx("button",{onClick:re,disabled:!s.trim()&&!L,className:he("w-10 h-10 rounded-full flex items-center justify-center transition-colors",s.trim()||L?_?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800":_?"bg-gray-600 text-gray-400":"bg-gray-200 text-gray-400"),children:r?m.jsx(lj,{size:18}):m.jsx(qo,{size:18})})]}),m.jsxs("div",{className:he("flex-1 overflow-y-auto",_?"bg-gray-800":"bg-white"),children:[m.jsx("div",{className:he("px-4 py-4 border-b",_?"border-gray-600":"border-gray-200"),children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>U(!1),className:he("flex-1 py-3 px-4 rounded-lg font-semibold transition-all",L?_?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200":_?"bg-white text-black":"bg-black text-white"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(qo,{size:18}),m.jsx("span",{children:"Manual"})]})}),m.jsx("button",{onClick:()=>U(!0),className:he("flex-1 py-3 px-4 rounded-lg font-semibold transition-all",L?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":_?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(gw,{size:18}),m.jsx("span",{children:"Con STEEB IA"})]})})]})}),L?m.jsxs("div",{className:"px-4 py-4 space-y-4",children:[m.jsxs("div",{className:he("p-4 rounded-lg border",_?"bg-gray-700/50 border-purple-500/30":"bg-purple-50 border-purple-200"),children:[m.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[m.jsx("div",{className:he("w-10 h-10 rounded-full flex items-center justify-center",_?"bg-purple-600":"bg-purple-500"),children:m.jsx(RY,{className:"text-white",size:20})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:he("font-semibold mb-1",_?"text-white":"text-gray-900"),children:"Hola! Soy STEEB"}),m.jsx("p",{className:he("text-sm",_?"text-gray-300":"text-gray-600"),children:"Cuntame qu necesitas hacer y crear tareas especficas para ti con subtareas y prioridades."})]})]}),m.jsx("textarea",{value:j,onChange:ye=>K(ye.target.value),placeholder:"Ejemplo: 'Necesito preparar una presentacin para el lunes sobre ventas del trimestre'",className:he("w-full p-3 rounded-lg border resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",_?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),rows:4,disabled:Q}),m.jsx("button",{onClick:se,disabled:!j.trim()||Q,className:he("w-full mt-3 py-3 px-4 rounded-lg font-semibold transition-all disabled:opacity-50","bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white"),children:Q?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),m.jsx("span",{children:"STEEB est creando tus tareas..."})]}):m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(bK,{size:18}),m.jsx("span",{children:"Generar tareas con IA"})]})})]}),m.jsx("div",{className:he("text-center text-xs",_?"text-gray-400":"text-gray-500"),children:" Tip: S especfico sobre fechas, prioridades y contexto para mejores resultados"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:he("px-4 py-4 border-b",_?"border-gray-600":"border-gray-200"),children:[m.jsx("button",{onClick:ae,disabled:I,className:he("w-full font-semibold py-3 px-4 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200 steve-shadow disabled:opacity-50 disabled:transform-none",_?"bg-white text-black hover:bg-gray-200":"bg-black hover:bg-gray-800 text-white"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:m.jsx("div",{className:"flex items-center justify-center space-x-2",children:I?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),m.jsx("span",{children:"Aadiendo..."})]}):m.jsx(m.Fragment,{children:m.jsx("span",{children:"Steve, aade mis tareas diarias!"})})})}),!I&&m.jsx("div",{className:"text-center mt-2",children:m.jsxs("p",{className:he("text-sm",_?"text-gray-300":"text-gray-600"),children:[V.length," tareas diarias inteligentes"]})})]}),m.jsx("div",{className:he("px-4 py-4 border-b",_?"border-gray-600":"border-gray-200"),children:m.jsx("input",{type:"text",value:s,onChange:ye=>i(ye.target.value),placeholder:"Ttulo",className:he("w-full text-xl focus:outline-none bg-transparent cursor-visible",_?"text-white placeholder-gray-400":"text-black placeholder-gray-400"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},autoFocus:!0})}),m.jsx("div",{className:he("px-4 py-4 border-b",_?"border-gray-600":"border-gray-200"),children:m.jsx("input",{type:"text",value:a,onChange:ye=>o(ye.target.value),placeholder:"Notas",className:he("w-full text-sm focus:outline-none bg-transparent cursor-visible",_?"text-white placeholder-gray-400":"text-black placeholder-gray-400"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"}})}),m.jsxs("div",{className:he("px-4 py-4 border-b",_?"border-gray-600":"border-gray-200"),children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:he("text-lg",_?"text-gray-300":"text-gray-600"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:"Subtareas"}),m.jsx("button",{type:"button",onClick:Ne,className:he("w-8 h-8 rounded-full flex items-center justify-center transition-colors",_?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-100 hover:bg-gray-200 text-black"),children:m.jsx(qo,{size:16})})]}),m.jsx("div",{className:"space-y-3",children:P.map((ye,Ye)=>m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:he("text-lg","text-gray-400"),children:""}),m.jsx("input",{type:"text",value:ye,onChange:G=>Oe(Ye,G.target.value),placeholder:"Nueva subtarea...",className:he("flex-1 text-lg focus:outline-none bg-transparent py-1 cursor-visible",_?"text-white placeholder-gray-400":"text-black placeholder-gray-400"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"}}),P.length>1&&m.jsx("button",{type:"button",onClick:()=>nt(Ye),className:"text-red-500 text-lg px-2",children:""})]},Ye))})]}),m.jsx("div",{className:he("px-4 py-4 border-b",_?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:he("text-sm uppercase tracking-wide",_?"text-gray-300":"text-gray-600"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:"Lista"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("div",{className:he("w-3 h-3 rounded-full",_?"bg-white":"bg-black")}),m.jsx("span",{className:he("text-base",_?"text-white":"text-black"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:l})]}),m.jsx(dS,{size:16,className:he("text-gray-400")})]})]})}),m.jsxs("div",{className:he("px-4 py-4",_?"bg-gray-800":"bg-white"),children:[m.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsx("span",{className:he("text-base",_?"text-white":"text-black"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:"Fecha"}),m.jsx("button",{onClick:()=>{b(!S),!S&&!u&&d(new Date)},className:he("w-[51px] h-[31px] rounded-full transition-all relative",S?_?"bg-white":"bg-black":_?"bg-gray-600":"bg-gray-300"),children:m.jsx("div",{className:he("absolute w-[27px] h-[27px] rounded-full shadow-sm transition-transform top-[2px]",S?"translate-x-[22px]":"translate-x-[2px]",S&&_?"bg-black":"bg-white")})})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsx("span",{className:he("text-base",_?"text-white":"text-black"),style:{fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif"},children:"Hora"}),m.jsx("button",{onClick:()=>{if(v(!T),!T&&!h){const ye=new Date;p(`${ye.getHours().toString().padStart(2,"0")}:${ye.getMinutes().toString().padStart(2,"0")}`)}},className:he("w-[51px] h-[31px] rounded-full transition-all relative",T?_?"bg-white":"bg-black":_?"bg-gray-600":"bg-gray-300"),children:m.jsx("div",{className:he("absolute w-[27px] h-[27px] rounded-full shadow-sm transition-transform top-[2px]",T?"translate-x-[22px]":"translate-x-[2px]",T&&_?"bg-black":"bg-white")})})]})]}),S&&u&&m.jsx("div",{className:"mt-3",children:m.jsxs(Lse,{children:[m.jsx(Vse,{asChild:!0,children:m.jsxs("button",{className:he("flex items-center space-x-2 text-base font-medium",_?"text-white":"text-black"),children:[m.jsx(uS,{size:20}),m.jsx("span",{children:pL(u,"dd/MM/yyyy")})]})}),m.jsx(ZL,{className:"w-auto p-0",children:m.jsx(RL,{mode:"single",selected:u,onSelect:ye=>d(ye),initialFocus:!0})})]})}),T&&m.jsx("div",{className:"mt-3",children:m.jsx("input",{type:"time",value:h,onChange:ye=>p(ye.target.value),className:he("text-base font-medium focus:outline-none bg-transparent",_?"text-white":"text-black")})})]})]})]})]})}):null},uie=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[a,o]=y.useState(null),{toast:l}=dE(),{playTaskCompleteSound:c,triggerVibration:u}=Gz(),[d,h]=y.useState(!1),{currentTheme:p}=Cr();y.useEffect(()=>{const $=()=>{const J=document.documentElement.classList.contains("dark"),xe=document.documentElement.classList.contains("shiny"),we=document.querySelector(".tareas-header"),Ke=document.querySelector(".tareas-header h1");we&&(J?(we.style.setProperty("background-color","#ffffff","important"),we.style.setProperty("background","#ffffff","important"),we.style.setProperty("color","#000000","important")):(we.style.setProperty("background-color","#000000","important"),we.style.setProperty("background","#000000","important"),we.style.setProperty("color","#ffffff","important"))),Ke&&(J?(Ke.style.setProperty("color","#000000","important"),Ke.style.setProperty("-webkit-text-fill-color","#000000","important"),Ke.style.background="none",Ke.style.animation="none"):(Ke.style.setProperty("color","#ffffff","important"),Ke.style.setProperty("-webkit-text-fill-color","#ffffff","important"),Ke.style.background="none",Ke.style.animation="none"))};$();const le=new MutationObserver($);return le.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{le.disconnect()}},[p]);const S=80,b=160,[T,v]=y.useState({}),[g,x]=y.useState({}),D=y.useRef(null),C=y.useRef(0),P=600,A=8,E=y.useRef(null),_=y.useRef(!1),R=()=>{E.current&&(clearTimeout(E.current),E.current=null)},N=$=>le=>{var J,xe;(xe=(J=le.currentTarget).setPointerCapture)==null||xe.call(J,le.pointerId),D.current=$,C.current=le.clientX,document.body.style.userSelect="none",_.current=!1,R(),E.current=window.setTimeout(()=>{_.current=!0;const we=U.find(Ke=>Ke.id===$)||null;we&&(o(we),e(!0))},P)},I=$=>le=>{if(D.current!==$)return;const J=C.current-le.clientX;if(Math.abs(J)>A&&R(),J>0){le.preventDefault();const xe=Math.min(J,b);v(we=>({...we,[$]:xe}))}else if(J<0){const xe=Math.max(0,T[$]+J);v(we=>({...we,[$]:xe}))}},M=$=>{(T[$]||0)>S?(x(J=>({...J,[$]:!0})),setTimeout(()=>{be($),v(J=>{if(!($ in J))return J;const xe={...J};return delete xe[$],xe}),x(J=>({...J,[$]:!1}))},300)):setTimeout(()=>{v(J=>({...J,[$]:0}))},50),D.current=null,document.body.style.userSelect=""},V=$=>le=>{le.stopPropagation(),R(),M($)},z=$=>($==null?void 0:$.type)??"extra",L=($,le)=>{if(!$||!$.id||!$.title)return console.warn(" Tarea invlida en renderSwipeRow:",$),null;const J=g[$.id]||!1;return m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`absolute inset-0 rounded-lg bg-white dark:bg-black flex items-center justify-end pr-4 transition-all duration-300 ease-out ${(T[$.id]||0)>10?"opacity-100":"opacity-0"}`,children:m.jsx($c,{className:"w-5 h-5 text-black dark:text-white"})}),m.jsxs("div",{className:`flex items-center gap-3 px-1.5 py-2 rounded-lg transition-all duration-600 ${J?"bg-black dark:bg-white animate-pulse":""}`,children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",style:{transform:`translate3d(-${T[$.id]||0}px,0,0)`,transition:D.current===$.id?"none":"transform 300ms cubic-bezier(0.4, 0, 0.2, 1)",touchAction:"pan-y",userSelect:(T[$.id]||0)>0?"none":void 0,willChange:"transform"},onPointerDown:N($.id),onPointerMove:I($.id),onPointerUp:V($.id),onPointerCancel:V($.id),onContextMenu:xe=>xe.preventDefault(),children:[It(z($),le),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:`task-title text-[18px] ${J?"text-white dark:text-white":$.completed?"line-through text-gray-500":"text-black font-medium"}`,children:$.title}),$.scheduledTime&&m.jsx("p",{className:`text-sm ${J?"text-white dark:text-white":"text-gray-600"}`,children:$.scheduledTime})]})]}),m.jsx("button",{onClick:()=>G($.id),className:`task-checkbox-button w-6 h-6 rounded-full border-2 cursor-pointer flex items-center justify-center ${$.completed?"completed !bg-black !border-black dark:!bg-transparent dark:!border-white":"!bg-white !border-black dark:border-white"}`,style:{minWidth:"24px",minHeight:"24px",zIndex:100}})]})]},$.id)},{tasks:U,setTasks:j,isLoading:K,addTask:Q,updateTask:pe,deleteTask:ae,toggleTask:re,toggleSubtask:de}=_r(),{isServiceWorkerReady:se,triggerBackup:Ne}=dY();fY(U);const{showReminder:Oe,yesterdayDate:nt,skipReminder:ye,markReminderShown:Ye}=hY(U);y.useEffect(()=>{Nl.initialize().then($=>{})},[]),y.useEffect(()=>{const $=setTimeout(()=>{if(U.filter(J=>!J.title||!J.title.trim()||!J.id).length>0){const J=U.filter(xe=>xe.title&&xe.title.trim()&&xe.id);J.length!==U.length&&j(J)}},500);return()=>clearTimeout($)},[U.length]),y.useEffect(()=>{const $=localStorage.getItem("steeb-selected-date"),le=localStorage.getItem("steeb-open-add-modal");($||le)&&(localStorage.removeItem("steeb-selected-date"),localStorage.removeItem("steeb-open-add-modal"),e(!0))},[]),y.useEffect(()=>{if(U.length>0&&se){const $=setTimeout(()=>{Ne().catch(le=>{console.warn(" Auto-backup por cambio de tareas fall:",le)})},2e3);return()=>clearTimeout($)}},[U.length,se,Ne]);const G=$=>{const le=U.find(xe=>xe.id===$);if(le&&le.subtasks&&le.subtasks.length>0&&!le.completed&&!le.subtasks.every(we=>we.completed)){l({title:"Complete subtasks first",description:"You need to complete all subtasks before completing the main task."});return}const J=U.map(xe=>{if(xe.id!==$)return xe;const we=!xe.completed;let Ke;if(we){const Nn=new Date().toISOString().split("T")[0];xe.scheduledDate&&xe.scheduledDate<Nn?Ke=new Date(`${xe.scheduledDate}T12:00:00`).toISOString():Ke=new Date().toISOString()}return{...xe,completed:we,completedDate:Ke}});j(J),le&&!le.completed&&(c(),u())},oe=($,le)=>{const J=U.map(we=>{if(we.id===$&&we.subtasks){const Ke=we.subtasks.map(me=>me.id===le?{...me,completed:!me.completed}:me),Nn=Ke.every(me=>me.completed);return{...we,subtasks:Ke,completed:Nn}}return we});j(J);const xe=U.find(we=>we.id===$);if(xe&&xe.subtasks){const we=xe.subtasks.find(me=>me.id===le),Nn=xe.subtasks.filter(me=>me.id!==le).every(me=>me.completed);we&&!we.completed&&Nn&&(c(),u())}},be=$=>{try{if(!U.find(J=>J.id===$)){console.warn(" Tarea no encontrada para eliminar:",$);return}u(),ae($),l({title:"Tu tarea se ha eliminado correctamente"})}catch(le){console.error(" Error al eliminar tarea:",le),l({title:"Error",description:"No se pudo eliminar la tarea. Intntalo de nuevo.",variant:"destructive"})}},je=($,le,J,xe,we,Ke,Nn,me,tt)=>{if(!$.trim()){l({title:"Error",description:"El ttulo de la tarea no puede estar vaco.",variant:"destructive"});return}if(a){const Ee=(a.tags||[]).filter(Fe=>Fe!=="principal"),Re=Nn?[...Ee,"principal"]:Ee,pn={...a,title:$.trim(),type:le,subgroup:tt,subtasks:J,scheduledDate:xe,scheduledTime:we,notes:Ke==null?void 0:Ke.trim(),tags:Re,recurrence:me,updatedAt:new Date().toISOString()};pe(a.id,pn).catch(console.error),l({title:"Tarea actualizada!",description:"Los cambios han sido guardados."}),o(null)}else{const Ee={title:$.trim(),type:le,subgroup:tt,status:"pending",completed:!1,subtasks:J,scheduledDate:xe,scheduledTime:we,notes:Ke==null?void 0:Ke.trim(),tags:Nn?["principal"]:[],recurrence:me};Q(Ee).catch(Re=>{console.error(" Index.tsx: Error al crear tarea:",Re)}),l({title:"New task added!",description:"Your task has been added to the list."})}},wt=$=>{o($),i(!1),e(!0)},[rt,mt]=y.useState(()=>{const $=document.documentElement.classList.contains("shiny"),le=document.documentElement.classList.contains("dark");return{isShiny:$,isDark:le}}),xt=rt.isDark?"#ffffff":"#000000",et=rt.isDark?"#000000":"#ffffff";y.useEffect(()=>{const $=()=>{const J=document.documentElement.classList.contains("shiny"),xe=document.documentElement.classList.contains("dark");mt({isShiny:J,isDark:xe})},le=new MutationObserver($);return le.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>le.disconnect()},[]);const It=($,le)=>{let J;switch(rt.isShiny?J=le??"#ffffff":rt.isDark?J="#ffffff":J="#000000",$){case"productividad":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"square",className:"w-6 h-6",title:"Trabajo",color:J})});case"creatividad":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"triangle",className:"w-6 h-6",title:"Creatividad",color:J})});case"salud":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"heart",className:"w-6 h-6",title:"Salud",color:J})});case"organizacion":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"diamond",className:"w-6 h-6",title:"Organizacin",color:J})});case"social":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"triangle",className:"w-6 h-6",title:"Social",color:J})});case"aprendizaje":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"triangle",className:"w-6 h-6",title:"Aprendizaje",color:J})});case"entretenimiento":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"triangle",className:"w-6 h-6",title:"Entretenimiento",color:J})});case"extra":return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx(Ln,{variant:"diamond",className:"w-6 h-6",title:"Extra",color:J})});default:return m.jsx("div",{className:"task-shape-wrapper task-shine mr-1",style:{color:J},children:m.jsx("div",{className:"w-6 h-6 border border-black"})})}},Le=new Date().toISOString().split("T")[0],[te,Ce]=y.useState(Le);y.useMemo(()=>new Date(te),[te]);const fe=$=>{const le=new Date($),J=(le.getDay()+6)%7;return le.setDate(le.getDate()-J),le.setHours(0,0,0,0),le},ne=y.useMemo(()=>fe(new Date),[]);y.useMemo(()=>{const $=["L","M","M","J","V","S","D"];return Array.from({length:7},(le,J)=>{const xe=new Date(ne);xe.setDate(ne.getDate()+J);const we=xe.toISOString().split("T")[0];return{date:xe,iso:we,letter:$[J]}})},[ne]);const pt=y.useMemo(()=>U.filter($=>!$.title||!$.title.trim()?(console.warn(" Tarea con ttulo vaco encontrada:",$.id),!1):$.id?$.scheduledDate?$.scheduledDate<=te:te===Le:(console.warn(" Tarea sin ID encontrada:",$),!1)),[U,te,Le]),mn=pt.filter($=>!$.completed),lt=pt.filter($=>$.completed),Et=lt.filter($=>$.completedDate?$.completedDate.split("T")[0]===te:!1),ct=lt.filter($=>!($.completedDate&&$.completedDate.split("T")[0]===te));mn.filter($=>te===Le?!$.scheduledDate||$.scheduledDate===te:!!$.scheduledDate&&$.scheduledDate===te);const gt=mn.filter($=>$.scheduledDate&&$.scheduledDate<te);return["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"][new Date().getDay()],uY(),m.jsxs("div",{className:"h-screen pb-6 relative bg-white dark:bg-black m-0 p-0",style:{fontFamily:"Be Vietnam Pro, system-ui, -apple-system, sans-serif",marginTop:"0",paddingTop:"0"},children:[m.jsx("div",{className:"pb-0.5 fixed top-0 left-0 right-0 z-50",style:{marginTop:"0",paddingTop:"0"},children:m.jsx("div",{className:"tareas-header flex items-center justify-center py-0 relative w-screen steeb-header-force-white",style:{backgroundColor:xt,background:xt,color:et,marginTop:0,paddingTop:0,borderRadius:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,clipPath:"none",zIndex:50},children:m.jsxs("div",{className:"flex items-center justify-center flex-1 px-4 w-full steeb-force-white-child",style:{backgroundColor:xt,background:xt},children:[m.jsx("div",{className:"w-32 h-32 mr-1 flex items-center justify-center flex-shrink-0 steeb-force-white-child",style:{backgroundColor:`${xt} !important`,background:`${xt} !important`},children:rt.isShiny?m.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-3 border-2 border-white rounded-[2.2rem] z-0",style:{background:"linear-gradient(90deg, #ff0000, #ff8000, #ffff00, #80ff00, #00ff00, #00ff80, #00ffff, #0080ff, #0000ff, #8000ff, #ff00ff, #ff00cc, #ff004c, #ff0000)",backgroundSize:"200% 100%",animation:"shinyShiftHorizontal 3s linear infinite"}}),m.jsx("img",{src:"/steve-jobs-shiny.png",alt:"Steeb",className:"w-full h-full object-contain relative z-10 scale-110",style:{filter:"none",opacity:1,backgroundColor:"transparent"}})]}):m.jsx("img",{src:"/te-observo.png",alt:"Steeb",className:"w-full h-full object-contain",style:{filter:"none",opacity:1,backgroundColor:"transparent"}})}),m.jsx("h1",{className:"text-3xl font-normal tracking-wide text-center steeb-main-title",style:{color:`${et} !important`,fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontWeight:"700",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",width:"100%",height:"100%",paddingTop:"8px",paddingLeft:"16px"},children:"STEEB"}),m.jsx("div",{className:"ml-auto flex-shrink-0",children:m.jsx(Cee,{})})]})})}),m.jsxs("div",{className:"relative z-10 mt-0.5 pt-0",children:[m.jsxs("div",{className:"px-4 mt-3",children:[gt.length>0&&m.jsxs("div",{className:"mb-3",children:[m.jsx("h3",{className:"text-[11px] uppercase tracking-widest opacity-60 mb-1",children:"Vencidas"}),gt.map($=>L($,"#FF4D4F"))]}),(Et.length>0||ct.length>0)&&m.jsx("div",{className:"flex justify-start mb-4",children:m.jsx("button",{onClick:()=>h(!d),className:"text-gray-500 bg-transparent hover:bg-transparent p-0 border-none transition-colors",children:d?m.jsx(fS,{className:"w-5 h-5"}):m.jsx(hS,{className:"w-5 h-5"})})}),d&&m.jsxs("div",{className:"mt-2",children:[Et.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-[11px] uppercase tracking-widest opacity-60 mb-1",children:"Completadas hoy"}),Et.map($=>L($))]}),ct.length>0&&m.jsxs("div",{className:"mt-2",children:[m.jsx("h4",{className:"text-[11px] uppercase tracking-widest opacity-60 mb-1",children:"Completadas antes"}),ct.map($=>L($))]})]})]}),m.jsx("div",{className:"fixed bottom-24 right-6 opacity-0 pointer-events-none",title:"El progreso ahora se abre escribiendo 'progreso' en el chat",children:m.jsx(NK,{className:"w-6 h-6 text-gray-400"})}),m.jsx(cie,{isOpen:t,onClose:()=>e(!1),onAddTask:je,editingTask:a||void 0}),m.jsx(ZK,{task:a,isOpen:s,onClose:()=>{i(!1),o(null)},onEdit:wt,onToggle:G,onToggleSubtask:oe}),Oe&&nt&&m.jsx(Aee,{open:Oe,onOpenChange:$=>!$&&ye(),tasks:U,yesterdayDate:nt,onMarkCompleted:($,le)=>{$.forEach(J=>{const xe=U.find(we=>we.id===J);if(xe){const we=new Date(le).toISOString();pe(J,{...xe,completed:!0,completedDate:we})}}),Ye()}}),n&&m.jsx(JK,{isOpen:!0,onClose:()=>r(!1),onAddTask:je})]}),m.jsx("div",{className:"fixed top-32 left-0 right-0 bottom-0 z-40",children:m.jsx(QK,{})})]})},dt={calendar:{defaultView:"month",startWeekOn:"monday",timeFormat:"24h",firstHour:6,lastHour:22,showWeekNumbers:!1,showCompletedTasks:!0},notifications:{enabled:!0,sound:!0,vibration:!0,dailyReminder:!0,taskReminders:!0,deadlineAlerts:!0,completionCelebration:!0},theme:{mode:"auto",accentColor:"#3b82f6",fontSize:"medium",reduceMotion:!1},language:"es",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,backupEnabled:!0,analyticsEnabled:!0},Sv="stebe-app-settings",die=()=>{const[t,e]=y.useState(()=>{try{const E=localStorage.getItem(Sv);if(E){const _=JSON.parse(E);return{...dt,..._,calendar:{...dt.calendar,..._.calendar},notifications:{...dt.notifications,..._.notifications},theme:{...dt.theme,..._.theme}}}}catch(E){console.warn("Failed to load settings from localStorage:",E)}return dt}),[n,r]=y.useState(!1),[s,i]=y.useState(!1),a=y.useCallback(async E=>{r(!0);try{if(localStorage.setItem(Sv,JSON.stringify(E)),"indexedDB"in window){const _=indexedDB.open("StebeSettingsDB",1);_.onupgradeneeded=R=>{const N=R.target.result;N.objectStoreNames.contains("settings")||N.createObjectStore("settings",{keyPath:"id"})},_.onsuccess=()=>{_.result.transaction(["settings"],"readwrite").objectStore("settings").put({id:"app-settings",settings:E,timestamp:new Date().toISOString()})}}e(E),i(!1)}catch(_){throw console.error(" Failed to save settings:",_),_}finally{r(!1)}},[]),o=y.useCallback(async E=>{const _={...t,calendar:{...t.calendar,...E}};await a(_)},[t,a]),l=y.useCallback(async E=>{const _={...t,notifications:{...t.notifications,...E}};await a(_)},[t,a]),c=y.useCallback(async E=>{const _={...t,theme:{...t.theme,...E}};await a(_)},[t,a]),u=y.useCallback(async E=>{const _={...t,...E};await a(_)},[t,a]),d=y.useCallback(async()=>{await a(dt)},[a]),h=y.useCallback(async()=>{await o(dt.calendar)},[o]),p=y.useCallback(async()=>{await l(dt.notifications)},[l]),S=y.useCallback(async()=>{await c(dt.theme)},[c]),b=y.useCallback(()=>{const E=JSON.stringify(t,null,2),_=new Blob([E],{type:"application/json"}),R=URL.createObjectURL(_),N=document.createElement("a");N.href=R,N.download=`stebe-settings-${new Date().toISOString().split("T")[0]}.json`,N.click(),URL.revokeObjectURL(R)},[t]),T=y.useCallback(async E=>{try{const _=await E.text(),R=JSON.parse(_);if(typeof R!="object"||!R.calendar||!R.notifications||!R.theme)throw new Error("Invalid settings file format");const N={...dt,...R,calendar:{...dt.calendar,...R.calendar},notifications:{...dt.notifications,...R.notifications},theme:{...dt.theme,...R.theme}};return await a(N),!0}catch(_){return console.error("Failed to import settings:",_),!1}},[a]);y.useEffect(()=>{const E=_=>{if(_.key===Sv&&_.newValue)try{const R=JSON.parse(_.newValue);e(R)}catch(R){console.warn("Failed to sync settings from another tab:",R)}};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[]),y.useEffect(()=>{if((()=>{const _=document.documentElement,R={small:"14px",medium:"16px",large:"18px"};_.style.setProperty("--base-font-size",R[t.theme.fontSize]),t.theme.reduceMotion?(_.style.setProperty("--animation-duration","0s"),_.style.setProperty("--transition-duration","0s")):(_.style.removeProperty("--animation-duration"),_.style.removeProperty("--transition-duration")),t.theme.accentColor&&!t.theme.accentColor.startsWith("hsl")&&_.style.setProperty("--user-accent-color",t.theme.accentColor)})(),t.theme.mode==="auto"){const _=window.matchMedia("(prefers-color-scheme: dark)"),R=()=>{window.dispatchEvent(new CustomEvent("system-theme-change"))};return _.addEventListener("change",R),()=>_.removeEventListener("change",R)}},[t.theme]),y.useEffect(()=>{window.__STEBE_TIMEZONE__=t.timezone},[t.timezone]);const v=y.useCallback(E=>{e(_=>({..._,...E})),i(!0)},[]);y.useEffect(()=>{if(s){const E=setTimeout(()=>{a(t)},2e3);return()=>clearTimeout(E)}},[s,t,a]);const g=y.useCallback(()=>t.theme.mode==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t.theme.mode,[t.theme.mode]),x=y.useCallback(E=>{var R;const _=[];if(E.calendar){const{firstHour:N,lastHour:I}=E.calendar;N!==void 0&&(N<0||N>23)&&_.push("First hour must be between 0 and 23"),I!==void 0&&(I<0||I>23)&&_.push("Last hour must be between 0 and 23"),N!==void 0&&I!==void 0&&N>=I&&_.push("First hour must be before last hour")}return(R=E.theme)!=null&&R.accentColor&&(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(E.theme.accentColor)||_.push("Accent color must be a valid hex color")),_},[]),D=y.useCallback(()=>({theme:`${g()} mode`,notifications:t.notifications.enabled?"Enabled":"Disabled",calendar:`${t.calendar.defaultView} view, ${t.calendar.timeFormat} time`,language:t.language.toUpperCase(),timezone:t.timezone,backup:t.backupEnabled?"Enabled":"Disabled",analytics:t.analyticsEnabled?"Enabled":"Disabled"}),[t,g]),C=y.useCallback(()=>JSON.stringify(t)===JSON.stringify(dt),[t]),P=y.useCallback(E=>E.split(".").reduce((_,R)=>_==null?void 0:_[R],t),[t]),A=y.useCallback(async(E,_)=>{const R=E.split("."),N={...t};let I=N;for(let M=0;M<R.length-1;M++)I[R[M]]={...I[R[M]]},I=I[R[M]];I[R[R.length-1]]=_,await a(N)},[t,a]);return{settings:t,isLoading:n,hasUnsavedChanges:s,saveSettings:a,updateCalendarSettings:o,updateNotificationSettings:l,updateThemeSettings:c,updateGeneralSettings:u,updateSettingsLocally:v,resetSettings:d,resetCalendarSettings:h,resetNotificationSettings:p,resetThemeSettings:S,exportSettings:b,importSettings:T,getEffectiveTheme:g,validateSettings:x,getSettingsSummary:D,isAtDefaults:C,getSetting:P,setSetting:A,defaultSettings:dt}};({...dt,calendar:{...dt.calendar},notifications:{...dt.notifications},theme:{...dt.theme}},{...dt,calendar:{...dt.calendar},notifications:{...dt.notifications},theme:{...dt.theme}}),{...dt,calendar:{...dt.calendar},theme:{...dt.theme}},{...dt,theme:{...dt.theme},notifications:{...dt.notifications}};const Tv="stebe-user-profile",iV=()=>{const[t,e]=y.useState({name:"",nickname:"",isSetup:!1});return y.useEffect(()=>{const s=localStorage.getItem(Tv);if(s)try{const i=JSON.parse(s);e(i)}catch(i){console.error("Error parsing user profile:",i)}},[]),{profile:t,saveProfile:(s,i)=>{const a={name:s,nickname:i,isSetup:!0};e(a),localStorage.setItem(Tv,JSON.stringify(a))},clearProfile:()=>{e({name:"",nickname:"",isSetup:!1}),localStorage.removeItem(Tv)},isSetup:t.isSetup,name:t.name,nickname:t.nickname}},aV=(t={})=>{const[e]=y.useState(!1),[n]=y.useState(0);return{SwipeHandler:({children:s})=>s,isSwiping:e,swipeProgress:n}},oV=()=>null,fie=wj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _v({className:t,variant:e,...n}){return m.jsx("div",{className:he(fie({variant:e}),t),...n})}const lV=y.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));lV.displayName="Textarea";function hie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Fw=1;class mie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Fw++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,a;const o=s.then(async c=>{if(a=["resolve",c],Z.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(gie(c)&&!c.ok){i=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,S=typeof d=="object"&&!Z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...S})}else if(c instanceof Error){i=!1;const d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description,S=typeof d=="object"&&!Z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...S})}else if(n.success!==void 0){i=!1;const d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description,S=typeof d=="object"&&!Z.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:h,...S})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){i=!1;const u=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,p=typeof u=="object"&&!Z.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:d,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Fw++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nr=new mie,pie=(t,e)=>{const n=(e==null?void 0:e.id)||Fw++;return Nr.addToast({title:t,...e,id:n}),n},gie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yie=pie,vie=()=>Nr.toasts,bie=()=>Nr.getActiveToasts(),xl=Object.assign(yie,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:vie,getToasts:bie});hie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const wie=()=>{const{tasks:t,loadTasksFromLocal:e,exportTasksAsText:n,getTasksAsText:r,clearLocalStorage:s}=_r(),[i,a]=y.useState(!1),[o,l]=y.useState(""),c=()=>{try{e(),xl.success("Tareas cargadas desde almacenamiento local")}catch{xl.error("Error al cargar tareas locales")}},u=()=>{try{n(),xl.success("Tareas exportadas como archivo de texto")}catch{xl.error("Error al exportar tareas")}},d=()=>{if(!i){const T=r();l(T)}a(!i)},h=()=>{if(window.confirm("Ests seguro de que quieres limpiar el almacenamiento local? Esta accin no se puede deshacer."))try{s(),l(""),a(!1),xl.success("Almacenamiento local limpiado")}catch{xl.error("Error al limpiar almacenamiento local")}},p=t.length,S=t.filter(T=>T.completed).length,b=p-S;return m.jsxs(gS,{className:"w-full max-w-4xl mx-auto",children:[m.jsxs(xj,{children:[m.jsxs(Ej,{className:"flex items-center gap-2",children:[m.jsx(Bk,{className:"h-5 w-5"}),"Almacenamiento Local"]}),m.jsx(Sj,{children:"Gestiona tus tareas de forma local e instantnea. Las tareas se guardan automticamente en texto plano."})]}),m.jsxs(Tj,{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p}),m.jsx("div",{className:"text-sm text-blue-800",children:"Total de Tareas"})]}),m.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-green-600",children:S}),m.jsx("div",{className:"text-sm text-green-800",children:"Completadas"})]}),m.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-orange-600",children:b}),m.jsx("div",{className:"text-sm text-orange-800",children:"Pendientes"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[m.jsxs(Kn,{onClick:c,variant:"outline",className:"flex items-center gap-2",children:[m.jsx(gK,{className:"h-4 w-4"}),"Cargar Local"]}),m.jsxs(Kn,{onClick:u,variant:"outline",className:"flex items-center gap-2",children:[m.jsx(WY,{className:"h-4 w-4"}),"Exportar TXT"]}),m.jsxs(Kn,{onClick:d,variant:"outline",className:"flex items-center gap-2",children:[i?m.jsx(fS,{className:"h-4 w-4"}):m.jsx(hS,{className:"h-4 w-4"}),i?"Ocultar":"Ver Texto"]}),m.jsxs(Kn,{onClick:h,variant:"destructive",className:"flex items-center gap-2",children:[m.jsx($c,{className:"h-4 w-4"}),"Limpiar"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs(_v,{variant:"secondary",className:"flex items-center gap-1",children:[m.jsx(Fk,{className:"h-3 w-3"}),"Creacin Instantnea"]}),m.jsxs(_v,{variant:"secondary",className:"flex items-center gap-1",children:[m.jsx(Bk,{className:"h-3 w-3"}),"Almacenamiento Local"]}),m.jsx(_v,{variant:"outline",children:"Sin Dependencia de Internet"})]}),i&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[m.jsx(Fk,{className:"h-4 w-4"}),"Contenido en Texto Plano"]}),m.jsx(lV,{value:o,readOnly:!0,className:"min-h-[300px] font-mono text-sm",placeholder:"No hay contenido de tareas disponible"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Este es el contenido que se guarda localmente en formato de texto plano."})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold mb-2",children:" Funcionamiento Optimizado:"}),m.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Creacin Instantnea:"})," Las tareas aparecen inmediatamente en la UI"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Guardado Local:"})," Se almacenan automticamente en texto plano"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Sincronizacin en Segundo Plano:"})," Firebase se actualiza sin bloquear la UI"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Respaldo Automtico:"})," Siempre tienes una copia local de tus tareas"]}),m.jsxs("li",{children:[" ",m.jsx("strong",{children:"Exportacin:"})," Puedes descargar tus tareas como archivo .txt"]})]})]})]})]})},xie=({isOpen:t,onClose:e})=>{const{name:n,nickname:r,saveProfile:s}=iV(),{isShiny:i}=Cr(),[a,o]=y.useState({name:n||"",nickname:r||""}),[l,c]=y.useState(!1);y.useEffect(()=>{o({name:n||"",nickname:r||""})},[n,r,t]);const u=async h=>{if(h.preventDefault(),!a.name.trim()){alert("El nombre es obligatorio");return}c(!0);try{s(a.name.trim(),a.nickname.trim()),e()}catch(p){console.error("Error al guardar perfil:",p),alert("Error al guardar el perfil")}finally{c(!1)}},d=(h,p)=>{o(S=>({...S,[h]:p}))};return m.jsx(kj,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:e}),m.jsx(Un.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:`w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-2xl ${i?"border-2 border-white/20 bg-gradient-to-br from-purple-900/20 to-blue-900/20 backdrop-blur-sm":""}`,children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${i?"bg-white/10":"bg-gray-100 dark:bg-gray-800"}`,children:m.jsx(zk,{className:`w-5 h-5 ${i?"text-white":"text-gray-700 dark:text-gray-300"}`})}),m.jsx("h2",{className:`text-xl font-semibold ${i?"text-white":"text-gray-900 dark:text-white"}`,children:"Editar Perfil"})]}),m.jsx("button",{onClick:e,className:`p-2 rounded-lg transition-colors ${i?"hover:bg-white/10 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:m.jsx(ch,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-white/90":"text-gray-700 dark:text-gray-300"}`,children:"Nombre completo *"}),m.jsxs("div",{className:"relative",children:[m.jsx(yw,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${i?"text-white/60":"text-gray-400"}`}),m.jsx("input",{type:"text",value:a.name,onChange:h=>d("name",h.target.value),placeholder:"Tu nombre completo",className:`w-full pl-10 pr-4 py-3 rounded-lg border transition-colors ${i?"bg-white/10 border-white/20 text-white placeholder-white/60 focus:border-white/40 focus:bg-white/15":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-gray-400 dark:focus:border-gray-500 focus:ring-2 focus:ring-gray-500/20"}`,required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-white/90":"text-gray-700 dark:text-gray-300"}`,children:"Apodo (opcional)"}),m.jsxs("div",{className:"relative",children:[m.jsx(zk,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${i?"text-white/60":"text-gray-400"}`}),m.jsx("input",{type:"text",value:a.nickname,onChange:h=>d("nickname",h.target.value),placeholder:"Cmo te gusta que te llamen?",className:`w-full pl-10 pr-4 py-3 rounded-lg border transition-colors ${i?"bg-white/10 border-white/20 text-white placeholder-white/60 focus:border-white/40 focus:bg-white/15":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-gray-400 dark:focus:border-gray-500 focus:ring-2 focus:ring-gray-500/20"}`})]}),m.jsx("p",{className:`text-xs mt-1 ${i?"text-white/60":"text-gray-500 dark:text-gray-400"}`,children:"STEEB usar tu apodo para motivarte y felicitarte"})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${i?"bg-white/10 text-white hover:bg-white/20 border border-white/20":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:l||!a.name.trim(),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"bg-white text-black hover:bg-white/90":"bg-black text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200"}`,children:l?"Guardando...":"Guardar Cambios"})]})]})]})})]})})},Eie=()=>{var v;const t=lu(),{settings:e,updateGeneralSettings:n}=die(),{isShiny:r}=Cr(),{name:s,nickname:i,clearProfile:a}=iV(),{user:o,linkGoogleAccount:l}=Li(),c=(o==null?void 0:o.provider)==="google",[u,d]=y.useState(!1),{SwipeHandler:h,isSwiping:p,swipeProgress:S}=aV({}),b=()=>{a(),t("/")},T=g=>{var D;const x={es:{settings:"Configuracin",app_language:"Idioma de la Aplicacin",shiny_toggle:"Activar modo Shiny",enabled:"Activado",disabled:"Desactivado"},en:{settings:"Settings",app_language:"App Language",shiny_toggle:"Enable Shiny mode",enabled:"Enabled",disabled:"Disabled"}};return((D=x[e.language])==null?void 0:D[g])||x.es[g]||g};return m.jsx(h,{children:m.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-white dark:bg-black text-black dark:text-white px-6 pt-4 pb-20 overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsx("div",{className:"w-6 h-6"})," ",m.jsx("h1",{className:"text-2xl font-bold",children:T("settings")}),m.jsx(mS,{className:"w-6 h-6"})]}),m.jsx(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black rounded-lg border shiny-settings-card",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(nK,{className:`w-5 h-5 ${r?"text-white":""}`}),m.jsx("span",{className:`font-medium ${r?"tareas-multicolor":""}`,children:T("app_language")})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("button",{onClick:()=>n({language:"es"}),className:`p-3 rounded-lg border-2 transition-all ${e.language==="es"?"border-black dark:border-white bg-black dark:bg-white text-white dark:text-white":"border-gray-300 dark:border-white bg-white dark:bg-black text-gray-700 dark:text-white"}`,children:m.jsx("div",{className:"text-center",children:m.jsx("span",{className:`text-sm font-medium ${r?"text-white":""}`,children:"Espaol"})})}),m.jsx("button",{onClick:()=>n({language:"en"}),className:`p-3 rounded-lg border-2 transition-all ${e.language==="en"?"border-black dark:border-white bg-black dark:bg-white text-white dark:text-white":"border-gray-300 dark:border-white bg-white dark:bg-black text-gray-700 dark:text-white"}`,children:m.jsx("div",{className:"text-center",children:m.jsx("span",{className:`text-sm font-medium ${r?"text-white":""}`,children:"English"})})})]})]})}),m.jsx(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"mb-8",children:m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black rounded-lg border shiny-settings-card",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(yw,{className:`w-5 h-5 ${r?"text-white":""}`}),m.jsx("span",{className:`font-medium ${r?"tareas-multicolor":""}`,children:"Perfil de Usuario"})]}),m.jsxs("div",{className:"space-y-4 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white font-bold text-lg",children:((v=s==null?void 0:s.charAt(0))==null?void 0:v.toUpperCase())||"U"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:`font-medium ${r?"text-white":"text-black dark:text-white"}`,children:s||"Usuario"}),m.jsx("div",{className:`${r?"text-white/80":"text-sm text-gray-600 dark:text-gray-400"}`,children:i&&`"${i}"`||"Sin apodo configurado"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs("div",{className:`p-3 bg-white dark:bg-gray-800 rounded-lg border ${r?"border-white":"border-gray-200 dark:border-white"}`,children:[m.jsx("div",{className:`${r?"text-white/80":"text-xs text-gray-500 dark:text-gray-400"} mb-1`,children:"Nombre completo"}),m.jsx("div",{className:`font-medium ${r?"text-white":"text-black dark:text-white"}`,children:s||"No configurado"})]}),m.jsxs("div",{className:`p-3 bg-white dark:bg-gray-800 rounded-lg border ${r?"border-white":"border-gray-200 dark:border-white"}`,children:[m.jsx("div",{className:`${r?"text-white/80":"text-xs text-gray-500 dark:text-gray-400"} mb-1`,children:"Apodo"}),m.jsx("div",{className:`font-medium ${r?"text-white":"text-black dark:text-white"}`,children:i||"No configurado"})]}),m.jsxs("div",{className:`p-3 bg-white dark:bg-gray-800 rounded-lg border ${r?"border-white":"border-gray-200 dark:border-white"}`,children:[m.jsx("div",{className:`${r?"text-white/80":"text-xs text-gray-500 dark:text-gray-400"} mb-1`,children:"Cuenta vinculada"}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:`font-medium ${r?"text-white":"text-black dark:text-white"}`,children:c?"Vinculada con Google":"No vinculada"}),!c&&m.jsx("button",{onClick:async()=>{try{await l()}catch(g){alert((g==null?void 0:g.message)||"No se pudo vincular con Google. Intenta desde navegador si ests en iOS.")}},className:"text-sm bg-black dark:bg-white text-white dark:text-white px-3 py-1 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:"Vincular con Google"})]})]})]})]}),m.jsx("div",{className:"mt-8",children:m.jsx(wie,{})}),m.jsxs("div",{className:"space-y-3 mt-8",children:[m.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-2 p-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[m.jsx(yw,{className:"w-4 h-4"}),m.jsx("span",{className:"font-medium",children:"Editar Perfil"})]}),m.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[m.jsx(uK,{className:"w-4 h-4"}),m.jsx("span",{className:"font-medium",children:"Reiniciar Perfil"})]})]})]})}),m.jsx(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"mb-8",children:m.jsx("button",{onClick:()=>t("/about"),className:`w-full p-4 rounded-lg border transition-all hover:shadow-md ${r?"bg-white/10 border-white/20 hover:bg-white/20":"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(oj,{className:`w-5 h-5 ${r?"text-white":"text-gray-600 dark:text-gray-400"}`}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("div",{className:`font-medium ${r?"text-white":"text-gray-900 dark:text-white"}`,children:"Acerca de STEEB"}),m.jsx("div",{className:`text-sm ${r?"text-white/60":"text-gray-500 dark:text-gray-500"}`,children:"Informacin de la app y poltica de privacidad"})]})]})})}),m.jsx(xie,{isOpen:u,onClose:()=>d(!1)}),m.jsx(oV,{isVisible:p,progress:S,direction:"left"})]})})},Sie=()=>{lu();const{isShiny:t}=Cr(),{SwipeHandler:e,isSwiping:n,swipeProgress:r}=aV({}),s=[{icon:m.jsx(SK,{className:"w-6 h-6"}),title:"Gestin de Tareas",description:"Crea, organiza y completa tus tareas con un sistema intuitivo"},{icon:m.jsx(AK,{className:"w-6 h-6"}),title:"Productividad",description:"Mtricas detalladas sobre tu rendimiento y patrones de productividad"},{icon:m.jsx($k,{className:"w-6 h-6"}),title:"Privacidad Total",description:"Tus datos se almacenan localmente. No hacemos seguimiento ni publicidad"},{icon:m.jsx(Rd,{className:"w-6 h-6"}),title:"Diseo Cuidado",description:"Interfaz minimalista y agradable que facilita el uso diario"}];return m.jsx(e,{children:m.jsx("div",{className:"min-h-screen bg-white dark:bg-black",children:m.jsxs("div",{className:"max-w-md mx-auto px-6 pt-4",children:[m.jsx("div",{className:"flex items-center justify-center mb-8",children:m.jsx("h1",{className:`text-2xl font-bold ${t?"tareas-multicolor":""}`,children:"Acerca de STEEB"})}),m.jsxs(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[m.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center",children:m.jsx("span",{className:"text-white text-3xl font-bold",children:"S"})}),m.jsx("h2",{className:`text-2xl font-bold mb-2 ${t?"tareas-multicolor":""}`,children:"STEEB"}),m.jsx("p",{className:`${t?"text-white/80":"text-gray-600 dark:text-gray-400"} mb-4`,children:"Tu compaero inteligente para la gestin de tareas"}),m.jsx("div",{className:`text-sm ${t?"text-white/60":"text-gray-500 dark:text-gray-500"}`,children:"Versin 1.0.0"})]}),m.jsx(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"grid grid-cols-1 gap-4 mb-8",children:s.map((i,a)=>m.jsx(Un.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2+a*.1},className:`p-4 rounded-lg border ${t?"bg-white/10 border-white/20":"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${t?"bg-white/20":"bg-blue-100 dark:bg-blue-900/20"}`,children:i.icon}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:`font-semibold mb-1 ${t?"text-white":"text-gray-900 dark:text-white"}`,children:i.title}),m.jsx("p",{className:`text-sm ${t?"text-white/80":"text-gray-600 dark:text-gray-400"}`,children:i.description})]})]})},a))}),m.jsxs(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:`p-4 rounded-lg border mb-8 ${t?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-white/20":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx($k,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),m.jsx("h3",{className:`font-semibold ${t?"text-white":"text-gray-900 dark:text-white"}`,children:"Compromiso de Privacidad"})]}),m.jsx("p",{className:`text-sm ${t?"text-white/80":"text-gray-600 dark:text-gray-400"} mb-3`,children:"STEEB respeta tu privacidad. No recopilamos datos para publicidad, no hacemos seguimiento y tus datos personales permanecen en tu dispositivo."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("button",{onClick:()=>window.open("/PRIVACY_POLICY.md","_blank"),className:`text-sm font-medium ${t?"text-white underline":"text-blue-600 dark:text-blue-400 underline"}`,children:"Ver Poltica de Privacidad"}),m.jsx("span",{className:`text-sm ${t?"text-white/60":"text-gray-500"}`,children:"  "}),m.jsx("button",{onClick:()=>window.open("/TERMS_OF_SERVICE.md","_blank"),className:`text-sm font-medium ${t?"text-white underline":"text-blue-600 dark:text-blue-400 underline"}`,children:"Trminos de Servicio"})]})]}),m.jsxs(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:`p-4 rounded-lg border ${t?"bg-white/10 border-white/20":"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:[m.jsx("h3",{className:`font-semibold mb-3 ${t?"text-white":"text-gray-900 dark:text-white"}`,children:"Contacto"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("a",{href:"mailto:privacy@steeb-app.com",className:`flex items-center gap-2 text-sm ${t?"text-white/80 hover:text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"} transition-colors`,children:[m.jsx(fK,{className:"w-4 h-4"}),"privacy@steeb-app.com"]}),m.jsxs("a",{href:"https://github.com/steeb-app",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 text-sm ${t?"text-white/80 hover:text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"} transition-colors`,children:[m.jsx(eK,{className:"w-4 h-4"}),"GitHub"]})]})]}),m.jsxs(Un.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},className:`text-center mt-12 mb-8 text-sm ${t?"text-white/60":"text-gray-500 dark:text-gray-500"}`,children:[m.jsx("p",{children:"Hecho con  para ayudarte a ser ms productivo"}),m.jsx("p",{className:"mt-1",children:" 2025 STEEB. Todos los derechos reservados."})]}),m.jsx(oV,{isVisible:n,progress:r,direction:"left"})]})})})},Tie="https://v0-steeb-api-backend-production.up.railway.app/api",iT=t=>`${Tie}${t}`,aT=async t=>{const e=await t.json().catch(()=>({}));if(!t.ok){const n=(e==null?void 0:e.error)||t.statusText||"Error en la solicitud";throw new Error(typeof n=="string"?n:"Error en la solicitud")}return e},_ie=async t=>{const e=await fetch(iT("/payments/verify"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});return aT(e)},Aie=t=>{if(!t)return"free";const e=t.toLowerCase();return["black","dark","shiny","premium"].includes(e)?"premium":"free"},kie=async t=>{var s,i,a,o,l,c,u,d;const e=await fetch(iT(`/users/role?userId=${t}`),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),n=await aT(e),r=(s=n.data)==null?void 0:s.tipoUsuario;return{role:Aie(r),permissions:((i=n.data)==null?void 0:i.permissions)||[],shinyRolls:((a=n.data)==null?void 0:a.shinyRolls)||0,tipoUsuario:r,darkClubNumber:((o=n.data)==null?void 0:o.darkClubNumber)??null,darkClubNickname:((l=n.data)==null?void 0:l.darkClubNickname)??null,darkModeUnlockedAt:((c=n.data)==null?void 0:c.darkModeUnlockedAt)??null,darkModeEnabled:((u=n.data)==null?void 0:u.darkModeEnabled)??!1,darkWelcomeMessageVersion:((d=n.data)==null?void 0:d.darkWelcomeMessageVersion)??null}},Cie=async t=>{var r;const e=await fetch(iT("/users/consume-shiny-roll"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({userId:t})}),n=await aT(e);return{success:n.success,remainingRolls:((r=n.data)==null?void 0:r.remainingRolls)||0}},cV=()=>{const[t,e]=y.useState({role:"free",permissions:[],isPremium:!1,tipoUsuario:"White",userData:null}),[n,r]=y.useState(!0),[s,i]=y.useState(null),a=T=>["Black","Premium","black","premium","dark","Dark"].includes(T)?"premium":"free",o=(T,v,g)=>{if(g&&g.length>0)return g;const x=[];return(["Black","Premium","black","premium","dark","Dark"].includes(T)||v)&&x.push("dark_mode"),x},l=async T=>{try{const v=Tt(ke,"users",T),g=await Kr(v);if(g.exists()){const x=g.data(),D=x.tipoUsuario||"White",C=x.hasDarkVersion||!1,P=x.permissions||[],A=a(D),E=o(D,C,P),_={role:A,permissions:E,isPremium:A==="premium",tipoUsuario:D,userData:x};return e(_),_}else{const x={role:"free",permissions:[],isPremium:!1,tipoUsuario:"White",userData:null};return e(x),x}}catch(v){console.error(" Error leyendo datos del usuario desde Firestore:",v);const g={role:"free",permissions:[],isPremium:!1,tipoUsuario:"White",userData:null};return e(g),g}};y.useEffect(()=>{const T=Ia(),v=ey(T,async g=>{if(i(g),g){await l(g.uid);const x=Tt(ke,"users",g.uid),D=Qg(x,C=>{if(C.exists()){const P=C.data(),A=P.tipoUsuario||"White",E=P.hasDarkVersion||!1,_=P.permissions||[],R=a(A),N=o(A,E,_);e({role:R,permissions:N,isPremium:R==="premium",tipoUsuario:A,userData:P})}});return r(!1),()=>D()}else e({role:"free",permissions:[],isPremium:!1,tipoUsuario:"White",userData:null}),r(!1)});return()=>v()},[]);const c=async T=>{const v=T||(s==null?void 0:s.uid);if(!v)return null;r(!0);const g=await l(v);return r(!1),g},u=async()=>{await c()},d=t.isPremium||t.permissions.includes("dark_mode"),h=t.permissions.includes("shiny_game"),p=t.isPremium?"premium":"free",S=!d&&p==="free",b=d&&!h;return{user:s,userData:t.userData,hasDarkAccess:d,hasShinyAccess:h,currentRole:p,userRole:t,tipoUsuario:t.tipoUsuario,isLoading:n,canBuyDarkMode:S,canBuyShinyRolls:b,refreshUserData:u,loadUserData:l,checkUserRole:c}},Rie=t=>{const e=(t||"").toLowerCase();return e?e.includes("shiny-roll")||e.includes("roll")?"shiny-rolls":e.includes("shiny")?"shiny":e.includes("black")||e.includes("dark")?"dark":"unknown":"unknown"},Die=t=>{const e=(t||"").toLowerCase().match(/shiny-roll-(\d+)/);return e?Number(e[1]):null},Nie=(t,e)=>t==="shiny-rolls"?e&&e>0?`Pago aprobado. Acreditamos ${e} tirada${e===1?"":"s"} Shiny.`:"Pago aprobado. Acreditamos tus tiradas Shiny.":t==="shiny"?"Pago aprobado. Tu cuenta fue actualizada a Shiny.":t==="dark"?"Pago aprobado. Tu cuenta fue actualizada a Black.":"Pago aprobado.";function Iie(){const[t]=xz(),e="steeb-pending-dark-upgrade",n="steeb-session-dark-upgrade",r=t.toString(),s=lu(),{currentTheme:i}=Cr(),{checkUserRole:a,user:o,userData:l}=cV(),[c,u]=y.useState("verifying"),[d,h]=y.useState("Verificando tu pago..."),[p,S]=y.useState(null),[b,T]=y.useState("unknown"),[v,g]=y.useState(null),x=y.useRef(new Set),D=y.useRef(a),C=y.useRef(o),P=y.useRef(l);y.useEffect(()=>{D.current=a},[a]),y.useEffect(()=>{C.current=o},[o]),y.useEffect(()=>{P.current=l},[l]),y.useEffect(()=>()=>{x.current.clear()},[]),y.useEffect(()=>{const _=t.get("payment_id"),R=t.get("preference_id"),N=t.get("external_reference");if(!_&&!R&&!N){u("error"),h("No se encontro informacion del pago en la URL.");return}const I=`${_||""}|${R||""}|${N||""}`;if(x.current.has(I))return;x.current.add(I);let M=!1;return(async()=>{var z,L,U,j,K,Q,pe;try{u("verifying"),h("Verificando tu pago con Mercado Pago...");const ae=await _ie({paymentId:_||void 0,preferenceId:R||void 0,externalReference:N||void 0});if(M)return;const re=Rie(ae.planId),de=Die(ae.planId);if(S(ae),T(re),g(de),ae.status==="approved"){u("approved"),h(Nie(re,de));const se=C.current;if(re==="dark"){let Ne=null;try{localStorage.removeItem(e),sessionStorage.removeItem(n);const nt=yj(se==null?void 0:se.uid);localStorage.setItem(nt,new Date().toISOString())}catch{}let Oe=((z=P.current)==null?void 0:z.apodo)||((L=P.current)==null?void 0:L.nickname)||(se==null?void 0:se.displayName)||(se==null?void 0:se.email)||null;if(se!=null&&se.uid)try{const nt=await D.current(se.uid);Ne=((U=nt==null?void 0:nt.userData)==null?void 0:U.darkClubNumber)??Ne,Oe=((j=nt==null?void 0:nt.userData)==null?void 0:j.apodo)||((K=nt==null?void 0:nt.userData)==null?void 0:K.nickname)||Oe}catch{Ne=((Q=P.current)==null?void 0:Q.darkClubNumber)??Ne}else Ne=((pe=P.current)==null?void 0:pe.darkClubNumber)??Ne;bj(Ne,Oe)}se!=null&&se.uid&&setTimeout(async()=>{await D.current(se.uid)},2e3),setTimeout(()=>{s("/",{replace:!0})},3e3)}else ae.status==="pending"?(u("pending"),h("Tu pago esta pendiente de aprobacion. Te avisaremos cuando se confirme.")):ae.status==="rejected"||ae.status==="cancelled"?(u("rejected"),h("El pago fue rechazado o cancelado. Intenta nuevamente.")):(u("error"),h(`Estado del pago: ${ae.status}`))}catch(ae){if(M)return;console.error("Error verificando pago:",ae),u("error"),h(ae instanceof Error?`Error: ${ae.message}`:"No se pudo verificar el pago. Intenta nuevamente mas tarde.")}})(),()=>{M=!0}},[r,s]);const A=()=>{switch(c){case"verifying":return m.jsx(F0,{className:"w-16 h-16 animate-spin text-blue-500"});case"approved":return m.jsx(LY,{className:"w-16 h-16 text-green-500"});case"pending":return m.jsx(F0,{className:"w-16 h-16 text-yellow-500"});case"rejected":case"error":return m.jsx(FY,{className:"w-16 h-16 text-red-500"});default:return m.jsx(F0,{className:"w-16 h-16 animate-spin text-blue-500"})}},E=()=>{switch(c){case"approved":return"border-green-500 bg-green-50 dark:bg-green-900/20";case"pending":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"rejected":case"error":return"border-red-500 bg-red-50 dark:bg-red-900/20";default:return"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}};return m.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${i==="dark"?"bg-gray-900":"bg-gray-50"}`,children:m.jsxs("div",{className:`max-w-md w-full rounded-2xl p-8 shadow-2xl ${i==="dark"?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[m.jsx("div",{className:"flex justify-center mb-6",children:A()}),m.jsxs("h1",{className:"text-2xl font-bold text-center mb-4",children:[c==="approved"&&"Pago Exitoso",c==="verifying"&&"Verificando Pago",c==="pending"&&"Pago Pendiente",c==="rejected"&&"Pago Rechazado",c==="error"&&"Error"]}),m.jsx("div",{className:`rounded-xl border-2 p-4 mb-6 ${E()}`,children:m.jsx("p",{className:"text-center text-sm",children:d})}),c==="approved"&&p&&m.jsxs("div",{className:"space-y-3 mb-6",children:[b==="dark"&&m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[m.jsx(gw,{className:"w-4 h-4 text-pink-500"}),m.jsx("span",{children:"Modo DARK desbloqueado"})]}),b==="shiny"&&m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[m.jsx(gw,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{children:"Acceso Shiny activado"})]}),b==="shiny-rolls"&&m.jsx("div",{className:"text-sm text-center text-blue-600 dark:text-blue-300 font-medium",children:v?`Tiradas Shiny acreditadas: ${v}`:"Tus tiradas Shiny ya estan disponibles."}),p.paymentId&&m.jsxs("div",{className:"text-xs text-center text-gray-500",children:["ID de pago: ",p.paymentId]})]}),m.jsxs("div",{className:"space-y-3",children:[c==="approved"&&m.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Redirigiendo a la pagina principal..."}),(c==="error"||c==="rejected")&&m.jsxs("button",{onClick:()=>s("/",{replace:!0}),className:"w-full py-3 rounded-xl font-semibold bg-black text-white dark:bg-white dark:text-black flex items-center justify-center gap-2 hover:opacity-90 transition",children:[m.jsx(Vk,{className:"w-4 h-4"}),"Volver al inicio"]}),c==="pending"&&m.jsxs("button",{onClick:()=>s("/",{replace:!0}),className:"w-full py-3 rounded-xl font-semibold border-2 border-black dark:border-white flex items-center justify-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[m.jsx(Vk,{className:"w-4 h-4"}),"Volver al inicio"]})]}),m.jsxs("div",{className:"mt-6 text-xs text-center text-gray-500",children:[c==="pending"&&m.jsx("p",{children:"Los pagos pueden tardar unos minutos en procesarse. Te notificaremos cuando se confirme."}),c==="rejected"&&m.jsx("p",{children:"Si tenes algun problema, contactanos a soporte@steeb.app"})]})]})})}function Mie(){const t=lu(),{currentTheme:e}=Cr(),{user:n,currentRole:r}=cV(),[s,i]=y.useState(""),[a,o]=y.useState(!1),l=()=>{t(`/payments/success?payment_id=${s||"1234567890"}`)},c=()=>{t(`/payments/success?preference_id=test-preference-123&external_reference=black-user-plan_${n==null?void 0:n.uid}_${Date.now()}`)};return m.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${e==="dark"?"bg-gray-900":"bg-gray-50"}`,children:m.jsxs("div",{className:`max-w-2xl w-full rounded-2xl p-8 shadow-2xl ${e==="dark"?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[m.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:" Simulador de Pago"}),m.jsx("div",{className:`rounded-xl border-2 p-4 mb-6 ${e==="dark"?"border-blue-500 bg-blue-900/20":"border-blue-500 bg-blue-50"}`,children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(oj,{className:"w-5 h-5 mt-0.5 text-blue-500"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-semibold mb-2",children:"Estado Actual del Usuario"}),m.jsxs("div",{className:"space-y-1 text-sm",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"UID:"})," ",(n==null?void 0:n.uid)||"No autenticado"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",(n==null?void 0:n.email)||"No disponible"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Rol Actual:"})," ",m.jsx("span",{className:`font-bold ${r==="premium"?"text-green-500":"text-yellow-500"}`,children:r})]})]})]})]})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:`rounded-xl border-2 p-6 ${e==="dark"?"border-gray-700 bg-gray-700/50":"border-gray-200 bg-gray-50"}`,children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Opcin 1: Simular con Payment ID"}),m.jsx("p",{className:"text-sm mb-4 text-gray-600 dark:text-gray-300",children:"Esto simular la redireccin de Mercado Pago despus de un pago exitoso. El sistema intentar verificar el pago usando el payment_id."}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment ID (opcional - usa uno real si tens)"}),m.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value),placeholder:"Ej: 1234567890 o dej vaco para usar uno de prueba",className:`w-full px-4 py-2 rounded-lg border ${e==="dark"?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"useReal",checked:a,onChange:u=>o(u.target.checked),className:"w-4 h-4"}),m.jsx("label",{htmlFor:"useReal",className:"text-sm",children:"Usar un payment_id real (el backend verificar con Mercado Pago)"})]}),m.jsxs("button",{onClick:l,className:"w-full py-3 rounded-xl font-semibold bg-green-600 text-white flex items-center justify-center gap-2 hover:bg-green-700 transition",children:[m.jsx(Uk,{className:"w-5 h-5"}),"Simular Pago Exitoso"]})]})]}),m.jsxs("div",{className:`rounded-xl border-2 p-6 ${e==="dark"?"border-gray-700 bg-gray-700/50":"border-gray-200 bg-gray-50"}`,children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Opcin 2: Simular con Preference ID"}),m.jsx("p",{className:"text-sm mb-4 text-gray-600 dark:text-gray-300",children:"Esto simular usando un preferenceId y externalReference. El backend buscar el pago asociado a esta preferencia."}),m.jsxs("button",{onClick:c,className:"w-full py-3 rounded-xl font-semibold bg-blue-600 text-white flex items-center justify-center gap-2 hover:bg-blue-700 transition",children:[m.jsx(Uk,{className:"w-5 h-5"}),"Simular con Preference ID"]})]}),m.jsx("div",{className:`rounded-xl border-2 p-4 ${e==="dark"?"border-yellow-500 bg-yellow-900/20":"border-yellow-500 bg-yellow-50"}`,children:m.jsxs("p",{className:"text-sm",children:[m.jsx("strong",{children:" Nota:"})," Si uss un payment_id de prueba (no real), el backend intentar verificarlo con Mercado Pago y probablemente falle. Para probar el flujo completo, necesits un payment_id real de un pago que hayas hecho."]})}),m.jsxs("button",{onClick:()=>t("/"),className:`w-full py-3 rounded-xl font-semibold border-2 flex items-center justify-center gap-2 transition ${e==="dark"?"border-white hover:bg-gray-700":"border-black hover:bg-gray-100"}`,children:[m.jsx(_Y,{className:"w-4 h-4 rotate-180"}),"Volver al Inicio"]})]}),m.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-gray-100 dark:bg-gray-700",children:[m.jsx("h3",{className:"font-bold mb-2",children:" Cmo obtener un payment_id real:"}),m.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[m.jsx("li",{children:"Hac un pago real de $3000 ARS desde la app"}),m.jsx("li",{children:"Despus del pago, Mercado Pago te redirigir con el payment_id en la URL"}),m.jsx("li",{children:"Copi ese payment_id y pegalo arriba"}),m.jsx("li",{children:"O revis los logs del backend para ver los payment_ids procesados"})]})]})]})})}const Pie=({mood:t="happy",size:e="md",className:n,animate:r=!1})=>{const s={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},i=r?"animate-bounce-light":"",a="/lovable-uploads/teobservo.png",[o,l]=y.useState(()=>typeof window>"u"?a:localStorage.getItem("stebe-top-left-image")||a);return y.useEffect(()=>{const c=()=>{const u=localStorage.getItem("stebe-top-left-image");l(u||a)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]),m.jsx("div",{className:he("flex items-center justify-center",s[e],i,n),children:m.jsx("div",{className:"relative w-full h-full",children:m.jsx("img",{src:o,alt:"Steeb",className:"w-full h-full object-cover flex-shrink-0"})})})},Oie=()=>{const t=Pi();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-steve-gray-light p-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Pie,{size:"lg",mood:"angry"}),m.jsx("h1",{className:"text-4xl font-bold mb-4 mt-4",children:"404"}),m.jsx("p",{className:"text-xl mb-6",children:"Oops! Steve no puede encontrar esta pgina"}),m.jsx("div",{className:"steve-border bg-steve-white p-4 rounded-xl mb-6",children:m.jsx("p",{children:'Steve dice: "No deberas estar aqu, ests procrastinando! Vuelve a tus tareas."'})}),m.jsx(Kn,{asChild:!0,className:"bg-steve-black text-steve-white hover:bg-steve-gray-dark steve-shadow",children:m.jsx("a",{href:"/",children:"Volver a las tareas"})})]})})},jie=({onSkip:t})=>{const[e,n]=y.useState(!1);return y.useEffect(()=>{n(!0);const r=()=>{const i=document.documentElement.classList.contains("dark"),a=localStorage.getItem("stebe-theme");n(i||a==="dark"||a==="shiny"||!a)};setTimeout(r,100);const s=new MutationObserver(r);return s.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>s.disconnect()},[]),m.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${e?"bg-black":"bg-white"}`,children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:`text-6xl font-bold mb-8 ${e?"text-white":"text-black"}`,style:{fontFamily:"'Be Vietnam Pro', system-ui, -apple-system, sans-serif",fontWeight:800,fontSize:"64px"},children:"STEEB"}),m.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[m.jsx("div",{className:"animate-bounce [animation-delay:-0.3s]",style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"#ffffff":"#1A1A1A",border:`2px solid ${e?"#ffffff":"#1A1A1A"}`,zIndex:9999,position:"relative"}}),m.jsx("div",{className:"animate-bounce [animation-delay:-0.15s]",style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"#ffffff":"#1A1A1A",border:`2px solid ${e?"#ffffff":"#1A1A1A"}`,zIndex:9999,position:"relative"}}),m.jsx("div",{className:"animate-bounce",style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"#ffffff":"#1A1A1A",border:`2px solid ${e?"#ffffff":"#1A1A1A"}`,zIndex:9999,position:"relative"}})]})]})})},Lie=({onComplete:t,onSkip:e})=>{const{user:n,loginWithGoogle:r,updateProfile:s,hasPasswordProvider:i,linkEmailPassword:a,resendEmailVerification:o}=Li(),[l,c]=y.useState(()=>n&&(!n.name||!n.nickname)?"onboarding":"welcome"),[u,d]=y.useState({email:"",password:"",name:"",nickname:""}),[h,p]=y.useState(""),[S,b]=y.useState(!1),T=gi.isNativePlatform();y.useEffect(()=>{n&&(!n.name||!n.nickname)&&(c("onboarding"),b(!1))},[n]),y.useEffect(()=>{n&&n.name&&n.nickname&&t()},[n]);const v=async()=>{var C;if(b(!0),p(""),navigator.userAgent.includes("SteebNativeWrapper")&&window.ReactNativeWebView){console.log(" Usando Puente Nativo para Google Sign-In"),window.handleNativeGoogleLogin=async P=>{try{console.log(" Token recibido del nativo, autenticando en Firebase...");const{GoogleAuthProvider:A,signInWithCredential:E}=await Bo(async()=>{const{GoogleAuthProvider:N,signInWithCredential:I}=await Promise.resolve().then(()=>rY);return{GoogleAuthProvider:N,signInWithCredential:I}},void 0),{auth:_}=await Bo(async()=>{const{auth:N}=await Promise.resolve().then(()=>aY);return{auth:N}},void 0),R=A.credential(P);await E(_,R),console.log(" Autenticacin nativa exitosa")}catch(A){console.error(" Error en login nativo:",A),p("Error al iniciar sesin con Google (Nativo)"),b(!1)}},window.handleNativeGoogleLoginError=P=>{console.error(" Error reportado por nativo:",P),p("Cancelado o error en la app nativa"),b(!1)},window.ReactNativeWebView.postMessage(JSON.stringify({type:"loginGoogle"}));return}try{await r(!0);const P=n;!(P!=null&&P.name)||!(P!=null&&P.nickname)?setTimeout(()=>{c("onboarding")},300):t()}catch(P){console.error(" Error en Google Auth:",P),T&&((C=P==null?void 0:P.message)!=null&&C.includes("iOS"))?p("En iOS, instala el plugin de Google Sign-In nativo"):p((P==null?void 0:P.message)||"Error al autenticarse con Google"),b(!1)}},g=async D=>{var C,P;if(D.preventDefault(),u.name.trim()&&u.nickname.trim()){b(!0),p("");try{const A=s(u.name.trim(),u.nickname.trim()),E=((C=document.getElementById("onb-password"))==null?void 0:C.value)||"",_=((P=document.getElementById("onb-password2"))==null?void 0:P.value)||"";if(E||_){if(E.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres");if(E!==_)throw new Error("Las contraseas no coinciden");i()||a(E).catch(()=>{})}b(!1),t()}catch(A){p((A==null?void 0:A.message)||"No se pudo guardar tu perfil"),b(!1)}}else p("Por favor completa todos los campos")},x=(D,C)=>{d(P=>({...P,[D]:C})),p("")};return l==="welcome"?m.jsx("div",{className:"auth-welcome-container min-h-screen bg-white dark:bg-black flex flex-col items-center justify-center p-4",style:{fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},children:m.jsxs(Un.div,{className:"auth-card max-w-md w-full bg-white border-2 border-white rounded-3xl p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[m.jsx("h1",{className:"text-4xl font-bold text-black mb-6",children:"Bienvenido a STEEB!"}),m.jsx("div",{className:"mb-8 flex justify-center",children:m.jsx("img",{src:"/steeb-icon.png",alt:"STEEB",className:"w-40 h-40 object-contain"})}),m.jsx("p",{className:"text-black text-lg mb-8",children:"Tu compaero para superar la procrastinacin"}),m.jsxs("button",{onClick:v,disabled:S,className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-black rounded-2xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#ffffff",background:"#ffffff",backgroundImage:"none"},children:[S?m.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}):m.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#000000",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#000000",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#000000",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#000000",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{className:"font-medium text-white text-lg",children:S?"Conectando con STEEB...":"Entrar con Google"})]})]})}):l==="onboarding"?m.jsx("div",{className:"min-h-screen bg-white dark:bg-black flex items-center justify-center p-4",children:m.jsxs(Un.div,{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("img",{src:"/lovable-uploads/ChatGPT Image Aug 28, 2025, 12_08_57 AM.png",alt:"STEEB",className:"w-16 h-16 mx-auto rounded-2xl mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cuntanos sobre ti!"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Para personalizar tu experiencia"})]}),m.jsxs("form",{onSubmit:g,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tu nombre completo"}),m.jsx("input",{type:"text",value:u.name,onChange:D=>x("name",D.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white touch-input",placeholder:"Ej: Juan Prez",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cmo te gusta que te llamen?"}),m.jsx("input",{type:"text",value:u.nickname,onChange:D=>x("nickname",D.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white touch-input",placeholder:"Ej: Juan, Juancho, JP...",required:!0})]}),n&&n.provider==="google"&&m.jsx(m.Fragment,{children:!i()&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"(Opcional) Crea una contrasea para entrar sin Google"}),m.jsx("input",{id:"onb-password",type:"password",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white touch-input",placeholder:"Contrasea (mn. 6 caracteres)"}),m.jsx("input",{id:"onb-password2",type:"password",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white touch-input",placeholder:"Repite la contrasea"})]})}),n&&!n.emailVerified&&m.jsxs("div",{className:"pt-2",children:[m.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-2",children:"Tu email no est verificado. Te enviamos un correo al registrarte."}),m.jsx("button",{type:"button",onClick:()=>o().catch(()=>{}),className:"text-xs underline text-gray-800 dark:text-gray-200 hover:text-black dark:hover:text-white",children:"Reenviar verificacin"})]}),h&&m.jsx("div",{className:"text-white text-sm text-center bg-black/80 border border-white/20 p-3 rounded-lg",children:h}),m.jsx("button",{type:"submit",disabled:S,className:"w-full flex items-center justify-center gap-2 p-3 bg-black dark:bg-white text-white dark:text-black rounded-lg hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors font-medium",children:S?"Guardando...":"Continuar"})]})]})}):null},Vie={isOnline:()=>navigator.onLine,onNetworkChange:t=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},showNetworkStatus:()=>{}},Uie=({showOnlineStatus:t=!1,className:e=""})=>{const[n,r]=y.useState(navigator.onLine),[s,i]=y.useState(!1);return y.useEffect(()=>Vie.onNetworkChange(o=>{r(o),(!o||o&&t)&&(i(!0),setTimeout(()=>{i(!1)},3e3))}),[t]),n&&!t&&!s||!s&&!n?null:m.jsx("div",{className:`
      fixed top-4 right-4 z-50 px-4 py-2 rounded-lg shadow-lg transition-all duration-300
      ${n?"bg-green-500 text-white":"bg-orange-500 text-white"}
      ${s?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}
      ${e}
    `,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-200":"bg-orange-200"}`}),m.jsx("span",{className:"text-sm font-medium",children:n?" Conectado":" Modo offline"}),!n&&m.jsx("span",{className:"text-xs opacity-90",children:"- Los datos se guardan localmente"})]})})},Fie=[{id:"dark-mode-premium",title:"Dark mode",description:"Desbloquea el tema oscuro oficial y acceso diario al juego Shiny de STEEB.",price:3e3,currency:"ARS",features:["Tema dark permanente en todos los dispositivos","1 intento diario al juego Shiny (primer intento incluido al comprar)","Acceso prioritario a nuevas funciones premium","Pagos con tarjetas de crdito y dbito va Mercado Pago"],trialDays:0,mostPopular:!0},{id:"shiny-roll-1",title:"1 Tirada Shiny",description:"1 oportunidad para desbloquear el modo Shiny.",price:300,currency:"ARS",features:["1 intento para el juego Shiny"],trialDays:0,mostPopular:!1},{id:"shiny-roll-15",title:"15 Tiradas Shiny",description:"15 oportunidades para desbloquear el modo Shiny.",price:4e3,currency:"ARS",features:["15 intentos para el juego Shiny"],trialDays:0,mostPopular:!0},{id:"shiny-roll-30",title:"30 Tiradas Shiny",description:"30 oportunidades para desbloquear el modo Shiny.",price:8e3,currency:"ARS",features:["30 intentos para el juego Shiny"],trialDays:0,mostPopular:!1}],Bie=Fie,zie=Bie.reduce((t,e)=>(t[e.id]=e,t),{}),oT="black-user-plan",uV=t=>zie[t];uV(oT);const dm="stebe-user-credits",qm=uV(oT),BR=(qm==null?void 0:qm.price)??0,$ie=()=>{const{user:t}=Li(),[e,n]=y.useState(!1),[r,s]=y.useState(null),[i,a]=y.useState(null),o=y.useMemo(()=>({hasDarkVersion:!1,gamesPlayed:0,totalSpent:0,shinyRolls:0}),[]),l=y.useMemo(()=>t!=null&&t.id?`${dm}-${t.id}`:dm,[t==null?void 0:t.id]),c=t!=null&&t.id?`${dm}-${t.id}`:dm,[u,d]=y.useState(()=>{if(typeof window>"u")return{hasDarkVersion:!1,gamesPlayed:0,totalSpent:0,shinyRolls:0};try{const g=window.localStorage.getItem(c);if(g){const x=JSON.parse(g);return{hasDarkVersion:!!x.hasDarkVersion,gamesPlayed:x.gamesPlayed??0,totalSpent:x.totalSpent??0,shinyRolls:x.shinyRolls??0}}return{hasDarkVersion:!1,gamesPlayed:0,totalSpent:0,shinyRolls:0}}catch{return{hasDarkVersion:!1,gamesPlayed:0,totalSpent:0,shinyRolls:0}}});y.useEffect(()=>{if(typeof window>"u")return;const g=localStorage.getItem(l);if(g)try{const x=JSON.parse(g);d(x)}catch(x){console.error("Error parsing user credits data:",x),d(o)}else d(o)},[l,o]),y.useEffect(()=>{typeof window>"u"||localStorage.setItem(l,JSON.stringify(u))},[u,l]);const h=y.useCallback(async()=>{if(!(t!=null&&t.id)&&!(t!=null&&t.email))return s("Necesitas iniciar sesin para sincronizar tus compras."),!1;n(!0),s(null);try{const g=await kie(t==null?void 0:t.id);return a(g),d(x=>({...x,hasDarkVersion:g.role==="premium",shinyRolls:g.shinyRolls||0})),g.role==="premium"}catch(g){return s(g instanceof Error?g.message:"No se pudo sincronizar con Mercado Pago"),!1}finally{n(!1)}},[t==null?void 0:t.id,t==null?void 0:t.email]);y.useEffect(()=>{(t!=null&&t.id||t!=null&&t.email)&&h()},[h,t==null?void 0:t.id,t==null?void 0:t.email]);const p=()=>u.hasDarkVersion,S=()=>!u.hasDarkVersion;return{userCredits:u,plan:qm,planId:oT,isSyncing:e,syncError:r,canPlayGame:p,canBuyDarkVersion:S,playGame:async()=>{if(!p())return!1;if(u.shinyRolls>0&&(t!=null&&t.id))try{const g=await Cie(t.id);g.success&&d(x=>({...x,gamesPlayed:x.gamesPlayed+1,shinyRolls:g.remainingRolls}))}catch(g){return console.error("Error consumiendo tirada:",g),!1}return!0},buyDarkVersion:()=>S()?(d(g=>({...g,hasDarkVersion:!0,totalSpent:g.totalSpent+BR})),!0):!1,resetUserData:()=>{d({hasDarkVersion:!1,gamesPlayed:0,totalSpent:0,shinyRolls:0}),a(null)},syncWithBackend:h,DARK_VERSION_COST:BR,userRoleDetails:i}},zR="steeb-pending-dark-upgrade",$R="steeb-session-dark-upgrade",Hie=t=>{if(!t)return!1;const e=t.toLowerCase();return e==="black"||e==="dark"},qie=()=>{const{syncWithBackend:t,userCredits:e,userRoleDetails:n}=$ie(),{user:r}=Li(),s=y.useRef(!1),i=y.useRef(!1);y.useEffect(()=>{if(typeof window>"u")return;const a=localStorage.getItem(zR),o=sessionStorage.getItem($R),l=a||o,c=yj(r==null?void 0:r.id),u=localStorage.getItem(c),d=(p,S)=>{if(!s.current){s.current=!0;try{localStorage.removeItem(zR),sessionStorage.removeItem($R),localStorage.setItem(c,new Date().toISOString())}catch{}vj(p,S),bj(p,S)}};if(l&&!e.hasDarkVersion){i.current||(i.current=!0,t());return}const h=Hie(n==null?void 0:n.tipoUsuario);e.hasDarkVersion&&h?(l||!u&&!s.current)&&d(n==null?void 0:n.darkClubNumber,(n==null?void 0:n.darkClubNickname)||(r==null?void 0:r.nickname)||null):(s.current=!1,i.current=!1)},[t,e.hasDarkVersion,r==null?void 0:r.id,n==null?void 0:n.darkClubNumber,n==null?void 0:n.tipoUsuario])},Gie=()=>{y.useEffect(()=>{localStorage.getItem("stebe-large-text")==="true"?document.documentElement.classList.add("large-text"):document.documentElement.classList.remove("large-text")},[])},Pd=t=>t.toISOString().split("T")[0];function Il(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function Wie(t,e){const n=new Date(t),r=n.getDate();return n.setMonth(n.getMonth()+e),n.getDate()<r&&n.setDate(0),n}function dV(t,e){if(!e||e.frequency==="none")return null;const n=Math.max(1,e.interval||1),r=new Date(t);let s=null;if(e.frequency==="daily")s=Il(r,n);else if(e.frequency==="weekly"){const a=e.daysOfWeek&&e.daysOfWeek.length>0?e.daysOfWeek.slice().sort():void 0,o=r.getDay();if(!a)s=Il(r,7*n);else if(a.length===7)s=Il(r,1);else{let l=1;for(;l<=7*n+7;){const c=Il(r,l),u=c.getDay(),d=Math.floor(l/7);if(a.includes(u)){if(d===0&&o<u){s=c;break}if(d%n===0){s=c;break}}l++}if(!s){const c=a[0];s=Il(r,7*n+((c-o+7)%7||7))}}}else e.frequency==="monthly"&&(s=Wie(r,n));if(!s)return null;const i=Pd(s);return e.endDate&&i>e.endDate?null:i}function Yie(t,e,n){const r=[];let s=t;for(;;){const i=dV(s,e);if(!i||i>n)break;r.push(i),s=i}return r}function Kie(t,e){if(!e||e.frequency==="none")return[];const n=[],r=new Date,s=r.getMonth(),i=r.getFullYear(),a=Pd(new Date(i,s,1)),o=new Date(i,s+1,0).getDate(),l=Pd(new Date(i,s,o));let c=t;e.frequency==="daily"&&t<a&&(c=a),t>=a&&t<=l&&n.push(t);let u=c;for(;;){const d=dV(u,e);if(!d||d>l)break;const h=new Date(d);if(h.getMonth()!==s||h.getFullYear()!==i)break;n.includes(d)||n.push(d),u=d}if(e.frequency==="daily"&&t>a){let d=t;for(;;){const h=Il(new Date(d),-1*(e.interval||1)),p=Pd(h);if(p<a)break;n.includes(p)||n.push(p),d=p}}return n.sort(),n}async function Bw(){var s;const t=_r.getState(),e=t.tasks,n=Pd(new Date),r=e.filter(i=>i.completed&&i.recurrence&&i.recurrence.frequency!=="none"&&i.scheduledDate);for(const i of r){if(!i.scheduledDate||!i.recurrence||e.find(l=>l.title===i.title&&l.type===i.type&&l.scheduledDate===n&&!l.completed))continue;const o=Yie(i.scheduledDate,i.recurrence,n);if(o.length>0){for(const l of o)if(!e.find(u=>u.title===i.title&&u.type===i.type&&u.scheduledDate===l)){const u=((s=i.subtasks)==null?void 0:s.map(d=>({...d,completed:!1,id:`subtask-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})))||void 0;await t.addTask({title:i.title,type:i.type,subgroup:i.subgroup,status:"pending",completed:!1,scheduledDate:l,scheduledTime:i.scheduledTime,notes:i.notes,tags:i.tags,subtasks:u,recurrence:i.recurrence,priority:i.priority,estimatedDuration:i.estimatedDuration})}}}}function fV(){setTimeout(()=>{Bw().catch(t=>{console.error(" Error procesando tareas recurrentes:",t)})},1e3),setInterval(()=>{new Date().getHours()===6&&Bw().catch(n=>{console.error(" Error procesando tareas recurrentes:",n)})},60*60*1e3)}const Qie=Object.freeze(Object.defineProperty({__proto__:null,generateMonthlyRecurrenceInstances:Kie,initializeRecurrenceManager:fV,processRecurringTasks:Bw},Symbol.toStringTag,{value:"Module"})),Xie=new eB,Zie=()=>{if(typeof window>"u")return"light";const t=document.documentElement;if(t.classList.contains("shiny"))return"shiny";if(t.classList.contains("dark"))return"dark";const e=localStorage.getItem("stebe-theme");return e&&["light","dark","shiny"].includes(e)?(e==="dark"?t.classList.add("dark"):e==="shiny"&&t.classList.add("shiny"),e):window.matchMedia("(prefers-color-scheme: dark)").matches?(t.classList.add("dark"),"dark"):"light"},Jie=()=>{const{user:t,isAuthenticated:e,isLoading:n}=Li(),[r,s]=y.useState(!0),i=()=>{s(!1)},a=()=>{s(!1)};return Gie(),qie(),y.useEffect(()=>{const o=Zie(),l=async()=>{if(gi.getPlatform()==="ios")try{const d=await Fz.requestPermission();localStorage.setItem("att-status",d.status)}catch{localStorage.setItem("att-status","denied")}},c=setTimeout(()=>{s(!1)},500);fV(),setTimeout(l,1e3);const u=setTimeout(()=>{const d=document.documentElement,h=d.classList.contains("dark"),p=d.classList.contains("shiny"),S=localStorage.getItem("stebe-theme");let b="light";p?b="shiny":h&&(b="dark"),(b!==o||S!==o)&&(console.error(" App: Theme inconsistency detected!",{initial:o,actual:b,saved:S}),d.classList.remove("dark","shiny"),o==="dark"?d.classList.add("dark"):o==="shiny"&&d.classList.add("shiny"))},500);return()=>{clearTimeout(c),clearTimeout(u)}},[]),r||n?m.jsx(jie,{onSkip:i}):e?m.jsxs(gz,{children:[m.jsx(Uie,{}),m.jsxs(GB,{children:[m.jsx(po,{path:"/",element:m.jsx(uie,{})}),m.jsx(po,{path:"/settings",element:m.jsx(Eie,{})}),m.jsx(po,{path:"/about",element:m.jsx(Sie,{})}),m.jsx(po,{path:"/payments/success",element:m.jsx(Iie,{})}),m.jsx(po,{path:"/payments/test",element:m.jsx(Mie,{})}),m.jsx(po,{path:"*",element:m.jsx(Oie,{})})]})]}):m.jsx(Lie,{onComplete:()=>{},onSkip:a})},eae=()=>m.jsx(nB,{client:Xie,children:m.jsx($K,{children:m.jsx(kF,{children:m.jsx(Jie,{})})})}),tae=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker registrado con xito:",t.scope)}).catch(t=>{console.log("Error al registrar el Service Worker:",t)})})},hV=t=>{const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content",t?"#000000":"#FFFFFF");const n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');if(n&&n.setAttribute("content",t?"black-translucent":"default"),t){document.documentElement.style.setProperty("color-scheme","dark");const r=document.createElement("meta");r.name="color-scheme",r.content="dark",document.head.appendChild(r);const s=document.createElement("meta");s.name="msapplication-TileColor",s.content="#000000",document.head.appendChild(s);const i=document.createElement("meta");i.name="msapplication-navbutton-color",i.content="#000000",document.head.appendChild(i)}else document.documentElement.style.setProperty("color-scheme","light"),document.querySelectorAll('meta[name="color-scheme"][content="dark"]').forEach(a=>a.remove()),document.querySelectorAll('meta[name="msapplication-TileColor"]').forEach(a=>a.remove()),document.querySelectorAll('meta[name="msapplication-navbutton-color"]').forEach(a=>a.remove())};pf.logDevelopmentInfo();tae();const nae=()=>{const t=document.documentElement.classList.contains("dark")||document.documentElement.classList.contains("shiny");hV(t)},rae=()=>{new MutationObserver(e=>{e.forEach(n=>{if(n.type==="attributes"&&n.attributeName==="class"){const r=n.target.classList.contains("dark")||n.target.classList.contains("shiny");hV(r)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})};nae();rae();console.error("[DEBUG] App starting... Logs are working!");I5.createRoot(document.getElementById("root")).render(m.jsx(Z.StrictMode,{children:m.jsx(eae,{})}));export{pM as W};
