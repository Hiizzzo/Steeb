
@import './styles/shiny-protection.css';
@import './index-dark-borders.css';
@reference "tailwindcss";

/* Tailwind directives - standard syntax */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* stylelint-disable */
/* stylelint-enable */

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 97%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;

    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 0%;

    --destructive: 0 0% 0%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 85%;
    --input: 0 0% 85%;
    --ring: 0 0% 0%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

}

/* Shiny toggle: animated multicolor border like checkbox */
.shiny .shiny-toggle {
  position: relative;
  border-color: transparent !important; /* let gradient border be visible */
}

.shiny .shiny-toggle::before {
  content: "";
  position: absolute;
  inset: 0; /* cover the whole rounded pill */
  border-radius: inherit;
  padding: 2px; /* border thickness */
  background: conic-gradient(
    from 0deg,
    #ff004c,#ff7a00,#ffe600,#00ff66,#00c2ff,#8b00ff,#ff00ff,#ff004c
  );
  /* mask so only the ring (padding) is visible on rounded rectangle */
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: none;
  pointer-events: none;
}

@layer base {
  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;

    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;

    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 100%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 5%;
    --muted-foreground: 0 0% 80%;

    --accent: 0 0% 5%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 0% 0%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 0 0% 0%;

    --sidebar-background: 0 0% 0%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 0%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 5%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 15%;
    --sidebar-ring: 0 0% 0%;
  }
}

@layer base {
  /* stylelint-disable-next-line at-rule-no-unknown */
  * {
    @apply border-[hsl(var(--border))];
  }

  /* stylelint-disable-next-line at-rule-no-unknown */
  body {
    background-color: #FFFFFF !important;
    color: #000000 !important;
    font-family: 'Be Vietnam Pro', system-ui, -apple-system, sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  /* stylelint-disable-next-line at-rule-no-unknown */
  .dark body {
    background-color: #000000 !important;
    color: #FFFFFF !important;
  }

  /* Ensure all root elements in dark mode have pure black background */
  .dark html,
  .dark #root,
  .dark .min-h-screen {
    background-color: #000000 !important;
  }
  
  /* Esconde el scrollbar para móviles */
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Asegurar que el cursor sea visible en todos los inputs */
  input, textarea {
    caret-color: #000000 !important;
    cursor: text !important;
  }
  .dark input, .dark textarea {
    caret-color: #FFFFFF !important;
  }

  /* Estilos para checkboxes completados en tema por defecto (no shiny) */
  .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) {
    background: #000000 !important;
    border-color: #000000 !important;
    color: #ffffff !important;
  }
  
  .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) svg {
    color: #ffffff !important;
    stroke: #ffffff !important;
    fill: #ffffff !important;
  }
  
  .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) .lucide-check {
    color: #ffffff !important;
    stroke: #ffffff !important;
    fill: #ffffff !important;
  }

  /* Dark mode: checkboxes completados con fondo blanco */
  .dark .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) {
    background: #ffffff !important;
    border-color: #ffffff !important;
    color: #ffffff !important;
  }
  
  .dark .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) svg {
    color: #ffffff !important;
    stroke: #ffffff !important;
    fill: #ffffff !important;
  }
  
  .dark .task-checkbox-button.completed:not(.shiny .task-checkbox-button.completed) .lucide-check {
    color: #ffffff !important;
    stroke: #ffffff !important;
    fill: #ffffff !important;
  }

  /* Efecto multicolor animado para el texto TAREAS */
  .tareas-multicolor {
    background: linear-gradient(
      45deg,
      #ff004c,
      #ff7a00,
      #ffe600,
      #00ff66,
      #00c2ff,
      #8b00ff,
      #ff00ff,
      #ff004c
    );
    background-size: 400% 400%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    /* animation: gradientShift 3s ease-in-out infinite; */
  }
  
  @keyframes gradientShift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Cursor específico para el formulario de añadir tareas */
  .modal-add-task input,
  .modal-add-task textarea {
    caret-color: #000000 !important;
    cursor: text !important;
  }
  .dark .modal-add-task input,
  .dark .modal-add-task textarea {
    caret-color: #FFFFFF !important;
  }

  /* Cursor para inputs enfocados */
  input:focus,
  textarea:focus {
    caret-color: #000000 !important;
    cursor: text !important;
  }
  .dark input:focus,
  .dark textarea:focus {
    caret-color: #FFFFFF !important;
  }
}

@layer utilities {
  /* Steve colors - Custom utilities */
  .bg-steve-white {
    background-color: #FFFFFF;
  }

  .bg-steve-black {
    background-color: #000000;
  }

  .bg-steve-gray-light {
    background-color: #F3F3F3;
  }

  .bg-steve-gray-dark {
    background-color: #222222;
  }

  .text-steve-white {
    color: #FFFFFF;
  }

  .text-steve-black {
    color: #000000;
  }

  .text-steve-gray-light {
    color: #F3F3F3;
  }

  .text-steve-gray-dark {
    color: #222222;
  }

  .border-steve-white {
    border-color: #FFFFFF;
  }

  .border-steve-black {
    border-color: #000000;
  }

  .steve-shadow {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  /* stylelint-disable-next-line at-rule-no-unknown */
  .steve-border {
    border: 1px solid #E5E7EB;
    border-radius: 0.5rem;
  }

  /* Clase específica para asegurar visibilidad del cursor */
  .cursor-visible {
    caret-color: #000000 !important;
    cursor: text !important;
  }
  .dark .cursor-visible {
    caret-color: #FFFFFF !important;
  }

  /* Utilidades para prevenir selección de texto */
  .no-select {
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    -webkit-touch-callout: none !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  /* Clase para botones táctiles mejorados */
  .touch-button {
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    -webkit-touch-callout: none !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
  }

  /* stylelint-disable at-rule-no-unknown */
  /* Light mode (not dark, not shiny): ensure proper contrast */
  body:not(.dark):not(.shiny) .text-black {
    color: #000000 !important;
  }

  /* Light mode: force task cards background to pure white */
  body:not(.dark):not(.shiny) .bg-gray-50,
  body:not(.dark):not(.shiny) .bg-gray-100 {
    background-color: #FFFFFF !important;
  }

  /* Light mode: force swipe background to white */
  body:not(.dark):not(.shiny) .bg-white {
    background-color: #FFFFFF !important;
  }

  
  /* Redondear bordes del tareas-header en todos los modos */
  .tareas-header {
    border-radius: 0px !important;
    overflow: hidden !important;
  }

  /* Dark mode overrides for common utility classes - preserve critical components */
  .dark .bg-white:not(.task-checkbox-button):not(.task-creation-modal):not(.task-creation-modal *):not(.steeb-bubble):not([class*="steve-avatar"]):not(.shiny-fab):not([class*="floating"]) { background-color: #000000 !important; }
  .dark .text-black:not(.task-creation-modal):not(.task-creation-modal *) { color: #FFFFFF !important; }

  /* Force pure black backgrounds in dark mode for any remaining elements */
  .dark .bg-gray-50,
  .dark .bg-gray-100,
  .dark .bg-gray-200,
  .dark .bg-gray-300,
  .dark .bg-gray-900,
  .dark .bg-gray-800 {
    background-color: #000000 !important;
  }

  /* Force pure white borders in dark mode for consistency */
  .dark .border-gray-50,
  .dark .border-gray-100,
  .dark .border-gray-200,
  .dark .border-gray-300,
  .dark .border-gray-400,
  .dark .border-gray-500,
  .dark .border-gray-600,
  .dark .border-gray-700,
  .dark .border-gray-800,
  .dark .border-gray-900 {
    border-color: #FFFFFF !important;
  }
  
  /* Dark mode: force all remaining gray elements to pure black/white */
  .dark .text-gray-900 { color: #FFFFFF !important; }
  .dark .text-gray-800 { color: #FFFFFF !important; }
  .dark .text-gray-700 { color: #FFFFFF !important; }
  .dark .text-gray-600 { color: #FFFFFF !important; }
  .dark .bg-gray-100 { background-color: #000000 !important; }
  .dark .bg-gray-50 { background-color: #000000 !important; }
  .dark .hover\:bg-gray-50:hover { background-color: #000000 !important; }
  /* stylelint-enable at-rule-no-unknown */
  .dark .hover\:bg-black\/5:hover { background-color: rgba(255, 255, 255, 0.1) !important; }

  /* Exception: keep the TAREAS header white with black text in dark mode */
  .dark .tareas-header { background-color: #ffffff !important; color: #000000 !important; }
  .dark .tareas-header h1 { color: #000000 !important; }

  /* Dark mode: force backgrounds to pure black, but preserve critical elements */
  .dark .min-h-screen {
    background-color: #000000 !important;
  }

  /* Force black backgrounds for common containers in dark mode */
  .dark .bg-gray-50,
  .dark .bg-gray-100,
  .dark .bg-gray-200,
  .dark .bg-gray-300,
  .dark .bg-gray-900,
  .dark .bg-gray-800 {
    background-color: #000000 !important;
  }

  /* Tema Shiny - Colores Elegantes y Modernos */
  .shiny {
    --shiny-bg: #000000;
    --shiny-card-bg: #000000;
    --shiny-text: #e8e8f0;
    --shiny-primary: #ff6b9d;
    --shiny-secondary: #9c88ff;
    --shiny-accent: #4ecdc4;
    --shiny-success: #45b7d1;
    --shiny-warning: #f9ca24;
    --shiny-error: #ff6b6b;
    --shiny-purple: #000000;
    --shiny-blue: #74b9ff;
    --shiny-teal: #00cec9;
    --shiny-pink: #fd79a8;
  }

  .shiny body {
    background: var(--shiny-bg) !important;
    color: var(--shiny-text) !important;
  }

  /* Shiny: ensure the entire app surface is pure black */
  .shiny,
  .shiny html,
  .shiny body,
  .shiny #root {
    background-color: #000000 !important;
  }

  /* Fondo principal shiny */
  .shiny .bg-white {
    background: var(--shiny-card-bg) !important;
  }

  .shiny .bg-black {
    background: var(--shiny-bg) !important;
  }

  .shiny .text-black {
    color: var(--shiny-text) !important;
  }

  .shiny .text-white {
    color: var(--shiny-text) !important;
  }

  /* Bordes neón animados - Solo elementos específicos */
  .shiny .border:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-black:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-white:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-gray-200:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-gray-700:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card) {
    border-color: transparent !important;
    background: #000000 !important;
    background-size: 400% 400% !important;
    animation: shiny-border 4s ease-in-out infinite !important;
  }

  @keyframes shiny-border {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Botones neón - Solo botones específicos (excluir header y checkbox de tareas) */
  /* Excluir botones absolutos (.absolute) para no romper menú radial */
  .shiny button:not(.floating-button):not(.task-checkbox):not(.task-checkbox-button):not(.swipe-button):not(.tareas-header):not(.shiny-toggle):not(.shiny-fab):not(.absolute) {
    background: #000000 !important;
    border: 1px solid transparent !important;
    background-clip: padding-box !important;
    position: relative !important;
    overflow: hidden !important;
    color: white !important;
    box-shadow: 0 4px 15px rgba(255, 107, 157, 0.2) !important;
  }

  .shiny button:not(.floating-button):not(.task-checkbox):not(.task-checkbox-button):not(.swipe-button):not(.tareas-header):not(.shiny-toggle):not(.shiny-fab)::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent) !important;
    animation: shiny-shine 2s infinite !important;
  }

  @keyframes shiny-shine {
    0% { left: -100%; }
    100% { left: 100%; }
  }

  /* Tarjetas neón */
  .shiny .bg-gray-50,
  .shiny .bg-gray-100,
  .shiny .bg-gray-900 {
    background: #000000 !important; /* pure black cards */
    border: 1px solid transparent !important;
    background-clip: padding-box !important;
    position: relative !important;
    backdrop-filter: none !important;
    box-shadow: none !important;
  }

  .shiny .bg-gray-50::before,
  .shiny .bg-gray-100::before,
  .shiny .bg-gray-900::before {
    content: none !important; /* disable neon overlay for pure black */
  }

  @keyframes shiny-card {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Iconos neón */
  .shiny svg {
    filter: drop-shadow(0 0 6px var(--shiny-pink)) !important;
    animation: icon-glow 3s ease-in-out infinite !important;
  }

  /* Override: task shapes should not inherit the pink glow; they use .task-shine white pulse */
  .shiny .task-shape-wrapper svg {
    filter: none !important;
    animation: none !important;
    /* Allow inline color from React (style/color on SVG or wrapper) to win */
    color: inherit;
    fill: currentColor !important;
  }

  /* Estilos para formas de categorías - evitar color azul inicial */
  .task-category-icon {
    color: inherit !important;
  }

  .dark .task-category-icon {
    color: #FFFFFF !important;
  }

  .dark .task-category-icon path {
    fill: #FFFFFF !important;
    color: #FFFFFF !important;
  }

  .light .task-category-icon path {
    fill: #000000 !important;
    color: #000000 !important;
  }

  @keyframes icon-glow {
    from { filter: drop-shadow(0 0 6px var(--shiny-pink)); }
    to { filter: drop-shadow(0 0 10px #000000); }
  }

  /* Texto neón */
  .shiny h1,
  .shiny h2,
  .shiny h3 {
    background: #000000 !important;
    background-size: 200% 200% !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    animation: text-shine 4s ease-in-out infinite !important;
  }

  @keyframes text-shine {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Hover effects neón */
  /* Excluir botones flotantes críticos para no romper su transform */
  .shiny button:hover:not(.floating-button):not(.absolute),
  .shiny .bg-gray-50:hover,
  .shiny .bg-gray-100:hover,
  .shiny .bg-gray-900:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 10px 30px rgba(255, 107, 157, 0.25), 0 5px 15px rgba(156, 136, 255, 0.15) !important;
    transition: all 0.3s ease !important;
  }

  /* Elementos específicos de la app en modo shiny - Excluir componentes críticos */
  .shiny .border-black:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-white:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-gray-200:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card),
  .shiny .border-gray-700:not(.task-border):not(.floating-border):not(.tareas-header):not(.stats-border):not(.shiny-stats-chart-card):not(.shiny-settings-card) {
    border-color: transparent !important;
    background: #000000 !important;
    background-size: 300% 300% !important;
    animation: shiny-border 4s ease-in-out infinite !important;
  }

  /* Inputs y textareas shiny */
  .shiny input,
  .shiny textarea {
    background: var(--shiny-card-bg) !important;
    border: 1px solid #000000 !important;
    color: var(--shiny-text) !important;
    position: relative !important;
    box-shadow: 0 2px 10px rgba(108, 92, 231, 0.1) !important;
  }

  .shiny input::before,
  .shiny textarea::before {
    content: '' !important;
    position: absolute !important;
    inset: -2px !important;
    background: linear-gradient(45deg, var(--shiny-primary), var(--shiny-secondary), var(--shiny-accent)) !important;
    background-size: 300% 300% !important;
    animation: shiny-border 3s ease-in-out infinite !important;
    border-radius: inherit !important;
    z-index: -1 !important;
  }

  /* Gráficos y estadísticas shiny */
  .shiny .recharts-cartesian-grid-horizontal line,
  .shiny .recharts-cartesian-grid-vertical line {
    stroke: var(--shiny-teal) !important;
    opacity: 0.2 !important;
  }

  .shiny .recharts-bar-rectangle {
    fill: url(#shiny-gradient) !important;
  }

  .shiny .recharts-line-curve {
    stroke: var(--shiny-pink) !important;
    stroke-width: 3px !important;
    filter: drop-shadow(0 0 8px var(--shiny-pink)) !important;
  }

  /* Scrollbar shiny */
  .shiny ::-webkit-scrollbar {
    width: 8px !important;
  }

  .shiny ::-webkit-scrollbar-track {
    background: var(--shiny-bg) !important;
  }

  .shiny ::-webkit-scrollbar-thumb {
    background: #000000 !important;
    border-radius: 4px !important;
    box-shadow: 0 0 10px rgba(255, 107, 157, 0.3) !important;
  }

  /* Protección de componentes críticos en modo shiny */
  .shiny .floating-buttons-container,
  .shiny [class*="floating"]:not(.floating-border),
  .shiny [class*="FloatingButtons"]:not(.floating-border) {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    animation: none !important;
  }

  .shiny .floating-buttons-container button,
  .shiny [class*="floating"] button,
  .shiny [class*="FloatingButtons"] button {
    background: inherit !important;
    border: inherit !important;
    box-shadow: inherit !important;
    animation: none !important;
    /* transform: none !important;  REMOVED to preserve radial positioning */
  }

  /* Proteger específicamente el menú circular principal */
  .shiny .absolute.-top-\[140px\]:not(.floating-border),
  .shiny .absolute.-top-\[140px\] *:not(.floating-border) {
    background: inherit !important;
    /* border: inherit !important;  Avoid overriding explicit white/black border */
    box-shadow: inherit !important;
    animation: none !important;
    /* transform: none !important;  REMOVED to preserve radial positioning */
  }

  /* Ensure children don't reintroduce borders */
  .shiny .absolute.-top-\[140px\]:not(.floating-border) *,
  .shiny .absolute.-top-\[140px\] *:not(.floating-border) {
    border: none !important; /* asegurar que los hijos no reintroducen bordes */
  }

  .shiny .task-card {
    background: var(--shiny-bg) !important;
    border: 1px solid var(--shiny-primary) !important;
    box-shadow: 0 0 10px rgba(255, 0, 128, 0.2) !important;
  }

  .shiny .task-checkbox {
    background: var(--shiny-bg) !important;
    border: 2px solid var(--shiny-primary) !important;
    color: var(--shiny-primary) !important;
  }

  .shiny .task-checkbox:checked {
    background: var(--shiny-primary) !important;
    border-color: var(--shiny-primary) !important;
    color: var(--shiny-bg) !important;
  }

  /* Texto Grande para Accesibilidad */
  .large-text {
    font-size: 120% !important;
  }
  
  .large-text h1 {
    font-size: 130% !important;
  }
  
  .large-text h2 {
    font-size: 125% !important;
  }
  
  .large-text h3 {
    font-size: 120% !important;
  }
  
  .large-text p,
  .large-text span,
  .large-text div,
  .large-text button,
  .large-text input,
  .large-text textarea,
  .large-text label {
    font-size: 120% !important;
    line-height: 1.4 !important;
  }
  
  .large-text .text-xs {
    font-size: 0.9rem !important;
  }
  
  .large-text .text-sm {
    font-size: 1rem !important;
  }
  
  .large-text .text-base {
    font-size: 1.2rem !important;
  }
  
  .large-text .text-lg {
    font-size: 1.3rem !important;
  }
  
  .large-text .text-xl {
    font-size: 1.4rem !important;
  }
  
  .large-text .text-2xl {
    font-size: 1.6rem !important;
  }
  
  .large-text .text-3xl {
    font-size: 2rem !important;
  }
  
  .large-text .text-4xl {
    font-size: 2.4rem !important;
  }
  
  .large-text .text-5xl {
    font-size: 3rem !important;
  }

  /* Texto Grande + Shiny */
  .shiny.large-text h1,
  .shiny.large-text h2,
  .shiny.large-text h3 {
    font-size: 130% !important;
    background: linear-gradient(45deg, var(--shiny-primary), var(--shiny-secondary), var(--shiny-accent)) !important;
    background-size: 200% 200% !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    animation: text-shine 3s ease-in-out infinite !important;
  }

  .shiny.large-text p,
  .shiny.large-text span,
  .shiny.large-text div,
  .shiny.large-text button,
  .shiny.large-text input,
  .shiny.large-text textarea,
  .shiny.large-text label {
    font-size: 120% !important;
    line-height: 1.4 !important;
    color: var(--shiny-text) !important;
  }
}

/* ==========================
   Shiny: Header divider, Progress bar, FAB ring + shine
   ========================== */

/* Animated rainbow divider under the page title */
.shiny .shiny-divider-under-title {
  height: 2px;
  border-radius: 9999px;
  margin: 6px auto 0;
  max-width: 240px;
  background: linear-gradient(90deg,
    #ff5f6d,
    #ffc371,
    #47cf73,
    #00c6ff,
    #845ec2,
    #ff5f6d
  );
  background-size: 200% 100%;
  animation: rainbow-move 6s linear infinite;
  position: relative;
  overflow: hidden;
}

.shiny .shiny-divider-under-title::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.95), transparent);
  transform: translateX(-150%);
  animation: shine-sweep 2.8s ease-in-out infinite;
  pointer-events: none;
}

/* Progress bar track + fill with rainbow and white shine */
.shiny .progress-track {
  /* Track completamente blanco en modo Shiny (sin arcoíris) */
  background: #ffffff !important;
  position: relative;
  overflow: hidden;
  box-shadow: inset 0 0 6px rgba(0,0,0,0.08) !important;
}

.shiny .progress-fill {
  /* Gradiente con los 9 colores del arcoíris */
  background: linear-gradient(90deg, #ff0000, #ff8000, #ffff00, #80ff00, #00ff00, #00ff80, #00ffff, #0080ff, #8000ff) !important;
  animation: none !important;
  position: relative;
  overflow: hidden;
  filter: none !important;
}

.shiny .progress-fill::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0; left: 0; right: 0;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.98), transparent);
  transform: translateX(-150%);
  animation: shine-sweep 3.2s ease-in-out infinite; /* slower white light */
  mix-blend-mode: screen;
  pointer-events: none;
}

/* Floating Action Button: rainbow ring + white moving shine */
.shiny .shiny-fab {
  position: relative !important;
  z-index: 0 !important;
  /* Black center background */
  background: #000000 !important;
  border: none !important;
  box-shadow: none !important;
  overflow: visible !important; /* let side pills protrude */
  display: flex !important;           /* center content */
  align-items: center !important;
  justify-content: center !important;
}

.shiny .shiny-fab::before {
  content: "" !important;
  position: absolute !important;
  inset: -2px !important;                 /* thin outer ring */
  border-radius: 9999px !important;       /* circle */
  padding: 3px !important;                /* ring thickness */
  background: conic-gradient(
    from 0deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: none !important; /* stop rotation */
}

/* Floating Border: rainbow ring for floating menu */
.shiny .floating-border {
  position: relative !important;
  z-index: 0 !important;
}

.shiny .floating-border::before {
  content: "" !important;
  position: absolute !important;
  inset: -2px !important;
  border-radius: 9999px !important;
  padding: 3px !important;
  background: conic-gradient(
    from 0deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: none !important;
  z-index: -1 !important;
  will-change: auto !important;
  pointer-events: none !important;
}

.shiny .shiny-fab::after { content: none !important; }

/* Ensure the plus icon on the FAB is white for strong contrast on white center */
.shiny .shiny-fab svg {
  color: #ffffff !important;            /* for icons that use currentColor */
  position: relative !important;        /* create stacking context above ::after */
  z-index: 3 !important;                /* above ::before(z1) and ::after(z2) */
}
/* Lucide sets explicit stroke via props; force white stroke on all child paths */
.shiny .shiny-fab svg, 
.shiny .shiny-fab svg * {
  stroke: #ffffff !important;
  fill: none !important;
}
/* Fallback: ensure any direct child (text/icon wrapper) stays above the ring/center */
.shiny .shiny-fab > * {
  position: relative !important;
  z-index: 3 !important;
  color: #ffffff !important;
}

/* Shiny: ENABLE rainbow ring on the Shiny toggle (multicolor) */
.shiny .shiny-toggle { border-color: transparent !important; }
/* ::before already defined above draws the conic-gradient ring */

/* Shiny: Settings cards with fixed multicolor border (no animation) */
.shiny .shiny-settings-card { position: relative !important; background: #000000 !important; border: 1px solid transparent !important; background-clip: padding-box !important; }
.shiny .shiny-settings-card::before { content: "" !important; position: absolute !important; inset: 0; border-radius: inherit; padding: 1.5px; background: conic-gradient(from 0deg, #ff0000, #ff8000, #ffff00, #80ff00, #00ff00, #00ff80, #00ffff, #0080ff, #0000ff, #8000ff, #ff00ff, #ff0080, #ff0000) !important; mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; animation: none !important; pointer-events: none; }

/* Shiny: Home button with rainbow ring (same as FAB) */
.shiny .shiny-home-button {
  position: relative !important;
  z-index: 0 !important;
  background: #000000 !important;
  border: none !important;
  box-shadow: none !important;
  overflow: visible !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.shiny .shiny-home-button::before {
  content: "" !important;
  position: absolute !important;
  inset: -2px !important;
  border-radius: 9999px !important;
  padding: 3px !important;
  background: conic-gradient(
    from 0deg,
    #ff0000 0%, #ff8000 8.33%,
    #ffff00 16.66%, #80ff00 25%,
    #00ff00 33.33%, #00ff80 41.66%,
    #00ffff 50%, #0080ff 58.33%,
    #0000ff 66.66%, #8000ff 75%,
    #ff00ff 83.33%, #ff0080 91.66%,
    #ff0000 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: none !important;
  will-change: auto !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

.shiny .shiny-home-button::after { content: none !important; }

.shiny .shiny-home-button svg {
  color: #ffffff !important;
  position: relative !important;
  z-index: 3 !important;
}

.shiny .shiny-home-button svg, 
.shiny .shiny-home-button svg * {
  stroke: #ffffff !important;
  fill: none !important;
}

.shiny .shiny-home-button > * {
  position: relative !important;
  z-index: 3 !important;
  color: #ffffff !important;
}

/* Shiny: side multicolor pills next to the FAB (like STEEB dialog accents) */
.shiny .shiny-fab .shiny-fab-side {
  position: absolute !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  display: block !important;
  width: 50px !important;
  height: 16px !important;
  border-radius: 9999px !important;
  background: linear-gradient(90deg,
    #ffffff, /* white */
    #ff7a00, /* orange */
    #ffe600, /* yellow */
    #00ff66, /* green */
    #00c2ff, /* blue */
    #6a00ff, /* indigo */
    #ffffff  /* white */
  ) !important;
  background-size: 300% 100% !important;
  animation: rainbow-move 6s linear infinite !important;
  box-shadow: 0 2px 8px rgba(255, 0, 128, 0.25) !important;
  pointer-events: none !important;
  z-index: 0 !important; /* below the rainbow ring of the FAB */
}
.shiny .shiny-fab .shiny-fab-side::after {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  border-radius: inherit !important;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.8), transparent) !important;
  mix-blend-mode: screen !important;
  animation: shine-sweep 2.8s ease-in-out infinite !important;
  pointer-events: none !important;
}
.shiny .shiny-fab .shiny-left { left: -66px !important; }
.shiny .shiny-fab .shiny-right { right: -66px !important; }

/* Keyframes for elegant multicolor motion and white shine sweep */
@keyframes rainbow-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes shine-sweep {
  0% { transform: translateX(-150%); }
  55% { transform: translateX(150%); }
  100% { transform: translateX(150%); }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes neon-background-move {
  0% { background-position: 0% 50%; }
  25% { background-position: 100% 25%; }
  50% { background-position: 200% 75%; }
  75% { background-position: 300% 25%; }
  100% { background-position: 400% 50%; }
}

/* Shiny: force black background on main page wrapper */
.shiny .shiny-page-bg {
  background-color: #000 !important;
}

/* Shiny: TAREAS header - black background with multicolor rotating border, white text */
.shiny .tareas-header {
  border: none !important;
  background: #000000 !important;
  background-image: none !important;
  box-shadow: none !important;
  color: #ffffff !important;
  position: relative;
  overflow: hidden !important; /* Para que el pseudo no se desborde si es necesario */
  border-radius: 9999px !important; /* Mantener bordes redondeados en modo Shiny */
}
.shiny .tareas-header::before {
  content: "" !important;
  position: absolute !important;
  inset: -3px !important;
  border-radius: inherit !important;
  padding: 3px !important;
  background: conic-gradient(
    from 0deg,
    #FF0000 0%, #FFA500 11.11%,
    #FFFF00 22.22%, #00FF00 33.33%,
    #00BFFF 44.44%, #0000FF 55.55%,
    #EE82EE 66.66%, #4B0082 77.77%,
    #FFC0CB 88.88%, #FF0000 100%
  ) !important;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  -webkit-mask-composite: xor !important;
  mask-composite: exclude !important;
  animation: none !important;
  pointer-events: none !important;
  z-index: -1 !important;
}
/* Shiny TAREAS header: disable side ring to show ONLY top & bottom neon lines */
.shiny .tareas-header::after { content: none !important; }
.shiny .tareas-header h1:not(.tareas-multicolor) {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  background: none !important;
  background-image: none !important;
  animation: none !important;
  text-shadow: none !important;
}

/* Shiny: tasks list container pure black */
.shiny .tasks-list {
  background-color: #000000 !important;
  width: 100vw !important;
  max-width: 100vw !important;
  box-sizing: border-box !important;
  padding-left: 12px !important;  /* keep a small gutter */
  padding-right: 12px !important; /* ensure space near checkbox edge */
}

/* Shiny: allow task title to wrap; override Tailwind's truncate */
.shiny .tasks-list .task-title {
  white-space: normal !important;
  overflow: visible !important;
  text-overflow: clip !important;
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
}

/* Shiny: make the 'Ver/Ocultar' completed-toggle button solid black, no gradient */
.shiny .completed-header .completed-toggle-btn.completed-toggle-btn {
  background: #000000 !important;
  background-image: none !important;
  background-clip: border-box !important;
  -webkit-background-clip: border-box !important;
  border-image: none !important;
  color: #ffffff !important;
  border: none !important;
  border-width: 0 !important;
  outline: none !important;
  box-shadow: none !important;
}
.shiny .completed-header .completed-toggle-btn.completed-toggle-btn::before { display: none !important; content: none !important; }
.shiny .completed-header .completed-toggle-btn.completed-toggle-btn:hover { background: #0a0a0a !important; background-image: none !important; border: none !important; }

/* Shiny: Completed header text/icons in white */
.shiny .completed-header {
  color: #ffffff !important;
}
.shiny .completed-header h3,
.shiny .completed-header span,
.shiny .completed-header svg {
  color: #ffffff !important;
}
.shiny .completed-header h3 {
  /* Override global .shiny h3 gradient text */
  background: none !important;
  background-image: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  -webkit-text-fill-color: #ffffff !important;
  animation: none !important;
}
.shiny .completed-header svg * {
  stroke: #ffffff !important;
}

/* Shiny: Completed toggle — black background, white label and icon */
.shiny .completed-header .completed-toggle-btn span {
  color: #ffffff !important;
}.shiny .completed-header .completed-toggle-btn svg,
.shiny .completed-header .completed-toggle-btn svg * {
  color: #ffffff !important;
  stroke: #ffffff !important;
}

/* Shiny: task checkbox — anillo arcoíris de 9 colores */
.shiny .task-checkbox-button {
  position: relative !important;
  background: transparent !important;   /* center is drawn via ::after */
  border: none !important;              /* ring is drawn via ::before */
  box-shadow: none !important;
  filter: none !important;
  display: flex !important;
  align-items: center !important;       /* strong centering */
  justify-content: center !important;
  align-self: center !important;        /* center within row */
}
.shiny .task-checkbox-button::before {
  content: "" !important;
  position: absolute !important;
  inset: -2px !important;                 /* thin outer ring */
  border-radius: 9999px !important;       /* circle */
  padding: 3px !important;                /* ring thickness */
  background: conic-gradient(
    from 0deg,
    #ff0000 0%, #ff8000 8.33%,
    #ffff00 16.66%, #80ff00 25%,
    #00ff00 33.33%, #00ff80 41.66%,
    #00ffff 50%, #0080ff 58.33%,
    #0000ff 66.66%, #8000ff 75%,
    #ff00ff 83.33%, #ff0080 91.66%,
    #ff0000 100%
  ) !important;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  -webkit-mask-composite: xor !important;
          mask-composite: exclude !important;
  animation: none !important; /* borde fijo, sin animación */
  pointer-events: none !important;
  z-index: 1 !important;
}
.shiny .task-checkbox-button::after {
  content: "" !important;
  position: absolute !important;
  inset: 2px !important;                 /* larger black disk to fully overpaint inner edge */
  border-radius: 9999px !important;
  background: #000000 !important;        /* solid black center */
  pointer-events: none !important;
  z-index: 2 !important;                 /* ensure it covers any inner gradient */
  /* White border between black center and multicolor ring */
  box-shadow: 0 0 0 2px #ffffff !important;
}
.shiny .task-checkbox-button.completed {
  /* White background with black check when completed */
  background: #ffffff !important;
  color: #000000 !important;
}
.shiny .task-checkbox-button.completed::after {
  /* White center when completed instead of black */
  background: #ffffff !important;
}
.shiny .task-checkbox-button.completed svg {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: #000000 !important;
}
/* No neon filters for any icons inside (future-proof) */
.shiny .task-checkbox-button svg { 
  filter: none !important; 
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Force black color for completed task icons in Shiny theme */
.shiny .task-checkbox-button.completed .lucide-check {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: #000000 !important;
}

/* Hide any decorative divider under the header in Shiny */
.shiny .tareas-header .shiny-divider-bottom {
  display: none !important;
}
/* Rainbow inferior del header (colores idénticos al FAB ring) */
.shiny .tareas-header .shiny-divider-bottom {
  position: absolute;
  left: -1px; /* extend to border edge */
  right: -1px;
  bottom: -1px; /* sit on top of the border edge */
  height: 2px;
  background: linear-gradient(90deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%);
  background-size: 300% 100%;
  animation: rainbow-move 6s linear infinite; /* movimiento conservando colores */
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.35)) drop-shadow(0 0 10px rgba(255,0,255,0.25));
  pointer-events: none;
}
/* White light sweep over the bottom neon line */
.shiny .tareas-header .shiny-divider-bottom::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.85), transparent);
  mix-blend-mode: screen;
  animation: shine-sweep 3s linear infinite; /* gentle sweep */
  pointer-events: none;
}

/* === Shiny: Footer 4 categorías (blanco/negro/multicolor, sin grises) === */
.shiny .shiny-task-card .shiny-footer-btn {
  position: relative;
  background: #000 !important; /* negro puro por default */
  color: #fff !important;
}
.shiny .shiny-task-card .shiny-footer-btn svg { color: currentColor; }

/* Variante blanca explícita */
.shiny .shiny-task-card .shiny-footer-btn.is-white {
  background: #fff !important;
  color: #000 !important;
}

/* Variante multicolor: mismo gradiente del FAB ring */
.shiny .shiny-task-card .shiny-footer-btn.is-multi::before {
  content: "";
  position: absolute;
  inset: 0;
  background: conic-gradient(from 0deg,
    #ff004c 0%, #ff7a00 14.2857%, #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%, #ff00ff 85.7142%, #ff004c 100%);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude; /* mostrar como borde */
  padding: 2px; /* grosor del borde */
  border-radius: 12px;
  pointer-events: none;
  animation: rainbow-move 6s linear infinite;
}

/* Paneles de picker en shiny: sin grises */
.shiny .shiny-task-card .picker-panel {
  background: #000 !important;
  color: #fff !important;
  border-color: transparent !important;
}
/* Variante blanca si el usuario usa tema claro dentro de shiny */
.light .shiny .shiny-task-card .picker-panel,
.shiny.light .shiny-task-card .picker-panel {
  background: #fff !important;
  color: #000 !important;
}

/* Botones de días de repetición: blanco/negro, sin grises */
.shiny .shiny-task-card .repeat-day-btn {
  background: #000 !important;
  color: #fff !important;
  border: 1px solid #fff !important;
}
.shiny .shiny-task-card .repeat-day-btn.is-on {
  background: #fff !important;
  color: #000 !important;
  border-color: #000 !important;
}

/* Botones de tags: borde multicolor cuando no están activos; blanco/negro cuando están activos */
.shiny .shiny-task-card .tag-btn {
  position: relative;
  background: #000 !important;
  color: #fff !important;
  border: 1px solid transparent !important;
}
.shiny .shiny-task-card .tag-btn::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 2px;
  background: conic-gradient(from 0deg,
    #ff004c 0%, #ff7a00 14.2857%, #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%, #ff00ff 85.7142%, #ff004c 100%);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  border-radius: 10px;
  pointer-events: none;
  animation: rainbow-move 6s linear infinite;
}
.shiny .shiny-task-card .tag-btn.is-on {
  background: #fff !important;
  color: #000 !important;
}
.shiny .shiny-task-card .tag-btn.is-on::before {
  background: none;
}
.shiny .tareas-header .shiny-divider-top {
  position: absolute;
  left: -1px;
  right: -1px;
  top: -1px;
  height: 2px;
  /* Neon ROYGBIV */
  background: linear-gradient(90deg,
    #ff004c, /* red */
    #ff7a00, /* orange */
    #ffe600, /* yellow */
    #00ff66, /* green */
    #00c2ff, /* blue */
    #6a00ff, /* indigo */
    #ffffff  /* white */
  );
  background-size: 300% 100%;
  animation: rainbow-move 6s linear infinite; /* slower */
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.35)) drop-shadow(0 0 10px rgba(255,0,255,0.25));
  pointer-events: none;
}
/* White light sweep over the top neon line */
.shiny .tareas-header .shiny-divider-top::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.85), transparent);
  mix-blend-mode: screen;
  animation: shine-sweep 3s linear infinite; /* gentle sweep */
  pointer-events: none;
}

/* Shiny: neon multicolor glow for task shapes */
.shiny .task-shape-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.shiny .task-shape-wrapper::before { content: ""; position: absolute; inset: 1px; border-radius: 3px; display: none; }
.shiny .task-shape-wrapper::after { display: none; }

/* Default: hide animated strokes for other themes */
.steeb-stroke { display: none; }

/* Shiny: DISABLE the SVG gradient stroke, use white border instead */
.shiny .steeb-stroke { display: none !important; }

/* Control de rellenos para las formas */
.shape-fill-rainbow9 { display: none; }
.shape-fill-current { display: inline; }
/* En modo Shiny: usar relleno rosa con borde blanco */
.shiny .shape-fill-rainbow9 { display: none !important; }
.shiny .shape-fill-current { display: inline; }

/* Estilos específicos para formas en modo Shiny: borde blanco y relleno fucsia */
.shiny .task-shape-wrapper svg { 
  color: #ff1493 !important; /* Fucsia más intenso */
  stroke: white !important;
  stroke-width: 2px !important;
  fill: #ff1493 !important;
}

.shiny .task-shape-wrapper svg path,
.shiny .task-shape-wrapper svg circle {
  fill: currentColor !important;
}
/* Colores por forma en Shiny - Activado con nuevos colores */
.shiny .task-shape-wrapper svg.shape-triangle { color: #00bfff !important; }  /* Celeste fuerte */
.shiny .task-shape-wrapper svg.shape-square   { color: #ff69b4 !important; }  /* Rosa */
.shiny .task-shape-wrapper svg.shape-circle   { color: #ffe600 !important; }  
.shiny .task-shape-wrapper svg.shape-diamond  { color: #00ff66 !important; }  
.shiny .task-shape-wrapper svg.shape-hexagon  { color: #00c2ff !important; }  
.shiny .task-shape-wrapper svg.shape-spade    { color: #0000ff !important; }  
.shiny .task-shape-wrapper svg.shape-club     { color: #ff00ff !important; }  
.shiny .task-shape-wrapper svg.shape-heart    { color: #ffff00 !important; }  /* Amarillo */
.shiny .task-shape-wrapper svg.shape-question { color: #8b00ff !important; }

/* Subtle white shine pulse for task icons (applied on wrapper or SVG) */
.shiny .task-shine svg {
  animation: steeb-white-shine 2.2s ease-in-out infinite;
}

/* ========== ESTADÍSTICAS SHINY MODE ========== */
/* Contenedor principal de estadísticas con borde multicolor animado */
.shiny .productivity-stats {
  position: relative;
}

.shiny .productivity-stats::before {
  content: "";
  position: absolute;
  inset: -3px;
  border-radius: 12px;
  padding: 3px;
  background: conic-gradient(
    from 0deg,
    #FF0000 0%, #FFA500 11.11%,
    #FFFF00 22.22%, #00FF00 33.33%,
    #00BFFF 44.44%, #0000FF 55.55%,
    #EE82EE 66.66%, #4B0082 77.77%,
    #FFC0CB 88.88%, #FF0000 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  animation: none;
  z-index: -1;
  pointer-events: none;
}

/* Dark mode: DISABLE pseudo-elements that interfere with chart visibility */
.dark .productivity-stats::before,
.dark .productivity-stats::after {
  display: none !important;
  content: none !important;
}

/* Tarjetas de estadísticas con bordes multicolor */
.shiny .productivity-stats > div:not(.mt-10):not(.mt-8):not(.mt-4) {
  position: relative;
  border-radius: 12px;
}

.shiny .productivity-stats > div:not(.mt-10):not(.mt-8):not(.mt-4)::before {
  content: "";
  position: absolute;
  inset: -1px;
  padding: 1px;
  background: linear-gradient(90deg, #ff1493, #00bfff, #32cd32, #ffd700, #ff69b4, #ff1493);
  background-size: 300% 300%;
  border-radius: inherit;
  animation: none;
  z-index: -1;
}

/* Objetivo del mes con borde multicolor especial */
.shiny .productivity-stats .border-black {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, 
              linear-gradient(45deg, #ff0088, #8800ff, #0088ff, #00ff88) border-box !important;
  animation: none;
}

.shiny .productivity-stats .dark\:border-white {
  border: 2px solid transparent !important;
  background: linear-gradient(black, black) padding-box, 
              linear-gradient(45deg, #ff0088, #8800ff, #0088ff, #00ff88) border-box !important;
  animation: none;
}

/* Selector de período con borde multicolor */
.shiny .productivity-stats .border-black.rounded-full,
.shiny .productivity-stats .dark\:border-white.rounded-full {
  border: 2px solid transparent !important;
  background: linear-gradient(white, white) padding-box, 
              linear-gradient(90deg, #ff1493, #00bfff, #32cd32, #ffd700) border-box !important;
  animation: none;
}

/* Historial de objetivos con bordes suaves multicolor */
.shiny .productivity-stats .border-gray-200,
.shiny .productivity-stats .dark\:border-gray-700 {
  border: 1px solid transparent !important;
  background: linear-gradient(white, white) padding-box, 
              linear-gradient(135deg, #ff69b4, #87ceeb, #98fb98) border-box !important;
}

/* Números principales con efectos de color */
.shiny .productivity-stats .text-\[56px\],
.shiny .productivity-stats .sm\:text-\[100px\] {
  color: #000000 !important;
  text-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
}

/* Texto secundario con colores vibrantes */
.shiny .productivity-stats .text-base,
.shiny .productivity-stats .sm\:text-xl {
  color: #000000 !important;
  text-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
}

/* Dark mode: REMOVE text shadows that interfere with visibility */
.dark .productivity-stats * {
  text-shadow: none !important;
  filter: none !important;
  -webkit-filter: none !important;
}

/* Título ESTADÍSTICAS con efecto arcoíris */
.shiny .productivity-stats h1 {
  background: linear-gradient(90deg, #ff0088, #8800ff, #0088ff, #00ff88, #ffff00, #ff8800, #ff0088);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: rainbow-text-fast 2s linear infinite;
  text-shadow: 0 0 30px rgba(255, 0, 136, 0.5);
}

/* Botones del selector de período con efectos hover */
.shiny .productivity-stats button {
  transition: all 0.3s ease;
}

.shiny .productivity-stats button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255, 20, 147, 0.6);
}

/* Bordes multicolor para elementos específicos seleccionados */
.shiny [data-lov-id="src\\components\\TaskFrequencyChart.tsx:142:4"] {
  position: relative !important;
  background: #000000 !important; /* fondo oscuro para Shiny */
  border: 1px solid transparent !important;
  background-clip: padding-box !important;
  color: #ffffff !important; /* texto blanco */
}
.shiny [data-lov-id="src\\components\\TaskFrequencyChart.tsx:142:4"] * {
  color: #ffffff !important; /* forzar texto blanco dentro del contenedor */
  text-shadow: 0 0 8px rgba(255,255,255,0.25);
}
.shiny [data-lov-id="src\\components\\TaskFrequencyChart.tsx:142:4"]::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  border-radius: inherit !important;
  padding: 2px !important;
  background: conic-gradient(
    from 0deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%
  ) !important;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: none !important;
  pointer-events: none !important;
}

.shiny [data-lov-name="div"][data-component-path="src\components\ProductivityStatsConnected.tsx"][data-component-line="501"] {
  border: 3px solid transparent !important;
  background: linear-gradient(white, white) padding-box, 
              linear-gradient(90deg, #ff1493, #00bfff, #32cd32, #ffd700, #ff69b4, #87ceeb) border-box !important;
  animation: none;
}
/* Texto blanco dentro del selector de período (borde negro) en Shiny */
.shiny [data-lov-name="div"][data-component-path="src\components\ProductivityStatsConnected.tsx"][data-component-line="501"],
.shiny [data-lov-name="div"][data-component-path="src\components\ProductivityStatsConnected.tsx"][data-component-line="501"] * {
  color: #ffffff !important;
  text-shadow: 0 0 8px rgba(255,255,255,0.35);
}

/* Texto blanco para textarea específico */
.shiny [data-lov-name="textarea"][data-component-path="src\components\ProductivityStatsConnected.tsx"] {
  color: white !important;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* Texto blanco para textarea del usuario (objetivo mensual) */
.shiny .user-goal-textarea {
  color: #ffffff !important;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  -webkit-text-stroke: 1px #000000;
  text-stroke: 1px #000000;
}

/* Asegurar que el textarea siempre sea blanco */
.user-goal-textarea {
  color: #ffffff !important;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  -webkit-text-stroke: 1px #000000;
  text-stroke: 1px #000000;
}

/* Texto negro para div específico */
.shiny [data-lov-name="motion.div"][data-component-path="src\components\ProductivityStatsConnected.tsx"][data-component-line="488"] {
  color: black !important;
  font-weight: bold;
  text-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

/* Texto negro para h1 ESTADÍSTICAS en versión shiny */
.shiny .productivity-stats [data-lov-name="h1"][data-component-path="src\components\ProductivityStatsConnected.tsx"] {
  color: black !important;
  text-shadow: none !important;
  -webkit-text-fill-color: black !important;
  -webkit-background-clip: unset !important;
  background-clip: unset !important;
  background: unset !important;
  animation: none !important;
}

/* Animaciones para bordes multicolor */
@keyframes rainbow-border {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes rainbow-border-static {
  0% { filter: hue-rotate(0deg) brightness(1); }
  25% { filter: hue-rotate(90deg) brightness(1.1); }
  50% { filter: hue-rotate(180deg) brightness(1.2); }
  75% { filter: hue-rotate(270deg) brightness(1.1); }
  100% { filter: hue-rotate(360deg) brightness(1); }
}

@keyframes rainbow-text {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes rainbow-text-fast {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes steeb-white-shine {
  0%, 100% { filter: drop-shadow(0 0 0px rgba(255,255,255,0)); }
  50% { filter: drop-shadow(0 0 6px rgba(255,255,255,0.95)); }
}

/* Shiny: borde multicolor fijo para el card del gráfico de frecuencias (interior blanco) */
.shiny .shiny-stats-chart-card {
  position: relative !important;
  border: 2px solid transparent !important;
  background: #000000 !important;
  background-clip: padding-box !important;
}

.shiny .shiny-stats-chart-card::before {
  content: '' !important;
  position: absolute !important;
  inset: 0 !important;
  border-radius: inherit !important;
  padding: 2px !important;
  background: conic-gradient(from 0deg, #ff004c, #ff7a00, #ffe600, #00ff66, #00c2ff, #8b00ff, #ff00ff, #ff004c) !important;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0) !important;
  -webkit-mask-composite: xor !important;
  mask-composite: exclude !important;
  pointer-events: none !important;
}

.shiny .shiny-period-buttons {
  position: relative !important;
  background: black !important;
  padding: 2px !important;
  border-radius: 9999px !important;
  background-clip: padding-box !important;
}

.shiny .shiny-period-buttons::before {
  content: '' !important;
  position: absolute !important;
  inset: -2px !important;
  border-radius: inherit !important;
  background: conic-gradient(from 0deg, #ff004c, #ff7a00, #ffe600, #00ff66, #00c2ff, #8b00ff, #ff00ff, #ff004c) !important;
  z-index: -1 !important;
  pointer-events: none !important;
}



/* Animate only the gradient angle (supported via @property registration) */
@property --angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}
@keyframes spinColors {
  to { --angle: 360deg; }
}
.shiny .task-shape-wrapper > svg,
.shiny .task-shape-wrapper > div {
  position: relative;
  z-index: 2; /* keep icon above glow and sweep */
}

/* Shiny: boost opacity of shape-following neon stroke */
.shiny .has-neon-stroke .neon-stroke {
  opacity: 0.9; /* brighter stroke */
}

/* (removed) side-rainbow-move keyframes no longer needed */

/* Shiny: animated multicolor border wrapper for task icons */
.shiny .task-shape-border {
  position: relative !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}
.shiny .task-shape-border::before {
  content: "";
  position: absolute;
  inset: -2px; /* border thickness */
  border-radius: inherit;
  padding: 2px; /* ring thickness */
  background: linear-gradient(90deg,
    #6366f1, /* indigo */
    #ffffff, /* white */
    #ffffff, /* white */
    #d946ef, /* fuchsia */
    #ec4899, /* pink */
    #f97316, /* orange */
    #eab308, /* yellow */
    #22c55e, /* green */
    #06b6d4  /* cyan */
  );
  background-size: 300% 100%;
  animation: rainbow-move 8s ease-in-out infinite; /* smoother motion */
  will-change: background-position !important;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude; /* show as border only */
  pointer-events: none;
  filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.3));
}
.shiny .task-shape-border::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.85), transparent);
  opacity: 0.5; /* gentle white sweep */
  mix-blend-mode: screen;
  animation: shine-sweep 3.2s ease-in-out infinite;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
}

/* Base STEEB speech bubble */
.steeb-bubble {
  background: #ffffff !important; /* White background */
  color: #000 !important;
  border: 1px solid #e5e7eb !important; /* Light gray border */
}

/* Shiny: STEEB speech bubble with animated border and white shine */
.shiny .steeb-bubble {
  background: #000 !important;
  color: #fff !important;
  position: relative;
}
.shiny .steeb-bubble > *,
.shiny .steeb-bubble div,
.shiny .steeb-bubble p,
.shiny .steeb-bubble span {
  background-color: transparent !important; /* let black container show */
  color: #fff !important;
}
.shiny .steeb-bubble::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  padding: 2px; /* thicker elegant ring */
  background: linear-gradient(
    90deg,
    #ff004c,
    #ff7a00,
    #ffe600,
    #00ff66,
    #00c2ff,
    #8b00ff,
    #ff00ff,
    #ff004c
  );
  background-size: 300% 100%;
  animation: rainbow-move 8s linear infinite; /* faster left-to-right sweep */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
  filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.4)) drop-shadow(0 0 15px rgba(168, 85, 247, 0.3));
}
.shiny .steeb-bubble::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.95), transparent);
  opacity: 0.8; /* brighter white sweep */
  mix-blend-mode: screen;
  animation: shine-sweep 2.2s linear infinite; /* slightly faster */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
}

/* Dark mode: apply the same neon bubble without requiring a .shiny parent */
.dark .steeb-bubble {
  background: #000 !important;
  color: #fff !important;
  position: relative;
}
.dark .steeb-bubble div,
.dark .steeb-bubble p {
  color: #fff !important;
}
.dark .steeb-bubble::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  padding: 2px; /* thicker elegant ring */
  background: linear-gradient(
    90deg,
    #ff004c,
    #ff7a00,
    #ffe600,
    #00ff66,
    #00c2ff,
    #8b00ff,
    #ff00ff,
    #ff004c
  );
  background-size: 300% 100%;
  animation: rainbow-move 8s linear infinite; /* faster left-to-right sweep */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
  filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.4)) drop-shadow(0 0 15px rgba(168, 85, 247, 0.3));
}
.dark .steeb-bubble::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.95), transparent);
  opacity: 0.8; /* brighter white sweep */
  mix-blend-mode: screen;
  animation: shine-sweep 2.2s linear infinite; /* slightly faster */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
}

/* Dark mode: STEEB speech bubble - simplified for visibility */
.dark .steeb-bubble {
  background: #000000 !important;
  color: #ffffff !important;
  border: 2px solid #ffffff !important;
  border-radius: 12px !important;
}
.dark .steeb-bubble div,
.dark .steeb-bubble p,
.dark .steeb-bubble span {
  color: #ffffff !important;
  background: transparent !important;
}
.dark .steeb-bubble::before,
.dark .steeb-bubble::after {
  display: none !important;
  content: none !important;
}

/* Dark mode: Ensure SteveAvatar (STEEB icon) is visible */
.dark [class*="steve-avatar"],
.dark [class*="SteveAvatar"] {
  background: transparent !important;
  border: 2px solid #ffffff !important;
  border-radius: 50% !important;
}
.dark [class*="steve-avatar"] img,
.dark [class*="SteveAvatar"] img {
  opacity: 1 !important;
  filter: brightness(1) !important;
}

/* Dark mode: Ensure Floating Action Button (FAB) is visible - MAXIMUM PRIORITY */
.dark .shiny-fab,
html.dark .shiny-fab,
.dark button.shiny-fab,
.dark .fixed.bottom-8.left-0.right-0 .flex button,
.dark [class*="shiny-fab"],
.dark .fixed.bottom-8 button:not([class*="calendar"]) {
  background: #ffffff !important;
  background-color: #ffffff !important;
  border: 3px solid #ffffff !important;
  color: #000000 !important;
  box-shadow: 0 0 0 3px #000000, 0 0 0 6px #ffffff !important;
}

/* Dark mode: Override any inline styles or other rules */
.dark .shiny-fab[style*="background"],
.dark .shiny-fab[style*="bg"] {
  background: #ffffff !important;
  background-color: #ffffff !important;
}
.dark .shiny-fab svg {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: #000000 !important;
}

/* Dark mode: Plus sign in FAB - black on white background */
.dark .shiny-fab svg.lucide-plus,
.dark .shiny-fab svg path,
.dark .shiny-fab svg line {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: #000000 !important;
}

.dark .shiny-fab::before {
  display: none !important;
}

/* Dark mode: SPECIFIC fix for floating action button only */
.dark .fixed.bottom-8 button.w-16.h-16.rounded-full,
.dark .fixed.bottom-8 button.w-20.h-20.rounded-full {
  background-color: #ffffff !important;
  background: #ffffff !important;
  border: 3px solid #ffffff !important;
  box-shadow: 0 0 0 2px #000000, 0 4px 12px rgba(0,0,0,0.3) !important;
}

/* Dark mode: Force Plus icon to be BLACK and VISIBLE - SPECIFIC SELECTORS */
.dark .fixed.bottom-8 button svg.lucide-plus,
.dark .fixed.bottom-8 button svg.lucide-plus *,
.dark .fixed.bottom-8 button svg path[d*="M12 5v14"],
.dark .fixed.bottom-8 button svg line[d*="M5 12h14"] {
  stroke: #000000 !important;
  color: #000000 !important;
  fill: #000000 !important;
  filter: brightness(0) !important;
  opacity: 1 !important;
  visibility: visible !important;
  stroke-width: 3 !important;
}

/* Dark mode: Preserve eye and checkbox icons - DO NOT override */
.dark button svg.lucide-eye,
.dark button svg.lucide-eye-off,
.dark .task-checkbox-button svg,
.dark .task-checkbox-button svg * {
  stroke: #ffffff !important;
  color: #ffffff !important;
  fill: none !important;
}

/* Theme toggle switches: Now handled in switch.tsx - always black with white thumb */

/* Dark mode: Floating menu icons - Use natural Lucide rendering */

/* Dark mode: Ensure all interactive elements are visible */
.dark button:not([class*="period"]):not(.shiny-period-buttons *) {
  background-color: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #ffffff !important;
}
.dark button:hover:not([class*="period"]):not(.shiny-period-buttons *) {
  background-color: #333333 !important;
}
.dark button svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Dark mode: Task cards visibility */
.dark .task-card,
.dark [class*="task"] {
  background-color: #000000 !important;
  border: 1px solid #ffffff !important;
  color: #ffffff !important;
}
.dark .task-card *,
.dark [class*="task"] * {
  color: inherit !important;
}

/* Dark mode: Remove borders from task shapes */
.dark .steeb-stroke {
  display: none !important;
}

/* Dark mode: Remove borders from all SVG paths in task shapes */
.dark .task-shape-wrapper svg path,
.dark .task-shape-wrapper svg circle,
.dark .task-shape-wrapper svg g {
  stroke: none !important;
}

/* Dark mode: Remove ALL possible borders from task shapes - SUPER AGGRESSIVE */
.dark .task-shape-wrapper svg * {
  stroke: none !important;
  stroke-width: 0 !important;
  border: none !important;
  outline: none !important;
  filter: none !important;
}

/* Dark mode: Remove borders from ALL shapes everywhere - EMERGENCY FIX */
.dark svg {
  stroke: none !important;
  stroke-width: 0 !important;
  border: none !important;
  outline: none !important;
}

/* Dark mode: Remove borders from ALL geometric shapes */
.dark .shape-circle,
.dark .shape-square,
.dark .shape-triangle,
.dark .shape-diamond,
.dark .shape-heart,
.dark .shape-hexagon,
.dark .shape-spade,
.dark .shape-club {
  stroke: none !important;
  stroke-width: 0 !important;
  border: none !important;
  outline: none !important;
}

/* Dark mode: Remove borders from ALL task shape wrappers */
.dark .task-shape-wrapper,
.dark .task-shape-wrapper *,
.dark [class*="shape-icon"],
.dark [class*="ShapeIcon"],
.dark [class*="shape-icon"] *,
.dark [class*="ShapeIcon"] * {
  stroke: none !important;
  stroke-width: 0 !important;
  border: none !important;
  outline: none !important;
}

/* Dark mode: Remove borders from ShapeIcon component specifically */
.dark [class*="shape-icon"] svg *,
.dark [class*="ShapeIcon"] svg * {
  stroke: none !important;
  stroke-width: 0 !important;
}

/* Dark mode: Remove gradient strokes from task shapes */
.dark .task-shape-wrapper svg [stroke*="url"],
.dark [class*="shape-icon"] svg [stroke*="url"],
.dark [class*="ShapeIcon"] svg [stroke*="url"] {
  stroke: none !important;
}

/* Dark mode: Remove borders from task text */
.dark .task-title,
.dark .task-title *,
.dark [class*="task"] h1,
.dark [class*="task"] h2,
.dark [class*="task"] h3,
.dark [class*="task"] p,
.dark [class*="task"] span {
  text-shadow: none !important;
  -webkit-text-stroke: none !important;
  text-stroke: none !important;
  border: none !important;
  outline: none !important;
}

/* Dark mode: Checkboxes - circle black background */
.dark .task-checkbox-button:not(.completed) {
  background-color: #000000 !important;
  border: 2px solid #ffffff !important;
}

/* Dark mode: Completed checkboxes - white background with black check */
.dark .task-checkbox-button.completed {
  background-color: #ffffff !important;
  border: 2px solid #ffffff !important;
}

.dark .task-checkbox-button.completed svg,
.dark .task-checkbox-button.completed .lucide-check {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: #000000 !important;
}

/* Dark mode: Links and clickable text */
.dark a,
.dark [role="button"],
.dark .cursor-pointer {
  color: #ffffff !important;
}
.dark a:hover,
.dark [role="button"]:hover,
.dark .cursor-pointer:hover {
  color: #cccccc !important;
}

/* Eye icon - black in light mode, white in dark mode */
button svg.lucide-eye,
button svg.lucide-eye-off {
  color: #000000 !important;
  stroke: #000000 !important;
  fill: none !important;
}

/* Dark mode: Eye icon - white borders, no button border - PROPER SHAPE */
.dark .text-gray-500 svg.lucide-eye,
.dark .text-gray-500 svg.lucide-eye-off,
.dark button svg.lucide-eye,
.dark button svg.lucide-eye-off,
.dark div button svg.lucide-eye,
.dark div button svg.lucide-eye-off,
.dark [class*="cursor-pointer"] svg.lucide-eye,
.dark [class*="cursor-pointer"] svg.lucide-eye-off {
  color: #ffffff !important;
  fill: none !important;
  stroke: #ffffff !important;
  stroke-width: 2 !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Dark mode: Force white borders on ALL eye icons - NO BUTTON BORDER */
.dark svg.lucide-eye,
.dark svg.lucide-eye-off {
  color: #ffffff !important;
  fill: none !important;
  stroke: #ffffff !important;
  stroke-width: 2 !important;
}

/* Dark mode: Remove borders from button containing eye icon - SUPER AGGRESSIVE */
.dark button svg.lucide-eye,
.dark button svg.lucide-eye-off,
.dark .text-gray-500 button,
.dark button:has(svg.lucide-eye),
.dark button:has(svg.lucide-eye-off) {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background-color: transparent !important;
}

/* Dark mode: Target the specific button container */
.dark .flex.justify-start.mb-4 button,
.dark div button svg.lucide-eye,
.dark div button svg.lucide-eye-off {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Dark mode: Cross (X) buttons - white color - SUPER AGGRESSIVE */
.dark button svg.lucide-x,
.dark button svg[class*="x"],
.dark button svg[class*="close"],
.dark button svg[class*="X"],
.dark button svg[class*="Close"],
.dark button svg,
.dark button svg *,
.dark [class*="button"] svg,
.dark [class*="modal"] button svg,
.dark [class*="dialog"] button svg,
.dark button svg path,
.dark button svg line,
.dark button svg polyline,
.dark button svg g {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: none !important;
}

/* Dark mode: Force ALL SVG icons in buttons to be white - WITH FILL */
.dark button svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

.dark button svg * {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Dark mode: Cross specifically - solid white fill - TARGETING text-gray-500 */
.dark .text-gray-500 svg.lucide-x,
.dark .text-gray-500 svg[class*="x"],
.dark .text-gray-500 svg[class*="close"],
.dark button svg.lucide-x,
.dark button svg[class*="x"],
.dark button svg[class*="close"] {
  fill: #ffffff !important;
  stroke: #ffffff !important;
  color: #ffffff !important;
}

.dark .text-gray-500 svg.lucide-x *,
.dark .text-gray-500 svg[class*="x"] *,
.dark .text-gray-500 svg[class*="close"] *,
.dark button svg.lucide-x *,
.dark button svg[class*="x"] *,
.dark button svg[class*="close"] * {
  fill: #ffffff !important;
  stroke: #ffffff !important;
}

/* Estilos específicos para ProductivityStats en versión shiny - igual a versión blanca */
.shiny .productivity-stats {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.shiny .productivity-stats .header {
  background-color: #ffffff !important;
}

.shiny .productivity-stats .steeb-bubble {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  color: #000000 !important;
}

.shiny .productivity-stats .steeb-bubble::after {
  border-right-color: #e5e7eb !important;
}

.shiny .productivity-stats .steeb-bubble::before {
  border-right-color: #ffffff !important;
}

.shiny .productivity-stats .steeb-bubble-text {
  color: #000000 !important;
}

.shiny .productivity-stats .kpi-card {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  color: #000000 !important;
}

.shiny .productivity-stats .kpi-title {
  background: linear-gradient(
    45deg,
    #ff0000, #ff8000, #ffff00, #80ff00,
    #00ff00, #00ff80, #00ffff, #0080ff,
    #0000ff, #8000ff, #ff00ff, #ff0080,
    #ff0000
  ) !important;
  background-size: 800% 800% !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
  -webkit-text-fill-color: transparent !important;
  animation: none !important;
}

.shiny .productivity-stats .kpi-value {
  color: #000000 !important;
}

.shiny .productivity-stats .progress-bar {
  background-color: #f3f4f6 !important;
}

.shiny .productivity-stats .progress-fill {
  background: #000000 !important;
}

.shiny .productivity-stats .chart-container {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
}

.shiny .productivity-stats .chart-title {
  background: linear-gradient(
    45deg,
    #ff0000, #ff8000, #ffff00, #80ff00,
    #00ff00, #00ff80, #00ffff, #0080ff,
    #0000ff, #8000ff, #ff00ff, #ff0080,
    #ff0000
  ) !important;
  background-size: 800% 800% !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
  -webkit-text-fill-color: transparent !important;
  animation: none !important;
}

.shiny .productivity-stats .stats-card {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  color: #000000 !important;
}

.shiny .productivity-stats .stats-title {
  background: linear-gradient(
    45deg,
    #ff0000, #ff8000, #ffff00, #80ff00,
    #00ff00, #00ff80, #00ffff, #0080ff,
    #0000ff, #8000ff, #ff00ff, #ff0080,
    #ff0000
  ) !important;
  background-size: 800% 800% !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
  -webkit-text-fill-color: transparent !important;
  animation: none !important;
}

.shiny .productivity-stats .donut-background {
  stroke: #f3f4f6 !important;
}

.shiny .productivity-stats .donut-progress {
  stroke: #3b82f6 !important;
}

.shiny .productivity-stats .donut-text {
  color: #000000 !important;
}

.shiny .productivity-stats .stats-progress {
  background-color: #f3f4f6 !important;
}

.shiny .productivity-stats .stats-progress-fill {
  background: #000000 !important;
}

.shiny .productivity-stats .streak-bar {
  background: #000000 !important;
}

.shiny .productivity-stats .streak-labels {
  color: #6b7280 !important;
}

.shiny .productivity-stats .chart-line {
  stroke: #3b82f6 !important;
}

.shiny .productivity-stats .chart-point {
  fill: #3b82f6 !important;
}

.shiny .productivity-stats .chart-grid {
  stroke: #f3f4f6 !important;
}

.shiny .productivity-stats .chart-label {
  fill: #6b7280 !important;
}

/* Estilos para gráficos Recharts en versión shiny */
.shiny .recharts-cartesian-grid-horizontal line,
.shiny .recharts-cartesian-grid-vertical line {
  stroke: #333333 !important;
}

.shiny .recharts-bar-rectangle {
  fill: #ffffff !important;
}

.shiny .recharts-line-curve {
  stroke: #ffffff !important;
}

.shiny .recharts-tooltip-wrapper {
  background: #000000 !important;
  border: 1px solid #ffffff !important;
  color: #ffffff !important;
}

/* Gradiente SVG para gráficos shiny */
.shiny svg defs linearGradient#shinyGradient stop:nth-child(1) { stop-color: #ff004c; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(2) { stop-color: #ff7a00; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(3) { stop-color: #ffe600; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(4) { stop-color: #00ff66; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(5) { stop-color: #00c2ff; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(6) { stop-color: #ffffff; }
.shiny svg defs linearGradient#shinyGradient stop:nth-child(7) { stop-color: #ffffff; }

/* Shiny: íconos del FAB blancos para consistencia */
.shiny .shiny-fab svg { fill: white !important; }

/* Shiny: task title white */
.shiny h3.mb-1 { color: white !important; }

/* Shiny: rainbow border for Task Creation card (match FAB ring) */
.shiny .shiny-task-card {
  position: relative !important;
  border: none !important; /* override any solid border */
}
.shiny .shiny-task-card::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;                  /* draw ring inside bounds */
  border-radius: inherit !important;     /* match card rounded corners */
  padding: 3px !important;               /* ring thickness (match FAB) */
  background: conic-gradient(
    from 0deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;       /* show as border only */
  animation: hueShift 8s linear infinite !important; /* colors move, element stays still */
  will-change: filter !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

@keyframes hueShift {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}
.shiny .shiny-task-card::after { content: none !important; }

/* Shiny: rainbow separators inside TaskCreationCard */
.shiny .shiny-task-card .task-card-header {
  border-color: transparent !important; /* hide default gray divider */
}
.shiny .shiny-task-card .shiny-divider-h {
  display: block !important;
  height: 2px;
  position: relative;
  border-radius: 9999px;
  background: linear-gradient(90deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%);
  animation: rainbow-move 6s linear infinite;
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.35));
  pointer-events: none;
}
.shiny .shiny-task-card .shiny-v-lines { display: block !important; }
.shiny .shiny-task-card .shiny-divider-v {
  width: 1px;
  background: linear-gradient(180deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%);
  animation: rainbow-move 6s linear infinite;
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.35));
  pointer-events: none;
}

/* Shiny: rainbow border for MonthlyCalendar (match FAB ring) */
.shiny .shiny-calendar-card {
  position: relative !important;
  border: none !important;
  background: #000 !important; /* black canvas in shiny */
  color: #fff !important;
}
.shiny .shiny-calendar-card::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  border-radius: inherit !important;
  padding: 3px !important; /* same thickness as TaskCreationCard */
  background: conic-gradient(
    from 0deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  animation: rainbow-move 6s linear infinite;
  pointer-events: none !important;
  z-index: 1 !important;
}
.shiny .shiny-calendar-card::after { content: none !important; }

/* STEEB label small, only visible in Shiny */
.shiny .shiny-calendar-card .shiny-steeb-label {
  display: inline-block !important;
  color: #fff !important;
  opacity: 0.9;
}
/* Hide label outside shiny */
.shiny-steeb-label { display: none; }

/* Calendar inner texts in Shiny: ensure white text, black bg, no grays */
.shiny .shiny-calendar-card .text-black { color: #fff !important; }
.shiny .shiny-calendar-card .hover\:bg-gray-100 { background: transparent !important; }
.shiny .shiny-calendar-card .text-gray-400,
.shiny .shiny-calendar-card .text-gray-500,
.shiny .shiny-calendar-card .text-gray-600 { color: #fff !important; opacity: 0.8; }
.shiny .shiny-calendar-card .text-gray-700 { color: #fff !important; }
.shiny .shiny-calendar-card .dark\:text-gray-300 { color: #fff !important; }
.shiny .shiny-calendar-card .bg-gray-100 { background-color: #333 !important; }
.shiny .shiny-calendar-card .bg-gray-800 { background-color: #fff !important; }
.shiny .shiny-calendar-card .dark\:bg-gray-700 { background-color: #444 !important; }
.shiny .shiny-calendar-card .dark\:bg-white { background-color: #000 !important; }
/* Shiny overrides aligned with white borders in dark mode */
  .shiny .shiny-calendar-card .border-gray-300 { border-color: #FFFFFF !important; }
  .shiny .shiny-calendar-card .border-gray-600 { border-color: #FFFFFF !important; }
  .shiny .shiny-calendar-card .dark\:border-gray-600 { border-color: #FFFFFF !important; }
  .shiny .shiny-calendar-card .dark\:border-gray-300 { border-color: #FFFFFF !important; }
.shiny .shiny-calendar-card .ring-black { --tw-ring-color: #fff !important; }
.shiny .shiny-calendar-card .bg-black { background-color: #000 !important; }
.shiny .shiny-calendar-card .text-white { color: #fff !important; }

/* Forzar círculos negros con texto blanco en todos los modos */
.shiny-calendar-card .bg-black { background-color: #000 !important; }
.shiny-calendar-card .dark\:bg-black { background-color: #000 !important; }
.shiny-calendar-card .text-white { color: #fff !important; }
.shiny-calendar-card .dark\:text-white { color: #fff !important; }
.shiny-calendar-card .border-black { border-color: #000 !important; }
.shiny-calendar-card .dark\:border-black { border-color: #000 !important; }

/* Hide any decorative divider under the header in Shiny */
.shiny .tareas-header .shiny-divider-bottom {
  display: none !important;
}
/* Rainbow inferior del header (colores idénticos al FAB ring) */
.shiny .tareas-header .shiny-divider-bottom {
  position: absolute;
  left: -1px; /* extend to border edge */
  right: -1px;
  bottom: -1px; /* sit on top of the border edge */
  height: 2px;
  background: linear-gradient(90deg,
    #ff004c 0%, #ff7a00 14.2857%,
    #ffe600 28.5714%, #00ff66 42.8571%,
    #00c2ff 57.1428%, #8b00ff 71.4285%,
    #ff00ff 85.7142%, #ff004c 100%);
  background-size: 300% 100%;
  animation: rainbow-move 6s linear infinite; /* movimiento conservando colores */
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.35)) drop-shadow(0 0 10px rgba(255,0,255,0.25));
  pointer-events: none;
}
/* White light sweep over the bottom neon line */
.shiny .tareas-header .shiny-divider-bottom::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.85), transparent);
  mix-blend-mode: screen;
  animation: shine-sweep 3s linear infinite; /* gentle sweep */
  pointer-events: none;
}

/* ===================================================== */
/* ALANS TECHNICAL FIX: X icons visibility in dark mode */
/* ===================================================== */

/* Dark mode: Fix X Circle/X icons specifically - HIGH SPECIFICITY */
.dark button[data-state="closed"] svg,
.dark button[variant="ghost"] svg,
.dark .inline-flex.items-center.justify-center.whitespace-nowrap.rounded-md.text-sm.font-medium.transition-colors svg,
.dark button[class*="ghost"] svg,
.dark button[class*="variant"] svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Dark mode: Target Lucide XCircle and X icons specifically */
.dark .lucide-x-circle,
.dark .lucide-x,
.dark svg[viewBox="0 0 24 24"] g[stroke*="current"],
.dark button svg:not(.lucide-eye):not(.lucide-eye-off) {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Dark mode: Maximum specificity for X icons in all contexts - FINAL SOLUTION */
html.dark button svg.lucide-x-circle,
html.dark button svg.lucide-x,
html.dark .dark button svg[class*="x"],
html.dark .dark button svg[class*="X"],
.dark button svg[viewBox*="24"] path[d*="M18 6L6 18M6 6l12 12"] {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: none !important;
  stroke-width: 2 !important;
}

/* Dark mode: Ultra-specific targeting for XCircle and close buttons */
.dark .bg-transparent.hover\:bg-gray-100 svg,
.dark .hover\:bg-gray-100 button svg,
.dark [data-radix-collection-item] svg.lucide-x,
.dark .absolute.top-2.right-2 button svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Hide white rect backgrounds from lucide-react SVG icons in dark mode */
.dark .absolute.-top-\[140px\] button svg rect,
.dark .floating-border button svg rect {
  fill: none !important;
  stroke: none !important;
  pointer-events: none !important;
}

/* Ensure fill is set to white for the icons */
.dark .absolute.-top-\[140px\] button svg {
  fill: #ffffff !important;
}

/* White mode: Goal input textarea with strong black border */
.goal-input {
  border: 2px solid #000000 !important;
  border-color: #000000 !important;
}

.dark .goal-input {
  border: 2px solid #ffffff !important;
  border-color: #ffffff !important;
}

/* Monthly goal container with strong black border */
.monthly-goal-container {
  border: 2px solid #000000 !important;
  border-color: #000000 !important;
}

.dark .monthly-goal-container {
  border: 2px solid #ffffff !important;
  border-color: #ffffff !important;
}
